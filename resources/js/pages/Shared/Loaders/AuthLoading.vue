<script setup>
import { ref, onMounted, onUnmounted } from "vue";

defineProps({});

const shouldReplay = ref(false);
let replayInterval = null;

// Method to trigger animation replay
const replayAnimation = () => {
	shouldReplay.value = true;
	// Remove the class after a brief moment to reset for next replay
	setTimeout(() => {
		shouldReplay.value = false;
	}, 100);
};

const onAnimationEnd = () => {
	// Animation completed, ready for next replay
	shouldReplay.value = false;
};

onMounted(() => {
	// Set up interval to replay animation every 3 seconds (since animation is now shorter)
	replayInterval = setInterval(() => {
		replayAnimation();
	}, 3000);
});

onUnmounted(() => {
	// Clean up interval
	if (replayInterval) {
		clearInterval(replayInterval);
	}
});
</script>
<template>
	<div class="flex items-center justify-center text-sm">
		<div class="animated-logo-container">
			<svg class="animated-logo" :class="{ 'replay-animation': shouldReplay }" viewBox="0 0 1350 386.34" xmlns="http://www.w3.org/2000/svg" @animationend="onAnimationEnd">
				<!-- Icon (appears first) -->
				<g class="icon-group">
					<path class="logo-path" d="M88.72,332.63v-2.27c-.95-11.92,3.26-34.13,25.04-45.86,19.76-10.64,24.43-13.2,24.49-13.23l.36-.19s11.04-6.06,11.04-16.02v-57.58c-11.02,6.52-58.37,34.51-76.36,44.2-11.55,6.22-10.37,18.93-10.36,19.06l.08,1.45v55.59l25.71,14.84Z" />
					<path class="logo-path" d="M116.73,328.45l.12.91-.06.36v19.11l32.91,19v-70.85c-2.89,1.57-9.39,5.09-22.63,12.22-11.02,5.93-10.44,17.9-10.34,19.24Z" />
					<path class="logo-path" d="M254.08,199.41c-18-9.69-65.34-37.68-76.36-44.2v59.23c0,9.94,10.93,15.96,11.04,16.02l.36.19c.06.03,4.73,2.59,24.49,13.23,21.78,11.73,25.99,33.94,25.04,45.86v44.18l25.71-14.84v-100.06l.08-.53c.08-1.16.66-13.13-10.35-19.06Z" />
					<path class="logo-path" d="M210.59,288.18l.07-.53c.09-1.16.66-13.13-10.35-19.06-13.11-7.06-19.6-10.57-22.54-12.17v112.64s.02,0,.02-.01l32.8-18.93v-61.93Z" />
					<path
						class="logo-path"
						d="M316.58,83.62L177.79,3.48c-4.02-2.32-8.51-3.48-13-3.48s-8.98,1.16-13,3.48L13,83.62c-8.04,4.64-13,13.23-13,22.52v160.26c0,9.29,4.96,17.87,13,22.52l21.94,12.67v-38.76c-.95-11.92,3.26-34.13,25.04-45.86,19.48-10.49,77.02-44.62,77.6-44.96l.8-.48.86-.37c.28-.13,10.4-4.84,10.4-14.12v-53.5c-6.56-4.53-10.87-12.1-10.87-20.68,0-13.88,11.25-25.13,25.13-25.13s25.13,11.25,25.13,25.13c0,8.77-4.5,16.49-11.32,20.98v10.92c0,9.28,10.12,13.99,10.55,14.19l.86.37.66.41c.58.34,58.12,34.48,77.6,44.96,21.78,11.73,25.99,33.94,25.04,45.86v82.31l24.16-13.95c8.04-4.64,13-13.23,13-22.52V106.13c0-9.29-4.96-17.87-13-22.52Z"
					/>
				</g>

				<!-- Text (appears as a group after icon) -->
				<g class="text-group">
					<!-- R -->
					<path class="logo-path" d="M474.17,111.43h4.97v23.73h-9.38c-14.73,0-26.04,3.91-33.96,11.74-7.91,7.82-11.87,19.09-11.87,33.81v79.77h-26.49V113.08h20.98v44.35c1.88-13.33,6.23-23.68,13.11-30.96,9.48-10.03,23.69-15.04,42.65-15.04Z" />
					<!-- C -->
					<path
						class="logo-path"
						d="M648.34,227.63c-11.78,8.65-26.32,12.97-43.61,12.97-12.33,0-23.1-2.16-32.29-6.48-9.21-4.33-16.89-10.26-23.05-17.81-6.17-7.54-10.77-16.2-13.81-25.95-3.03-9.75-4.56-20.05-4.56-30.91,0-11.41,1.52-21.99,4.56-31.74,3.04-9.75,7.54-18.35,13.53-25.81,5.98-7.45,13.48-13.25,22.49-17.38,9.02-4.14,19.51-6.21,31.47-6.21,11.04,0,21.02,1.84,29.95,5.52,8.92,3.68,16.33,9.24,22.22,16.69,5.88,7.46,9.56,16.89,11.04,28.29h27.6c-1.66-15.27-6.25-28.52-13.8-39.74-7.55-11.22-17.76-19.97-30.64-26.22-12.88-6.25-28.34-9.38-46.37-9.38s-32.85,3.03-45.54,9.11c-12.69,6.07-23.01,14.07-30.91,24.02-7.92,9.93-13.76,20.98-17.53,33.12-3.77,12.15-5.66,24.29-5.66,36.44v6.07c0,11.23,1.84,22.86,5.52,34.92,3.68,12.05,9.48,23.23,17.39,33.54,7.9,10.3,18.35,18.68,31.32,25.12,12.98,6.43,28.66,9.66,47.07,9.66s34.73-3.41,47.89-10.21,23.46-15.91,30.91-27.33c7.46-11.41,12.1-24.02,13.94-37.81h-27.6c-2.58,16.38-9.76,28.89-21.53,37.54Z"
					/>
					<!-- O -->
					<path
						class="logo-path"
						d="M866.13,156.55c-3.5-9.11-8.66-17.3-15.46-24.57-6.81-7.26-15.09-13.06-24.85-17.38-9.76-4.33-20.89-6.49-33.4-6.49s-23.65,2.16-33.4,6.49c-9.76,4.33-18.03,10.12-24.84,17.38-6.81,7.27-11.96,15.46-15.46,24.57-3.49,9.11-5.24,18.35-5.24,27.74v4.97c0,9.38,1.7,18.59,5.11,27.6,3.4,9.02,8.46,17.16,15.18,24.43,6.72,7.27,14.95,13.11,24.71,17.53,9.75,4.42,21.07,6.62,33.95,6.62s24.2-2.21,33.95-6.62c9.75-4.41,17.98-10.25,24.71-17.53,6.71-7.27,11.77-15.41,15.18-24.43,3.4-9.01,5.11-18.22,5.11-27.6v-4.97c0-9.39-1.75-18.63-5.24-27.74ZM838.66,214.66c-4.14,8.28-10.12,14.86-17.94,19.73-7.83,4.88-17.26,7.32-28.29,7.32s-20.47-2.43-28.29-7.32c-7.82-4.87-13.81-11.45-17.94-19.73-4.14-8.28-6.21-17.57-6.21-27.88s2.11-19.88,6.35-28.15c4.23-8.28,10.3-14.82,18.22-19.6,7.91-4.79,17.21-7.18,27.88-7.18s20.19,2.39,28.02,7.18c7.82,4.78,13.85,11.32,18.08,19.6,4.23,8.27,6.35,17.66,6.35,28.15s-2.07,19.6-6.21,27.88Z"
					/>
					<!-- N -->
					<path class="logo-path" d="M965.22,108.66h-1.1c-12.33,0-22.54,2.62-30.64,7.86-8.1,5.25-14.12,12.89-18.08,22.91-1,2.54-1.87,5.22-2.62,8.05v-34.41h-20.98v147.4h26.49v-88.05c0-11.96,3.6-21.52,10.77-28.7,7.18-7.18,16.57-10.77,28.16-10.77s20.05,3.45,26.5,10.36c6.43,6.9,9.66,16.05,9.66,27.46v89.71h26.5v-84.19c0-21.9-4.46-38.64-13.39-50.24-8.93-11.59-22.69-17.38-41.27-17.38Z" />
					<!-- F -->
					<path class="logo-path" d="M1065.97,67.81c-8.65,7.73-12.97,19.78-12.97,36.16v9.11h-20.43v19.87h20.43v127.53h25.39v-127.53h39.47v-19.87h-39.47v-13.52c0-6.62,1.84-11.83,5.52-15.6,3.68-3.77,8.92-5.66,15.73-5.66h20.98v-22.08h-16.56c-16.75,0-29.45,3.86-38.09,11.59Z" />
					<!-- I (dot and stem) -->
					<g>
						<path class="logo-path" d="M1161.75,89.34c5.88,0,10.25-1.56,13.11-4.69,2.85-3.12,4.28-7.08,4.28-11.87s-1.43-8.74-4.28-11.87c-2.86-3.12-7.22-4.69-13.11-4.69s-10.26,1.57-13.11,4.69c-2.86,3.13-4.28,7.09-4.28,11.87s1.42,8.75,4.28,11.87c2.85,3.13,7.22,4.69,13.11,4.69Z" />
						<polygon class="logo-path" points="1154.3,113.08 1132.77,113.08 1132.77,134.05 1154.3,134.05 1154.3,260.48 1180.8,260.48 1180.8,134.05 1180.8,113.08 1154.3,113.08" />
					</g>
					<!-- G -->
					<path
						class="logo-path"
						d="M1329.02,113.08v28.53c-.43-.89-.77-1.86-1.24-2.72-5.43-10.03-12.84-17.66-22.22-22.91-9.39-5.24-20.25-7.87-32.57-7.87-10.49,0-20.11,1.84-28.85,5.52-8.74,3.68-16.24,8.83-22.5,15.46-6.26,6.62-11.14,14.4-14.63,23.33-3.5,8.92-5.24,18.54-5.24,28.84v4.97c0,10.12,1.7,19.73,5.11,28.84,3.4,9.11,8.18,17.16,14.35,24.15,6.16,7,13.52,12.47,22.08,16.42,8.55,3.96,17.98,5.94,28.29,5.94,11.04,0,21.11-2.44,30.22-7.32,9.11-4.88,16.52-12.23,22.22-22.08.21-.36.35-.77.55-1.13v13.14c0,11.97-1.79,21.76-5.38,29.4-3.59,7.63-9.38,13.24-17.39,16.84-8,3.59-18.72,5.38-32.16,5.38-6.44,0-13.29-.32-20.57-.97-7.26-.65-14.21-1.42-20.83-2.34v22.36c6.25.92,12.84,1.65,19.73,2.21,6.9.55,13.76.83,20.57.83,19.69,0,35.47-2.58,47.34-7.73,11.87-5.15,20.52-13.21,25.94-24.15,5.42-10.95,8.14-25.26,8.14-42.92V113.08h-20.98ZM1324.61,188.71c0,10.12-2.16,18.82-6.48,26.08-4.33,7.27-10.13,12.84-17.39,16.7-7.27,3.87-15.32,5.8-24.15,5.8-9.38,0-17.71-2.16-24.98-6.49-7.27-4.32-12.98-10.53-17.11-18.63-4.14-8.1-6.21-17.57-6.21-28.44s2.02-20.29,6.07-28.29c4.05-8,9.75-14.22,17.11-18.64,7.36-4.41,15.83-6.62,25.4-6.62,8.46,0,16.28,1.75,23.46,5.24,7.18,3.5,13.01,8.65,17.53,15.46,4.51,6.81,6.76,15.18,6.76,25.11v12.7Z"
					/>
				</g>
			</svg>
		</div>
	</div>
</template>

<style scoped>
.animated-logo-container {
	width: 200px; /* Adjust size as needed */
	height: auto;
	overflow: visible; /* Ensure content doesn't get clipped */
	padding: 2px; /* Small buffer for any scaling effects */
}

.animated-logo {
	width: 100%;
	height: auto;
	overflow: visible;
}

/* SVG Path Styling */
.logo-path {
	fill: #fff;
	stroke: #fff;
	stroke-width: 1;
}

/* Icon animation - appears first */
.icon-group {
	opacity: 0;
	transform: scale(0.8) translateY(10px);
	animation: iconAppear 0.8s ease-out forwards;
}

@keyframes iconAppear {
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

/* Text group animation - appears after icon */
.text-group {
	opacity: 0;
	transform: scale(0.95) translateX(20px);
	animation: textGroupAppear 0.9s ease-out forwards;
	animation-delay: 0.6s; /* Start while icon is still animating */
	transform-origin: center center;
}

@keyframes textGroupAppear {
	0% {
		opacity: 0;
		transform: scale(0.95) translateX(20px);
	}
	50% {
		opacity: 0.7;
		transform: scale(0.98) translateX(5px);
	}
	100% {
		opacity: 1;
		transform: scale(1) translateX(0);
	}
}

/* Replay animation trigger */
.replay-animation .icon-group {
	animation: iconAppear 0.8s ease-out forwards;
}

.replay-animation .text-group {
	animation: textGroupAppear 0.9s ease-out forwards;
	animation-delay: 0.6s;
}

/* Optional: Add a subtle glow effect during animation */
.icon-group {
	filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.1));
}

.text-group {
	filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.05));
}

/* Enhanced hover effect for the whole logo */
.animated-logo:hover .icon-group {
	transform: scale(1.03);
	transition: transform 0.3s ease;
}

.animated-logo:hover .text-group {
	transform: scale(1.01);
	transition: transform 0.3s ease;
}
</style>
