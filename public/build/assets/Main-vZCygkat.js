import{e as S,o as n,w as c,b as o,u as i,n as b,l as ie,_ as P,S as T,R as te,r as z,c as d,a as e,V,bB as I,d as _,W as H,q as k,t as l,Z as M,x as ae,v as B,M as C,N as L,f as D,C as de,g as A,c0 as N,c1 as se,y as re,E as oe,s as le}from"./app-CJzaFoze.js";import{_ as O,a as W,b as q}from"./HoverCardTrigger-Cn5OPtsS.js";import{I as ce}from"./info-DQTur3RV.js";import{C as ue,a as Z,T as ge,b as fe,S as X,M as me,c as ve,u as xe}from"./useDashboard-BBQk0D7G.js";import{A as he}from"./activity-GJTwH0zJ.js";import{C as ne}from"./clock-D43-sGns.js";import{T as pe}from"./triangle-alert-Ba4_V7HJ.js";import be from"./HorizonLogo-XTm7KewP.js";import ye from"./PhpLogo-CWkzwK1D.js";import{u as we}from"./useCopy-BWNQ9n7L.js";import{P as ke}from"./plus-Cu7n14hY.js";/* empty css               */const R={__name:"RcDashboardHovercard",props:{iconClass:{type:String,default:"w-3 h-3 text-muted-foreground hover:text-foreground cursor-help"},width:{type:String,default:"w-72"}},setup(s){return(g,y)=>(n(),S(i(q),null,{default:c(()=>[o(i(O),null,{default:c(()=>[o(i(ce),{class:b(s.iconClass)},null,8,["class"])]),_:1}),o(i(W),{class:b(`${s.width} border bg-card/80 backdrop-blur-2xl`)},{default:c(()=>[ie(g.$slots,"default")]),_:3},8,["class"])]),_:3}))}},_e={class:"grid gap-3 grid-cols-2 sm:gap-4 md:grid-cols-2 xl:gap-8 lg:grid-cols-3 2xl:grid-cols-6"},$e={key:0,class:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"linear-gradient(to top, rgba(67, 56, 202, 0.88) 0%,  rgba(67, 56, 202, 0.6) 30%,  rgba(0, 0, 0, 0.65) 75%,  rgba(0, 0, 0, 0) 100% )","z-index":"0"}},Ce={class:"absolute inset-0 pointer-events-none z-0"},Le={xmlns:"http://www.w3.org/2000/svg",class:"absolute -right-4 -top-4 w-32 h-32",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"rgba(255,255,255,0.15)",fill:"none",style:{opacity:"0.12",filter:"blur(2px)"}},je={key:1,class:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 30%, rgba(255, 255, 255, 0) 70%)","z-index":"0"}},Se={key:0},Me={class:"text-2xl font-bold text-white"},De={key:1,class:"space-y-3"},ze={key:0,class:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"linear-gradient(to top, rgba(116, 33, 24, 0.88) 0%,  rgba(116, 33, 24, 0.6) 30%,  rgba(0, 0, 0, 0.65) 75%,  rgba(0, 0, 0, 0) 100% )","z-index":"0"}},Ve={class:"absolute inset-0 pointer-events-none z-0"},Ie={xmlns:"http://www.w3.org/2000/svg",class:"absolute -right-4 -top-4 w-32 h-32",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"rgba(255,255,255,0.15)",fill:"none",style:{opacity:"0.12",filter:"blur(2px)"}},He={key:1,class:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 30%, rgba(255, 255, 255, 0) 70%)","z-index":"0"}},Be={key:0},Pe={class:"text-2xl font-bold"},Te={key:1,class:"space-y-3"},Re={class:"flex items-center gap-2"},Ae={key:0},Ne={class:"text-2xl font-bold"},Oe={key:1,class:"space-y-3"},We={class:"flex items-center gap-2"},qe={key:0},Fe={class:"text-2xl font-bold"},Qe={key:1,class:"space-y-3"},Ee={class:"flex items-center gap-2"},Ue={key:0},Ge={key:1},Je={key:2,class:"space-y-3"},Ke={key:0,class:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"linear-gradient(to top, rgba(116, 33, 24, 0.88) 0%,  rgba(116, 33, 24, 0.6) 30%,  rgba(0, 0, 0, 0.65) 75%,  rgba(0, 0, 0, 0) 100% )","z-index":"0"}},Ye={xmlns:"http://www.w3.org/2000/svg",class:"absolute -right-4 -top-4 w-32 h-32 pointer-events-none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"rgba(255,255,255,0.15)",fill:"none",style:{opacity:"0.12",filter:"blur(2px)"}},Ze={key:1,class:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 30%, rgba(255, 255, 255, 0) 70%)","z-index":"0"}},Xe={key:0},et={class:"text-2xl font-bold"},tt={key:1,class:"space-y-3"},st={__name:"ConfigInfoCards",props:{configinfo:{type:Object,required:!0},isLoadingConfiginfo:{type:Boolean,required:!0}},setup(s){const g=T(),y=te("formatters");function f(){g.push({name:"devices"})}function x(){g.push({name:"devices",query:{statusId:0}})}function r(){g.push("/configs")}function h(){g.push({name:"configs",query:{statusId:0}})}const t=w=>{const a=new Date(w),p=new Date,m=1440*60*1e3;return p-a>m};return(w,a)=>{var u,$;const p=z("RcIcon"),m=z("Skeleton");return n(),d("div",_e,[o(i(M),{class:b("border-0 shadow-md rounded-2xl bg-card text-card-foreground hover:bg-muted/20 hover:cursor-pointer hover:shadow-lg transition-all duration-200 relative"),onClick:a[0]||(a[0]=v=>f())},{default:c(()=>[s.configinfo.data&&s.configinfo.data.deviceCount>0?(n(),d("div",$e,[e("div",Ce,[(n(),d("svg",Le,[...a[6]||(a[6]=[e("path",{d:"M12 19V5m0 0l-6 6m6-6l6 6"},null,-1)])]))])])):(n(),d("div",je)),o(i(V),{class:"flex flex-row items-center justify-between pb-2 space-y-0 relative z-10"},{default:c(()=>[o(i(I),{class:"text-sm font-medium"},{default:c(()=>[...a[7]||(a[7]=[_("Device Count",-1)])]),_:1}),o(p,{name:"device",class:"w-4 h-4"})]),_:1}),o(i(H),{class:"relative z-10"},{default:c(()=>[s.configinfo.data?(n(),d("div",Se,[e("div",Me,l(s.configinfo.data.deviceCount),1),a[8]||(a[8]=e("p",{class:"text-xs text-white mt-2"},"Total device count",-1))])):k("",!0),s.isLoadingConfiginfo?(n(),d("div",De,[o(m,{class:"h-8 w-16"}),o(m,{class:"h-3 w-full"})])):k("",!0)]),_:1})]),_:1}),o(i(M),{class:b("border-0 shadow-md rounded-2xl bg-card text-card-foreground hover:bg-muted/20 hover:cursor-pointer hover:shadow-lg transition-all duration-200 relative"),onClick:a[1]||(a[1]=v=>x())},{default:c(()=>{var v;return[((v=s.configinfo.data)==null?void 0:v.deviceDownCount)>0?(n(),d("div",ze,[e("div",Ve,[(n(),d("svg",Ie,[...a[9]||(a[9]=[e("path",{d:"M12 5v14m0 0l-6-6m6 6l6-5.999"},null,-1)])]))])])):(n(),d("div",He)),o(i(V),{class:"flex flex-row items-center justify-between pb-2 space-y-0 relative z-10"},{default:c(()=>[o(i(I),{class:"text-sm font-medium"},{default:c(()=>[...a[10]||(a[10]=[_("Down Devices",-1)])]),_:1}),o(p,{name:"device-red",class:"w-4 h-4"})]),_:1}),o(i(H),{class:"relative z-10"},{default:c(()=>{var j;return[s.configinfo.data?(n(),d("div",Be,[e("div",Pe,l(s.configinfo.data.deviceDownCount),1),e("p",{class:b(["text-xs mt-2",[((j=s.configinfo.data)==null?void 0:j.deviceDownCount)>0?"text-white":"text-muted-foreground"]])}," Devices currently down ",2)])):k("",!0),s.isLoadingConfiginfo?(n(),d("div",Te,[o(m,{class:"h-8 w-16"}),o(m,{class:"h-3 w-full"})])):k("",!0)]}),_:1})]}),_:1}),o(i(M),{class:"relative border-0 shadow-md rounded-2xl bg-card text-card-foreground hover:bg-muted/20 hover:cursor-pointer hover:shadow-lg transition-all duration-200",onClick:a[2]||(a[2]=v=>i(g).push("/configs"))},{default:c(()=>[a[14]||(a[14]=e("div",{class:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 30%, rgba(255, 255, 255, 0) 70%)","z-index":"0"}},null,-1)),o(i(V),{class:"flex flex-row items-center justify-between pb-2 space-y-0 relative z-10"},{default:c(()=>[e("div",Re,[o(i(I),{class:"text-sm font-medium"},{default:c(()=>[...a[11]||(a[11]=[_("Config Files",-1)])]),_:1}),o(R,null,{default:c(()=>[...a[12]||(a[12]=[e("div",{class:"space-y-2"},[e("h4",{class:"text-sm font-semibold"},"Config Files on Disk"),e("p",{class:"text-xs text-muted-foreground"}," Total number of configuration files stored on disk "),e("p",{class:"text-xs text-muted-foreground"}," Note: rConfig will keep unchanged config files for historical reference ")],-1)])]),_:1})]),o(i(ue),{class:"w-4 h-4"})]),_:1}),o(i(H),{class:"relative z-10"},{default:c(()=>[s.configinfo.data?(n(),d("div",Ae,[e("div",Ne,l(s.configinfo.data.configFileTotalCount),1),a[13]||(a[13]=e("p",{class:"text-xs text-muted-foreground mt-2"},"Total config files on disk",-1))])):k("",!0),s.isLoadingConfiginfo?(n(),d("div",Oe,[o(m,{class:"h-8 w-24"}),o(m,{class:"h-3 w-full"})])):k("",!0)]),_:1})]),_:1}),o(i(M),{class:"relative border-0 shadow-md rounded-2xl bg-card text-card-foreground hover:bg-muted/20 hover:cursor-pointer hover:shadow-lg transition-all duration-200",onClick:a[3]||(a[3]=v=>i(g).push("/configs"))},{default:c(()=>[a[18]||(a[18]=e("div",{class:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 30%, rgba(255, 255, 255, 0) 70%)","z-index":"0"}},null,-1)),o(i(V),{class:"flex flex-row items-center justify-between pb-2 space-y-0 relative z-10"},{default:c(()=>[e("div",We,[o(i(I),{class:"text-sm font-medium"},{default:c(()=>[...a[15]||(a[15]=[_("Configurations",-1)])]),_:1}),o(R,null,{default:c(()=>[...a[16]||(a[16]=[e("div",{class:"space-y-2"},[e("h4",{class:"text-sm font-semibold"},"Config Files on Disk"),e("p",{class:"text-xs text-muted-foreground"}," Number of configuration records in the database "),e("p",{class:"text-xs text-muted-foreground"}," Note: rConfig will keep unchanged config files for historical reference ")],-1)])]),_:1})]),o(i(he),{class:"w-4 h-4"})]),_:1}),o(i(H),{class:"relative z-10"},{default:c(()=>[s.configinfo.data?(n(),d("div",qe,[e("div",Fe,l(s.configinfo.data.configTotalCount),1),a[17]||(a[17]=e("p",{class:"text-xs text-muted-foreground mt-2"},"Actual configs in database",-1))])):k("",!0),s.isLoadingConfiginfo?(n(),d("div",Qe,[o(m,{class:"h-8 w-20"}),o(m,{class:"h-3 w-full"})])):k("",!0)]),_:1})]),_:1}),o(i(M),{class:b(["relative border-0 shadow-md rounded-2xl bg-card text-card-foreground hover:bg-muted/20 hover:cursor-pointer hover:shadow-lg transition-all duration-200",s.configinfo.data&&s.configinfo.data.lastConfig&&s.configinfo.data.lastConfig.created_at&&t(($=(u=s.configinfo.data)==null?void 0:u.lastConfig)==null?void 0:$.created_at)?"border-b border-warning/50":""]),onClick:a[4]||(a[4]=v=>r())},{default:c(()=>[e("div",{class:"absolute inset-0 rounded-2xl pointer-events-none",style:ae((()=>{var j;const v=(j=s.configinfo.data)==null?void 0:j.lastConfig;return v?v.download_status===0?`
          background: linear-gradient(
            to top,
            rgba(116, 33, 24, 0.88) 0%,
            rgba(116, 33, 24, 0.6) 30%,
            rgba(0, 0, 0, 0.65) 75%,
            rgba(0, 0, 0, 0) 100%
          );
          z-index: 0;
        `:v.created_at&&t(v.created_at)?`
          background: linear-gradient(
            to top,
            rgba(180, 108, 0, 0.88) 0%,
            rgba(180, 108, 0, 0.6) 30%,
            rgba(0, 0, 0, 0.65) 75%,
            rgba(0, 0, 0, 0) 100%
          );
          z-index: 0;
        `:`
        background: linear-gradient(
          to bottom,
          rgba(255,255,255,0.06) 0%,
          rgba(255,255,255,0.02) 30%,
          rgba(255,255,255,0) 70%
        );
        z-index: 0;
      `:`
          background: linear-gradient(
            to bottom,
            rgba(255,255,255,0.06) 0%,
            rgba(255,255,255,0.02) 30%,
            rgba(255,255,255,0) 70%
          );
          z-index: 0;
        `})())},null,4),o(i(V),{class:"flex flex-row items-center justify-between pb-2 space-y-0 relative z-10"},{default:c(()=>[e("div",Ee,[o(i(I),{class:"text-sm font-medium"},{default:c(()=>[...a[19]||(a[19]=[_("Last Config Time",-1)])]),_:1}),s.configinfo.data?(n(),S(R,{key:0})):k("",!0)]),o(i(ne),{class:"w-4 h-4"})]),_:1}),o(i(H),{class:"relative z-10"},{default:c(()=>{var v,j,F,Q,E,U,G,J,K,Y;return[s.configinfo.data&&((j=(v=s.configinfo.data)==null?void 0:v.lastConfig)!=null&&j.created_at)?(n(),d("div",Ue,[e("div",{class:b(["text-md font-bold min-w-0 mb-2",t((Q=(F=s.configinfo.data)==null?void 0:F.lastConfig)==null?void 0:Q.created_at)?"text-amber-500":""])},l(i(y).formatTime(s.configinfo.data.lastConfig.created_at)),3),e("p",{class:b(["text-xs",[t((U=(E=s.configinfo.data)==null?void 0:E.lastConfig)==null?void 0:U.created_at)||((J=(G=s.configinfo.data)==null?void 0:G.lastConfig)==null?void 0:J.download_status)===0?"text-white":"text-muted-foreground"]])}," Last config download ",2)])):s.configinfo.data&&!((Y=(K=s.configinfo.data)==null?void 0:K.lastConfig)!=null&&Y.created_at)?(n(),d("div",Ge,[...a[20]||(a[20]=[e("div",{class:"text-md font-bold min-w-0 mb-2 text-muted-foreground"},"--",-1),e("p",{class:"text-xs text-muted-foreground"},"No config available",-1)])])):k("",!0),s.isLoadingConfiginfo?(n(),d("div",Je,[o(m,{class:"h-8 w-20"}),o(m,{class:"h-3 w-full"})])):k("",!0)]}),_:1})]),_:1},8,["class"]),o(i(M),{class:b(["relative border-0 shadow-md rounded-2xl bg-card text-card-foreground hover:bg-muted/20 hover:cursor-pointer hover:shadow-lg transition-all duration-200"]),onClick:a[5]||(a[5]=v=>h())},{default:c(()=>[s.configinfo.data&&s.configinfo.data.failedConfigCount>0?(n(),d("div",Ke,[(n(),d("svg",Ye,[...a[21]||(a[21]=[e("path",{d:"M12 5v14m0 0l-6-6m6 6l6-5.999"},null,-1)])]))])):(n(),d("div",Ze)),o(i(V),{class:"flex flex-row items-center justify-between pb-2 space-y-0 relative z-10"},{default:c(()=>[o(i(I),{class:"text-sm font-medium"},{default:c(()=>[...a[22]||(a[22]=[_("Failed Configs",-1)])]),_:1}),o(i(pe),{class:"w-4 h-4"})]),_:1}),o(i(H),{class:"relative z-10"},{default:c(()=>[s.configinfo.data?(n(),d("div",Xe,[e("div",et,l(s.configinfo.data.failedConfigCount||0),1),a[23]||(a[23]=e("p",{class:"text-xs text-muted-foreground mt-2"},"Failed config count",-1))])):k("",!0),s.isLoadingConfiginfo?(n(),d("div",tt,[o(m,{class:"h-8 w-16"}),o(m,{class:"h-3 w-full"})])):k("",!0)]),_:1})]),_:1})])}}},ot=P(st,[["__scopeId","data-v-55530e0f"]]),nt={class:"xl:col-span-6"},it={class:"border-0 shadow-md rounded-2xl bg-card text-card-foreground p-4 transition-all duration-200 hover:shadow-lg h-fit"},at={class:"flex items-center justify-between mb-3"},dt=["disabled"],rt={key:0,class:"space-y-3 text-sm min-h-[175px]"},lt={key:1,class:"space-y-3 text-sm min-h-[175px]"},ct={class:"flex items-center gap-2"},ut={class:"text-muted-foreground"},gt={class:"flex items-center gap-2"},ft={class:"font-medium"},mt={class:"flex items-center gap-2"},vt={class:"text-muted-foreground"},xt={class:"flex items-center gap-2"},ht={class:"font-medium"},pt={class:"flex items-center gap-2"},bt={class:"font-medium"},yt={class:"flex items-center gap-2"},wt={class:"text-muted-foreground"},kt={class:"flex items-center gap-2"},_t={class:"font-medium"},$t={class:"flex items-center gap-2"},Ct={class:"text-muted-foreground"},Lt={class:"flex items-center gap-2"},jt={class:"font-medium"},St={key:2,class:"space-y-3 min-h-[175px] flex items-center justify-center"},Mt={class:"mt-4 pt-3 border-t border-muted/50 text-xs text-muted-foreground flex items-center justify-between"},Dt={class:"flex items-center gap-2"},zt={key:0},Vt={key:1,class:"h-3 bg-muted rounded w-24 animate-pulse"},It={class:"space-y-3"},Ht={key:0,class:"grid grid-cols-1 gap-2 text-xs"},Bt={class:"text-muted-foreground font-medium"},Pt={class:"flex items-center gap-2"},Tt={class:"text-right"},Rt={key:1,class:"text-center text-muted-foreground"},At={key:0,class:"space-y-2"},Nt={key:1},Ot={__name:"HealthLatestCards",props:{healthLatest:{type:Object,required:!0},isLoadingHealth:{type:Boolean,required:!0},SystemUptime:{type:String}},emits:["refresh"],setup(s,{emit:g}){B({}),B({});const y=g;function f(){y("refresh")}return(x,r)=>{const h=z("RcIcon");return n(),d("div",nt,[e("div",it,[e("div",at,[r[0]||(r[0]=e("h3",{class:"text-lg font-semibold flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),_(" Health Status ")],-1)),e("button",{class:"p-2 rounded-lg hover:bg-muted/50 transition-colors",onClick:f,disabled:s.isLoadingHealth},[o(h,{name:"refresh",size:"16",class:b(s.isLoadingHealth?"animate-spin":"")},null,8,["class"])],8,dt)]),s.isLoadingHealth?(n(),d("div",rt,[(n(),d(C,null,L(5,t=>e("div",{key:t,class:"flex justify-between items-center py-1"},[...r[1]||(r[1]=[D('<div class="flex items-center gap-2" data-v-52f8ee3c><div class="w-4 h-4 bg-muted rounded animate-pulse" data-v-52f8ee3c></div><div class="h-4 bg-muted rounded w-20 animate-pulse" data-v-52f8ee3c></div></div><div class="flex items-center gap-2" data-v-52f8ee3c><div class="h-4 bg-muted rounded w-16 animate-pulse" data-v-52f8ee3c></div><div class="w-2 h-2 bg-muted rounded-full animate-pulse" data-v-52f8ee3c></div></div>',2)])])),64))])):s.healthLatest.data?(n(),d("div",lt,[(n(!0),d(C,null,L(s.healthLatest.data.filter(t=>t.name==="CpuLoad"),t=>(n(),d("div",{class:"flex justify-between items-center py-1",key:t.name},[e("div",ct,[r[2]||(r[2]=e("svg",{class:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})],-1)),e("span",ut,l(t.label),1)]),e("div",gt,[e("span",ft,l(t.status),1),r[3]||(r[3]=e("div",{class:"w-2 h-2 rounded-full bg-green-500"},null,-1))])]))),128)),(n(!0),d(C,null,L(s.healthLatest.data.filter(t=>t.name==="Horizon"),t=>(n(),d("div",{class:"flex justify-between items-center py-1.5",key:t.name},[e("div",mt,[o(be,{size:"18"}),e("span",vt,l(t.label)+" Queue",1)]),e("div",xt,[e("span",ht,l(t.status),1),e("div",{class:b(["w-2 h-2 rounded-full",t.status==="Running"?"bg-green-500":"bg-red-500"])},null,2)])]))),128)),(n(!0),d(C,null,L(s.healthLatest.data.filter(t=>t.name.includes("Disk Space")),t=>(n(),d("div",{class:"flex justify-between items-center py-1.5",key:t.name},[r[4]||(r[4]=e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})]),e("span",{class:"text-muted-foreground"},"Diskspace")],-1)),e("div",pt,[e("span",bt,l(t.status),1),e("div",{class:b(["w-2 h-2 rounded-full",parseInt(t.status)<80?"bg-green-500":"bg-red-500"])},null,2)])]))),128)),(n(!0),d(C,null,L(s.healthLatest.data.filter(t=>t.name==="Ping"),t=>(n(),d("div",{class:"flex justify-between items-center py-1.5",key:t.name},[e("div",yt,[r[5]||(r[5]=e("svg",{class:"w-4 h-4 text-cyan-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})],-1)),e("span",wt,l(t.label),1)]),e("div",kt,[e("span",_t,l(t.status),1),e("div",{class:b(["w-2 h-2 rounded-full",t.status==="Reachable"?"bg-green-500":"bg-red-500"])},null,2)])]))),128)),(n(!0),d(C,null,L(s.healthLatest.data.filter(t=>t.name==="Database"),t=>(n(),d("div",{class:"flex justify-between items-center py-1.5",key:t.name},[e("div",$t,[o(h,{name:"database",size:"18",class:"text-blue-500"}),e("span",Ct,l(t.label),1)]),e("div",Lt,[e("span",jt,l(t.status),1),e("div",{class:b(["w-2 h-2 rounded-full",t.status==="Ok"?"bg-green-500":"bg-red-500"])},null,2)])]))),128))])):(n(),d("div",St,[...r[6]||(r[6]=[e("div",{class:"text-center text-muted-foreground"},[e("svg",{class:"w-8 h-8 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("p",{class:"text-sm"},"No health data available")],-1)])])),e("div",Mt,[e("div",Dt,[r[7]||(r[7]=e("svg",{class:"w-3 h-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s.isLoadingHealth?(n(),d("div",Vt)):(n(),d("span",zt,"System Uptime: "+l(s.SystemUptime||"Loading..."),1))]),o(i(q),null,{default:c(()=>[o(i(O),{"as-child":""},{default:c(()=>[...r[8]||(r[8]=[e("button",{class:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-muted/50 transition-colors text-xs text-muted-foreground hover:text-foreground"},[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),_(" Details ")],-1)])]),_:1}),o(i(W),{class:"w-96 bg-gradient-to-r from-card/80 via-card/60 to-card/80 backdrop-blur-md shadow-sm",side:"top",align:"end"},{default:c(()=>[e("div",It,[r[10]||(r[10]=e("div",{class:"flex items-center gap-2 border-b pb-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("h4",{class:"font-semibold text-sm"},"Complete Health Status")],-1)),s.healthLatest.data&&!s.isLoadingHealth?(n(),d("div",Ht,[(n(!0),d(C,null,L(s.healthLatest.data,t=>(n(),d("div",{key:t.name,class:"flex justify-between items-center py-1"},[e("span",Bt,l(t.label)+":",1),e("div",Pt,[e("span",Tt,l(t.status),1),e("div",{class:b(["w-2 h-2 rounded-full",["Ok","Running","Reachable"].includes(t.status)||t.name.includes("Disk")&&parseInt(t.status)<80?"bg-green-500":"bg-red-500"])},null,2)])]))),128))])):(n(),d("div",Rt,[s.isLoadingHealth?(n(),d("div",At,[(n(),d(C,null,L(8,t=>e("div",{key:t,class:"flex justify-between items-center py-1"},[...r[9]||(r[9]=[e("div",{class:"h-3 bg-muted rounded w-20 animate-pulse"},null,-1),e("div",{class:"h-3 bg-muted rounded w-16 animate-pulse"},null,-1)])])),64))])):(n(),d("div",Nt,"Loading health data..."))]))])]),_:1})]),_:1})])])])}}},Wt=P(Ot,[["__scopeId","data-v-52f8ee3c"]]),qt={class:"xl:col-span-12"},Ft={__name:"QuickActions",props:{},setup(s){const g=T(),{toastSuccess:y,toastError:f}=de(),x=()=>{axios.post("/api/device/purge-failed-configs",{device_id:"--all"}).then(a=>{console.log("✅ Purge successful:",a),y("Purge Failed Configs","Purge job started successfully")}).catch(a=>{console.error("❌ Purge failed:",a),f("Error","Purge job failed to start")})},r=()=>{g.push({name:"inventory",params:{view:"devices"},query:{openDeviceDialog:!0}})},h=()=>{g.push({name:"inventory",params:{view:"devices"}})},t=()=>{g.push({name:"configsearch"})},w=()=>{g.push({name:"settings"})};return(a,p)=>(n(),d("div",qt,[e("div",{class:"border-0 shadow-md rounded-2xl bg-card text-card-foreground p-2 md:p-4 transition-all duration-200 hover:shadow-lg"},[p[5]||(p[5]=e("h3",{class:"text-lg font-semibold hidden md:inline-flex mb-1 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),_(" Quick Actions ")],-1)),e("div",{class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 md:gap-2 lg:gap-3"},[e("button",{onClick:r,class:"flex items-center gap-2 2xl:gap-3 p-2 md:p-2 2xl:p-2 rounded-xl bg-muted/50 hover:bg-green-50 dark:hover:bg-green-900/30 hover:scale-105 transition-all duration-200 text-left group"},[...p[0]||(p[0]=[D('<div class="p-2 rounded-lg bg-green-100 dark:bg-green-900/50 group-hover:bg-green-200 dark:group-hover:bg-green-800/70 transition-colors duration-200" data-v-16016044><svg class="w-4 h-4 text-green-600 dark:text-green-400 group-hover:text-green-700 dark:group-hover:text-green-300 transition-colors duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-16016044><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" data-v-16016044></path></svg></div><div data-v-16016044><div class="font-medium text-sm group-hover:text-green-700 dark:group-hover:text-green-300 transition-colors duration-200" data-v-16016044>Add Device</div><div class="text-xs text-muted-foreground hidden 2xl:block" data-v-16016044>Register new device</div></div>',2)])]),e("button",{onClick:h,class:"flex items-center gap-2 2xl:gap-3 p-2 md:p-2 2xl:p-2 rounded-xl bg-muted/50 hover:bg-gray-50 dark:hover:bg-gray-900/30 hover:scale-105 transition-all duration-200 text-left group"},[...p[1]||(p[1]=[D('<div class="p-2 rounded-lg bg-gray-100 dark:bg-gray-900/50 group-hover:bg-gray-200 dark:group-hover:bg-gray-800/70 transition-colors duration-200" data-v-16016044><svg class="w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-colors duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-16016044><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" data-v-16016044></path></svg></div><div data-v-16016044><div class="font-medium text-sm group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-colors duration-200" data-v-16016044>View Devices</div><div class="text-xs text-muted-foreground hidden 2xl:block" data-v-16016044>Device inventory</div></div>',2)])]),e("button",{onClick:t,class:"flex items-center gap-2 2xl:gap-3 p-2 md:p-2 2xl:p-2 rounded-xl bg-muted/50 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:scale-105 transition-all duration-200 text-left group"},[...p[2]||(p[2]=[D('<div class="p-2 rounded-lg bg-blue-100 dark:bg-blue-900/50 group-hover:bg-blue-200 dark:group-hover:bg-blue-800/70 transition-colors duration-200" data-v-16016044><svg class="w-4 h-4 text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-16016044><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" data-v-16016044></path></svg></div><div data-v-16016044><div class="font-medium text-sm group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-200" data-v-16016044>Config Search</div><div class="text-xs text-muted-foreground hidden 2xl:block" data-v-16016044>Find configurations</div></div>',2)])]),e("button",{onClick:x,class:"flex items-center gap-2 2xl:gap-3 p-2 md:p-2 2xl:p-2 rounded-xl bg-muted/50 hover:bg-red-50 dark:hover:bg-red-900/30 hover:scale-105 transition-all duration-200 text-left group"},[...p[3]||(p[3]=[D('<div class="p-2 rounded-lg bg-red-100 dark:bg-red-900/50 group-hover:bg-red-200 dark:group-hover:bg-red-800/70 transition-colors duration-200" data-v-16016044><svg class="w-4 h-4 text-red-600 dark:text-red-400 group-hover:text-red-700 dark:group-hover:text-red-300 transition-colors duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-16016044><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4" data-v-16016044></path></svg></div><div data-v-16016044><div class="font-medium text-sm group-hover:text-red-700 dark:group-hover:text-red-300 transition-colors duration-200" data-v-16016044>Purge Failed</div><div class="text-xs text-muted-foreground hidden 2xl:block" data-v-16016044>Clean configs</div></div>',2)])]),e("button",{onClick:w,class:"flex items-center gap-2 2xl:gap-3 p-2 md:p-2 2xl:p-2 rounded-xl bg-muted/50 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 hover:scale-105 transition-all duration-200 text-left group"},[...p[4]||(p[4]=[D('<div class="p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/50 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-800/70 transition-colors duration-200" data-v-16016044><svg class="w-4 h-4 text-indigo-600 dark:text-indigo-400 group-hover:text-indigo-700 dark:group-hover:text-indigo-300 transition-colors duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-16016044><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" data-v-16016044></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-v-16016044></path></svg></div><div data-v-16016044><div class="font-medium text-sm group-hover:text-indigo-700 dark:group-hover:text-indigo-300 transition-colors duration-200" data-v-16016044>Settings</div><div class="text-xs text-muted-foreground hidden 2xl:block" data-v-16016044>Configure system</div></div>',2)])])])])]))}},Qt=P(Ft,[["__scopeId","data-v-16016044"]]),Et={class:"xl:col-span-6"},Ut={class:"border-0 shadow-md rounded-2xl bg-card text-card-foreground p-4 transition-all duration-200 hover:shadow-lg h-fit"},Gt={class:"flex items-center justify-between mb-3"},Jt=["disabled"],Kt={key:0,class:"space-y-3 text-sm min-h-[175px]"},Yt={key:1,class:"space-y-3 text-sm min-h-[175px]"},Zt={class:"flex justify-between items-center py-1"},Xt={class:"flex items-center gap-2"},es={class:"font-medium"},ts={class:"flex justify-between items-center py-1"},ss={class:"flex items-center gap-2"},os={class:"font-medium"},ns={class:"flex justify-between items-center py-1"},is={class:"flex items-center gap-2"},as={class:"font-medium"},ds={class:"flex justify-between items-center py-1"},rs={class:"flex items-center gap-2"},ls={class:"flex items-center gap-2"},cs={class:"font-medium"},us={class:"flex justify-between items-center py-1"},gs={class:"flex items-center gap-2"},fs={class:"font-medium"},ms={class:"mt-4 pt-3 border-t border-muted/50 text-xs text-muted-foreground flex items-center justify-between"},vs={class:"flex items-center gap-2"},xs={key:0},hs={key:1,class:"h-3 bg-muted rounded w-20 animate-pulse"},ps={class:"space-y-3"},bs={class:"grid grid-cols-1 gap-2 text-xs"},ys={class:"flex justify-between items-center py-1"},ws={class:"text-right"},ks={class:"flex justify-between items-center py-1"},_s={class:"text-right"},$s={class:"flex justify-between items-center py-1"},Cs={class:"text-right font-mono"},Ls={class:"flex justify-between items-center py-1"},js={class:"text-right font-mono"},Ss={class:"flex justify-between items-center py-1"},Ms={class:"text-right"},Ds={class:"flex justify-between items-center py-1"},zs={class:"text-right"},Vs={class:"flex justify-between items-center py-1"},Is={class:"text-right"},Hs={class:"flex justify-between items-center py-1"},Bs={class:"text-right"},Ps={class:"flex justify-between items-center py-1"},Ts={class:"text-right"},Rs={class:"flex justify-between items-center py-1"},As=["href"],Ns={__name:"SysinfoCards",props:{sysinfo:{type:Object,required:!0},isLoadingSysinfo:{type:Boolean,required:!0}},emits:["refresh"],setup(s,{emit:g}){B({});const y=g,{copyItem:f,activeCopyIcon:x}=we();function r(){y("refresh")}return(h,t)=>{var p,m;const w=z("RcIcon"),a=z("Button");return n(),d("div",Et,[e("div",Ut,[e("div",Gt,[t[5]||(t[5]=e("h3",{class:"text-lg font-semibold flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),_(" System Info ")],-1)),e("button",{class:"p-2 rounded-lg hover:bg-muted/50 transition-colors",onClick:r,disabled:s.isLoadingSysinfo},[o(w,{name:"refresh",size:"16",class:b(s.isLoadingSysinfo?"animate-spin":"")},null,8,["class"])],8,Jt)]),s.isLoadingSysinfo?(n(),d("div",Kt,[(n(),d(C,null,L(5,u=>e("div",{key:u,class:"flex justify-between items-center py-1"},[...t[6]||(t[6]=[D('<div class="flex items-center gap-2" data-v-5c959dcc><div class="w-4 h-4 bg-muted rounded animate-pulse" data-v-5c959dcc></div><div class="h-4 bg-muted rounded w-16 animate-pulse" data-v-5c959dcc></div></div><div class="flex items-center gap-2" data-v-5c959dcc><div class="h-4 bg-muted rounded w-24 animate-pulse" data-v-5c959dcc></div><div class="w-6 h-6 bg-muted rounded animate-pulse" data-v-5c959dcc></div></div>',2)])])),64))])):(n(),d("div",Yt,[e("div",Zt,[t[7]||(t[7]=e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),e("span",{class:"text-muted-foreground"},"OS")],-1)),e("div",Xt,[e("span",es,l(s.sysinfo.OSVersion||"Loading..."),1),o(a,{class:"h-6 p-1 ml-auto text-muted-foreground",variant:"ghost",title:"copy raw data",onClick:t[0]||(t[0]=u=>i(f)("OSVersion",s.sysinfo.OSVersion))},{default:c(()=>[o(w,{name:"copy-transition",isActive:i(x).OSVersion,size:16},null,8,["isActive"])]),_:1})])]),e("div",ts,[t[8]||(t[8]=e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})]),e("span",{class:"text-muted-foreground"},"Server")],-1)),e("div",ss,[e("span",os,l(s.sysinfo.ServerName||"Loading..."),1),o(a,{class:"h-6 p-1 ml-auto text-muted-foreground",variant:"ghost",title:"copy raw data",onClick:t[1]||(t[1]=u=>i(f)("ServerName",s.sysinfo.ServerName))},{default:c(()=>[o(w,{name:"copy-transition",isActive:i(x).ServerName,size:16},null,8,["isActive"])]),_:1})])]),e("div",ns,[t[9]||(t[9]=e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})]),e("span",{class:"text-muted-foreground"},"Local IP")],-1)),e("div",is,[e("span",as,l(s.sysinfo.localIp||"Loading..."),1),o(a,{class:"h-6 p-1 ml-auto text-muted-foreground",variant:"ghost",title:"copy raw data",onClick:t[2]||(t[2]=u=>i(f)("localIp",s.sysinfo.localIp))},{default:c(()=>[o(w,{name:"copy-transition",isActive:i(x).localIp,size:16},null,8,["isActive"])]),_:1})])]),e("div",ds,[e("div",rs,[o(ye,{size:"24"}),t[10]||(t[10]=e("span",{class:"text-muted-foreground"},"PHP",-1))]),e("div",ls,[e("span",cs,l(((p=s.sysinfo.PHPVersion)==null?void 0:p.split(" / ")[0])||"Loading..."),1),o(a,{class:"h-6 p-1 ml-auto text-muted-foreground",variant:"ghost",title:"copy raw data",onClick:t[3]||(t[3]=u=>{var $;return i(f)("PHPVersion",($=s.sysinfo.PHPVersion)==null?void 0:$.split(" / ")[0])})},{default:c(()=>[o(w,{name:"copy-transition",isActive:i(x).PHPVersion,size:16},null,8,["isActive"])]),_:1})])]),e("div",us,[t[11]||(t[11]=e("div",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[e("path",{fill:"none",stroke:"#eed49f","stroke-linecap":"round","stroke-linejoin":"round",d:"M8 6.5c3.59 0 6.5-1.4 6.5-2.68S11.59 1.5 8 1.5S1.5 2.54 1.5 3.82S4.41 6.5 8 6.5M14.5 8c0 .83-1.24 1.79-3.25 2.2s-4.49.41-6.5 0S1.5 8.83 1.5 8m13 4.18c0 .83-1.24 1.6-3.25 2c-2.01.42-4.49.42-6.5 0c-2.01-.4-3.25-1.17-3.25-2m0-8.3v8.3m13-8.3v8.3","stroke-width":"1"})]),e("span",{class:"text-muted-foreground"},"MySQL")],-1)),e("div",gs,[e("span",fs,l(s.sysinfo.MySQLVersion||"Loading..."),1),o(a,{class:"h-6 p-1 ml-auto text-muted-foreground",variant:"ghost",title:"copy raw data",onClick:t[4]||(t[4]=u=>i(f)("MySQLVersion",s.sysinfo.MySQLVersion))},{default:c(()=>[o(w,{name:"copy-transition",isActive:i(x).MySQLVersion,size:16},null,8,["isActive"])]),_:1})])])])),e("div",ms,[e("div",vs,[o(w,{name:"laravel",size:"14"}),s.isLoadingSysinfo?(n(),d("div",hs)):(n(),d("span",xs,"Laravel: "+l(((m=s.sysinfo.PHPVersion)==null?void 0:m.split(" / ")[1])||"Loading..."),1))]),o(i(q),null,{default:c(()=>[o(i(O),{"as-child":""},{default:c(()=>[...t[12]||(t[12]=[e("button",{class:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-muted/50 transition-colors text-xs text-muted-foreground hover:text-foreground"},[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),_(" Details ")],-1)])]),_:1}),o(i(W),{class:"w-80 bg-gradient-to-r from-card/80 via-card/60 to-card/80 backdrop-blur-md shadow-sm",side:"top",align:"end"},{default:c(()=>{var u,$;return[e("div",ps,[t[23]||(t[23]=e("div",{class:"flex items-center gap-2 border-b pb-2"},[e("svg",{class:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("h4",{class:"font-semibold text-sm"},"System Details")],-1)),e("div",bs,[e("div",ys,[t[13]||(t[13]=e("span",{class:"text-muted-foreground font-medium"},"OS Version:",-1)),e("span",ws,l(s.sysinfo.OSVersion||"Loading..."),1)]),e("div",ks,[t[14]||(t[14]=e("span",{class:"text-muted-foreground font-medium"},"Server Name:",-1)),e("span",_s,l(s.sysinfo.ServerName||"Loading..."),1)]),e("div",$s,[t[15]||(t[15]=e("span",{class:"text-muted-foreground font-medium"},"Local IP:",-1)),e("span",Cs,l(s.sysinfo.localIp||"Loading..."),1)]),e("div",Ls,[t[16]||(t[16]=e("span",{class:"text-muted-foreground font-medium"},"Public IP:",-1)),e("span",js,l(s.sysinfo.PublicIP||"Loading..."),1)]),e("div",Ss,[t[17]||(t[17]=e("span",{class:"text-muted-foreground font-medium"},"PHP Version:",-1)),e("span",Ms,l(((u=s.sysinfo.PHPVersion)==null?void 0:u.split(" / ")[0])||"Loading..."),1)]),e("div",Ds,[t[18]||(t[18]=e("span",{class:"text-muted-foreground font-medium"},"Laravel Version:",-1)),e("span",zs,l((($=s.sysinfo.PHPVersion)==null?void 0:$.split(" / ")[1])||"Loading..."),1)]),e("div",Vs,[t[19]||(t[19]=e("span",{class:"text-muted-foreground font-medium"},"Redis Version:",-1)),e("span",Is,l(s.sysinfo.RedisVersion||"Loading..."),1)]),e("div",Hs,[t[20]||(t[20]=e("span",{class:"text-muted-foreground font-medium"},"Database:",-1)),e("span",Bs,l(s.sysinfo.MySQLVersion||"Loading..."),1)]),e("div",Ps,[t[21]||(t[21]=e("span",{class:"text-muted-foreground font-medium"},"Timezone:",-1)),e("span",Ts,l(s.sysinfo.timezone||"Loading..."),1)]),e("div",Rs,[t[22]||(t[22]=e("span",{class:"text-muted-foreground font-medium"},"URL:",-1)),e("a",{href:s.sysinfo.url,target:"_blank",class:"text-right text-blue-500 hover:text-blue-600 underline text-xs break-all"},l(s.sysinfo.url||"Loading..."),9,As)])])])]}),_:1})]),_:1})])])])}}},Os=P(Ns,[["__scopeId","data-v-5c959dcc"]]),Ws={class:"border-0 shadow-md rounded-2xl bg-card text-card-foreground p-4 transition-all duration-200 hover:shadow-lg relative"},qs={key:0,class:"absolute top-2 right-2 cursor-move opacity-50 z-10"},Fs={class:"flex items-center justify-between mb-3"},Qs={class:"text-base font-semibold flex items-center gap-2"},Es={key:1,class:"space-y-1 text-sm min-h-[175px]"},Us={key:2,class:"space-y-0.5 text-sm min-h-[175px]"},Gs=["onClick"],Js={class:"flex items-center gap-2 min-w-0 flex-1"},Ks={class:"min-w-0 flex-1"},Ys={class:"font-medium truncate text-sm leading-tight"},Zs={class:"text-xs text-muted-foreground truncate leading-tight"},Xs={class:"flex flex-col items-end flex-shrink-0 gap-0.5"},eo={key:0,class:"text-[10px] text-muted-foreground leading-tight"},to={key:0,class:"flex items-center justify-center min-h-[175px]"},so={class:"text-center text-muted-foreground"},oo={__name:"LatestDevicesWidget",props:{latestDevices:{type:Object,required:!0},isLoadingLatestDevices:{type:Boolean,required:!0},editMode:{type:Boolean,default:!1}},setup(s){const g=s,y=T(),f=A(()=>{var h;return((h=g.latestDevices)==null?void 0:h.data)||[]}),x=h=>{g.editMode||y.push({name:"device-view",params:{id:h}})},r=h=>{if(!h)return"N/A";const t=new Date(h);return t.toLocaleDateString()+" "+t.toLocaleTimeString()};return(h,t)=>{const w=z("RcIcon");return n(),d("div",Ws,[s.editMode?(n(),d("div",qs,[o(i(N),{class:"w-4 h-4 text-muted-foreground"})])):k("",!0),e("div",Fs,[e("h3",Qs,[o(w,{name:"device",class:"w-4 h-4"}),t[0]||(t[0]=_(" Latest Devices ",-1))])]),s.isLoadingLatestDevices?(n(),d("div",Es,[(n(),d(C,null,L(5,a=>e("div",{key:a,class:"flex items-center justify-between py-1"},[...t[1]||(t[1]=[D('<div class="flex items-center gap-2 flex-1"><div class="w-2 h-2 bg-muted rounded-full animate-pulse"></div><div class="flex-1 space-y-0.5"><div class="h-3.5 bg-muted rounded w-3/4 animate-pulse"></div><div class="h-3 bg-muted rounded w-1/2 animate-pulse"></div></div></div><div class="h-3.5 bg-muted rounded w-12 animate-pulse"></div>',2)])])),64))])):(n(),d("div",Us,[(n(!0),d(C,null,L(f.value,a=>(n(),d("div",{key:a.id,onClick:p=>x(a.id),class:b(["flex items-center justify-between py-1",s.editMode?"cursor-default":"cursor-pointer hover:bg-muted/30 rounded px-2 -mx-2 transition-colors"])},[e("div",Js,[e("div",{class:b(["w-2 h-2 rounded-full flex-shrink-0",a.status===1?"bg-green-500":"bg-red-500"])},null,2),e("div",Ks,[e("p",Ys,l(a.device_name),1),e("p",Zs,l(a.device_ip),1)])]),e("div",Xs,[e("span",{class:b(["text-xs font-medium leading-tight",a.status===1?"text-green-500":"text-red-500"])},l(a.status===1?"Up":"Down"),3),a.last_seen?(n(),d("span",eo,l(r(a.last_seen)),1)):k("",!0)])],10,Gs))),128)),f.value.length===0?(n(),d("div",to,[e("div",so,[o(w,{name:"device",class:"w-8 h-8 mx-auto mb-2 opacity-50"}),t[2]||(t[2]=e("p",{class:"text-sm"},"No devices available",-1))])])):k("",!0)]))])}}},no={key:0,class:"absolute top-2 right-2 cursor-move opacity-50"},io={class:"flex items-center justify-between mb-3"},ao={class:"text-base font-semibold flex items-center gap-2"},ro={class:"space-y-3 text-sm"},lo={key:0},co={class:"flex items-center justify-between py-1.5"},uo={class:"flex items-center gap-2"},go={class:"font-medium"},fo={class:"flex items-center justify-between py-1.5"},mo={class:"text-muted-foreground flex items-center gap-1"},vo={class:"font-medium text-xs"},xo={class:"border-t border-muted/50 pt-2 mt-2"},ho={class:"grid grid-cols-2 gap-2"},po={class:"flex justify-between items-center py-1"},bo={class:"font-medium"},yo={class:"flex justify-between items-center py-1"},wo={class:"font-medium text-red-500"},ko={key:1,class:"text-center py-4 text-muted-foreground"},_o={__name:"LatestConfigsWidget",props:{configinfo:{type:Object,required:!0},editMode:{type:Boolean,default:!1}},setup(s){const g=s,y=T(),f=te("formatters"),x=()=>{g.editMode||y.push("/configs")},r=h=>h===1?"✓":"✗";return(h,t)=>{const w=z("RcIcon");return n(),S(i(M),{class:"border-0 shadow-md rounded-2xl bg-card text-card-foreground p-4 transition-all duration-200 hover:shadow-lg relative"},{default:c(()=>{var a;return[s.editMode?(n(),d("div",no,[o(i(N),{class:"w-4 h-4 text-muted-foreground"})])):k("",!0),e("div",io,[e("h3",ao,[o(w,{name:"config-tools",class:"w-4"}),t[0]||(t[0]=_(" Latest Configs ",-1))])]),e("div",ro,[(a=s.configinfo.data)!=null&&a.lastConfig?(n(),d("div",lo,[e("div",co,[t[1]||(t[1]=e("span",{class:"text-muted-foreground"},"Last Download",-1)),e("div",uo,[e("span",go,l(r(s.configinfo.data.lastConfig.download_status)),1),e("div",{class:b(["w-2 h-2 rounded-full",s.configinfo.data.lastConfig.download_status===1?"bg-green-500":"bg-red-500"])},null,2)])]),e("div",fo,[e("span",mo,[o(i(ne),{class:"w-3 h-3"}),t[2]||(t[2]=_(" Time ",-1))]),e("span",vo,l(i(f).formatTime(s.configinfo.data.lastConfig.created_at)),1)]),e("div",xo,[e("div",ho,[e("div",po,[t[3]||(t[3]=e("span",{class:"text-muted-foreground"},"Total",-1)),e("span",bo,l(s.configinfo.data.configTotalCount),1)]),e("div",yo,[t[4]||(t[4]=e("span",{class:"text-muted-foreground"},"Failed",-1)),e("span",wo,l(s.configinfo.data.failedConfigCount||0),1)])])])])):(n(),d("div",ko," No config data available ")),o(i(se),{type:"button",class:"w-full px-2 py-1 mt-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:x,disabled:s.editMode,variant:"primary"},{default:c(()=>[...t[5]||(t[5]=[_(" View All Configs ",-1)])]),_:1},8,["disabled"])])]}),_:1})}}},$o={key:0,class:"absolute top-2 right-2 cursor-move opacity-50"},Co={class:"flex items-center justify-between mb-3"},Lo={class:"text-base font-semibold flex items-center gap-2"},jo={class:"space-y-2 text-sm"},So={class:"flex items-center gap-2"},Mo={class:"text-muted-foreground"},Do={class:"font-medium"},zo={__name:"QuickStatsWidget",props:{configinfo:{type:Object,required:!0},editMode:{type:Boolean,default:!1}},setup(s){const g=s,y=A(()=>{var h;const f=(h=g.configinfo)==null?void 0:h.data;if(!f)return[];const x=f.deviceCount>0?((f.deviceCount-f.deviceDownCount)/f.deviceCount*100).toFixed(1):0,r=f.configTotalCount>0?((f.configTotalCount-(f.failedConfigCount||0))/f.configTotalCount*100).toFixed(1):0;return[{label:"Device Uptime",value:`${x}%`,trend:x>=90?"up":"down",color:x>=90?"green":"red"},{label:"Config Success",value:`${r}%`,trend:r>=90?"up":"down",color:r>=90?"green":"amber"},{label:"Total Files",value:f.configFileTotalCount||0,trend:"neutral",color:"blue"}]});return(f,x)=>(n(),S(i(M),{class:"border-0 shadow-md rounded-2xl bg-card text-card-foreground p-4 transition-all duration-200 hover:shadow-lg relative"},{default:c(()=>[s.editMode?(n(),d("div",$o,[o(i(N),{class:"w-4 h-4 text-muted-foreground"})])):k("",!0),e("div",Co,[e("h3",Lo,[o(i(Z),{class:"w-4"}),x[0]||(x[0]=_(" Quick Stats ",-1))])]),e("div",jo,[(n(!0),d(C,null,L(y.value,(r,h)=>(n(),d("div",{key:h,class:"flex items-center justify-between py-1.5"},[e("div",So,[r.trend==="up"?(n(),S(i(ge),{key:0,class:b(["w-4 h-4",r.color==="green"?"text-green-500":"text-amber-500"])},null,8,["class"])):r.trend==="down"?(n(),S(i(fe),{key:1,class:"w-4 h-4 text-red-500"})):(n(),S(i(Z),{key:2,class:"w-4 h-4 text-muted-foreground"})),e("span",Mo,l(r.label),1)]),e("span",Do,l(r.value),1)]))),128))])]),_:1}))}},Vo={class:"border-0 shadow-md rounded-2xl bg-card text-card-foreground p-4 transition-all duration-200 hover:shadow-lg mb-4"},Io={class:"flex items-center justify-between mb-3"},Ho={class:"text-lg font-semibold flex items-center gap-2"},Bo={class:"flex items-center gap-2"},Po=["title"],To=["title"],Ro={key:0,class:"p-3 rounded-lg bg-muted/30 border border-muted"},Ao={class:"flex flex-wrap gap-2"},No=["onClick"],Oo={class:"mr-1.5"},Wo={key:1,class:"border-0 shadow-md rounded-2xl bg-card text-card-foreground p-4 transition-all duration-200 hover:shadow-lg"},qo={class:"text-center py-8"},Fo={class:"inline-flex p-3 rounded-full bg-muted/50 mb-3"},ee="dashboard_widgets_config",Qo={__name:"DashboardWidgets",props:{configinfo:{type:Object,required:!0},healthLatest:{type:Object,required:!0},latestDevices:{type:Object,required:!0},isLoadingLatestDevices:{type:Boolean,required:!0}},setup(s){const g=B(!0),y=B(!1),f={LatestDevicesWidget:oo,LatestConfigsWidget:_o,QuickStatsWidget:zo},x=B([{id:"latest-devices",name:"Latest Devices",component:"LatestDevicesWidget",enabled:!1,order:1},{id:"latest-configs",name:"Latest Configs",component:"LatestConfigsWidget",enabled:!1,order:2},{id:"quick-stats",name:"Quick Stats",component:"QuickStatsWidget",enabled:!1,order:3}]),r=A(()=>x.value.filter(m=>m.enabled).sort((m,u)=>m.order-u.order)),h=()=>{try{const m=localStorage.getItem(ee);if(m){const u=JSON.parse(m);x.value=x.value.map($=>{const v=u.find(j=>j.id===$.id);return v?{...$,...v}:$})}}catch(m){console.error("Error loading widget config:",m)}},t=()=>{try{localStorage.setItem(ee,JSON.stringify(x.value))}catch(m){console.error("Error saving widget config:",m)}};re(x,()=>{t()},{deep:!0});const w=()=>{g.value=!g.value},a=()=>{y.value=!y.value},p=m=>{const u=x.value.find($=>$.id===m);u&&(u.enabled=!u.enabled)};return oe(()=>{h()}),(m,u)=>{const $=z("RcIcon");return n(),d("div",{class:b(["hidden xl:block transition-all duration-300",g.value?"xl:col-span-12":"xl:col-span-4"])},[e("div",Vo,[e("div",Io,[e("h3",Ho,[o($,{name:"dashboard",class:"w-5 h-5"}),u[1]||(u[1]=_(" Dashboard Widgets ",-1))]),e("div",Bo,[e("button",{class:"p-2 rounded-lg hover:bg-muted/50 transition-colors",onClick:a,title:y.value?"Close configuration":"Configure Widgets"},[o(i(X),{class:"w-4 h-4"})],8,Po),e("button",{class:"p-2 rounded-lg hover:bg-muted/50 transition-colors",onClick:w,title:g.value?"Collapse":"Expand"},[g.value?(n(),S(i(ve),{key:1,class:"w-4 h-4"})):(n(),S(i(me),{key:0,class:"w-4 h-4"}))],8,To)])]),y.value?(n(),d("div",Ro,[u[2]||(u[2]=e("div",{class:"flex items-center justify-between mb-2"},[e("span",{class:"text-sm font-medium"},"Available Widgets"),e("span",{class:"text-xs text-muted-foreground"},"Click to enable/disable")],-1)),e("div",Ao,[(n(!0),d(C,null,L(x.value,v=>(n(),d("button",{key:v.id,onClick:j=>p(v.id),class:b(["px-3 py-1.5 rounded-md text-xs font-medium transition-all duration-200 cursor-pointer",v.enabled?"bg-blue-600 text-white hover:bg-blue-700 hover:animate-pulse":"bg-muted text-muted-foreground hover:bg-muted/70"])},[e("span",Oo,l(v.enabled?"✓":"+"),1),_(" "+l(v.name),1)],10,No))),128))])])):k("",!0)]),r.value.length>0?(n(),d("div",{key:0,class:b(["grid gap-4",g.value?"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3":"grid-cols-1"])},[(n(!0),d(C,null,L(r.value,v=>(n(),S(le(f[v.component]),{key:v.id,configinfo:s.configinfo,healthLatest:s.healthLatest,latestDevices:s.latestDevices,isLoadingLatestDevices:s.isLoadingLatestDevices,editMode:y.value,class:"transition-all duration-200"},null,8,["configinfo","healthLatest","latestDevices","isLoadingLatestDevices","editMode"]))),128))],2)):k("",!0),r.value.length===0?(n(),d("div",Wo,[e("div",qo,[e("div",Fo,[o(i(ke),{class:"w-6 h-6 text-muted-foreground"})]),u[4]||(u[4]=e("h4",{class:"text-sm font-semibold mb-1"},"No Widgets Active",-1)),u[5]||(u[5]=e("p",{class:"text-xs text-muted-foreground mb-3"}," Click the settings icon to add widgets ",-1)),o(i(se),{class:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse text-white",size:"sm",onClick:u[0]||(u[0]=v=>y.value=!0),variant:"primary"},{default:c(()=>[o(i(X),{class:"w-4 h-4 mr-2"}),u[3]||(u[3]=_(" Configure Widgets ",-1))]),_:1})])])):k("",!0)],2)}}},Eo={class:"flex flex-col flex-1 gap-4 p-6 dark:bg-rcgray-900"},Uo={class:"grid grid-cols-1 xl:grid-cols-12 gap-6 items-start"},Go={class:"xl:col-span-12"},rn={__name:"Main",props:{},setup(s){const{fetchSysinfo:g,fetchConfiginfo:y,fetchHealth:f,fetchLatestDevices:x,sysinfo:r,configinfo:h,healthLatest:t,latestDevices:w,isLoadingSysinfo:a,isLoadingConfiginfo:p,isLoadingHealth:m,isLoadingLatestDevices:u}=xe();return oe(()=>{g(),y(),f(),x()}),($,v)=>(n(),d("main",Eo,[e("div",Uo,[o(Qt),e("div",Go,[o(ot,{configinfo:i(h),isLoadingConfiginfo:i(p)},null,8,["configinfo","isLoadingConfiginfo"])]),o(Os,{sysinfo:i(r),isLoadingSysinfo:i(a),onRefresh:v[0]||(v[0]=j=>i(g)(!0))},null,8,["sysinfo","isLoadingSysinfo"]),o(Wt,{healthLatest:i(t),isLoadingHealth:i(m),onRefresh:i(f),SystemUptime:i(r).systemUptime},null,8,["healthLatest","isLoadingHealth","onRefresh","SystemUptime"]),o(Qo,{configinfo:i(h),healthLatest:i(t),latestDevices:i(w),isLoadingLatestDevices:i(u)},null,8,["configinfo","healthLatest","latestDevices","isLoadingLatestDevices"])])]))}};export{rn as default};
