import{B as De,z as g,o as a,w as l,C as dt,D as it,f as e,E as rt,I as ut,c as p,e as t,v as me,h as i,x as fe,k as d,d as y,j as B,t as k,F as K,G as H,H as Ge,y as pe,u as Be,J as Ae,r as S,A as le,a as ae,K as ne,L as ct,M as mt,N as ft,O as pt,P as Ee,Q as je,R as vt,S as gt,T as ee,U as qe,V as J,W as Z,q as Ke,X as Re,Y as He,Z as ue,$ as Ye,a0 as Ie,a1 as _t,a2 as Se,a3 as yt,a4 as xt,a5 as kt,a6 as bt,a7 as $t,a8 as Ct,a9 as wt,aa as ht,ab as Dt,ac as Je,b as Fe,ad as It,ae as St,af as ze,ag as Vt,ah as Pt,ai as Nt,aj as Tt}from"./app-xn2RtsP0.js";import{u as ve,_ as ge,a as _e,b as te,c as L,d as ye,e as xe,f as M,g as Ce,h as ke,i as be,j as $e,k as ie,l as Et,m as Bt,n as At,o as Ft,p as Ut,q as Lt,r as Mt,s as Ot,t as ce,v as jt,w as zt}from"./useRowSelection-Dw9uXHYU.js";import{_ as Gt,u as qt,a as Kt,b as Rt,c as Ht}from"./TagMultiSelect.vue_vue_type_script_setup_true_lang-AsgG5FDG.js";import{_ as Qe}from"./useCredentials-BdI0W9p-.js";import{e as oe}from"./eventBus-CGRXT3Tn.js";import{_ as Ve}from"./DeviceListPopover-DIucsBUQ.js";import{u as Yt,a as Jt,_ as Qt,b as Wt,c as Xt,d as Zt,e as el,f as tl}from"./useTemplatesGithub-DsmO9qv-.js";/* empty css               */const ll={__name:"SheetDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(x){const T=x,r=De(()=>{const{class:f,...$}=T;return $});return(f,$)=>(a(),g(e(ut),it({class:e(rt)("text-sm text-muted-foreground",T.class)},r.value),{default:l(()=>[dt(f.$slots,"default")]),_:3},16,["class"]))}},sl={class:"space-y-2"},al={class:"mb-2 text-sm text-muted-foreground"},nl={key:0,class:"text-xs text-muted-foreground"},ol={__name:"CategoryListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(x){return(T,r)=>{const f=p("Button"),$=p("router-link");return a(),g(e(pe),null,{default:l(()=>[t(e(me),{"as-child":""},{default:l(()=>[t(f,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>[...r[0]||(r[0]=[i(" ... ",-1)])]),_:1})]),_:1}),t(e(fe),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[d("div",sl,[d("p",al,"All command groups associated with "+k(x.recordName)+". Showing "+k(x.displayCount)+" records.",1)]),(a(!0),y(K,null,H(x.items.slice(0,x.displayCount),o=>(a(),g(e(Ge),{key:o[x.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t($,{to:o.view_url},{default:l(()=>[i(k(o[x.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),x.displayCount>x.displayCount-1?(a(),y("span",nl,[r[2]||(r[2]=d("br",null,null,-1)),i(" Displaying only "+k(x.displayCount)+" records. Visit the ",1),t($,{to:"/commandgroups",class:"text-blue-500 hover:underline"},{default:l(()=>[...r[1]||(r[1]=[i(" Command Groups ",-1)])]),_:1}),r[3]||(r[3]=i(" page to view all devices. ",-1))])):B("",!0)]),_:1})]),_:1})}}},dl={class:"flex items-center"},il={class:"ml-2"},rl={key:0,class:"grid gap-2 p-4"},ul={class:"grid items-center grid-cols-4 gap-2"},cl={key:0,class:"col-span-3 col-start-2 text-sm text-red-400"},ml={class:"grid items-center grid-cols-4 gap-2"},fl={class:"grid items-center grid-cols-4 gap-2"},pl={key:0,class:"col-span-3 col-start-2 text-sm text-red-400"},vl={class:"pl-2 ml-auto"},gl={class:"rc-kdb-class2"},_l={class:"pl-2 ml-auto"},yl={class:"rc-kdb-class2"},xl={__name:"CommandAddEditDialog",props:{editId:Number},emits:["save"],setup(x,{emit:T}){const{toastSuccess:r}=Be(),f=Ae(),{openDialog:$,closeDialog:o,isDialogOpen:w}=f,v=T,N=S([]),E=S(!1),h=S({command:"",description:"",category:[]}),A=x;function c(C){C.ctrlKey&&C.key==="Enter"&&u()}le(()=>{A.editId>0&&(E.value=!0,ae.get(`/api/commands/${A.editId}`).then(C=>{h.value=C.data,h.value.categoryArray=C.data.category.map(m=>m.id)}),E.value=!1),window.addEventListener("keydown",c)}),ne(()=>{window.removeEventListener("keydown",c)});function u(){let C=A.editId>0?`/${A.editId}`:"",m=A.editId>0?"patch":"post";ae[m]("/api/commands"+C,h.value).then(O=>{v("save",O.data),r("Command created","The command has been created successfully."),o("DialogNewCommand")}).catch(O=>{N.value=O.response.data.errors})}return(C,m)=>{const O=p("CommandsIcon"),F=p("Button"),D=p("Icon");return a(),g(e(gt),{open:e(w)("DialogNewCommand")},{default:l(()=>[t(e(ct),{"as-child":""}),t(e(mt),{class:"p-0 sm:max-w-fit",onEscapeKeyDown:m[6]||(m[6]=V=>e(o)("DialogNewCommand")),onPointerDownOutside:m[7]||(m[7]=V=>e(o)("DialogNewCommand")),onCloseClicked:m[8]||(m[8]=V=>e(o)("DialogNewCommand"))},{default:l(()=>[t(e(ft),{class:"rc-dialog-header"},{default:l(()=>[t(e(pt),{class:"text-sm text-rcgray-200"},{default:l(()=>[d("div",dl,[t(O),d("span",il,k(x.editId>0?"Edit":"Add")+" Command "+k(x.editId>0?"(ID: "+x.editId+")":""),1)])]),_:1})]),_:1}),t(Qe,{state:E.value},null,8,["state"]),E.value?B("",!0):(a(),y("div",rl,[d("div",ul,[t(e(Ee),{for:"command",class:"text-right"},{default:l(()=>[...m[9]||(m[9]=[i(" Command Name ",-1),d("span",{class:"text-red-400"},"*",-1)])]),_:1}),t(e(je),{modelValue:h.value.command,"onUpdate:modelValue":m[0]||(m[0]=V=>h.value.command=V),id:"command",class:"col-span-3"},null,8,["modelValue"]),N.value.command?(a(),y("span",cl,k(N.value.command[0]),1)):B("",!0)]),d("div",ml,[t(e(Ee),{for:"description",class:"text-right"},{default:l(()=>[...m[10]||(m[10]=[i(" Description ",-1),d("span",{class:"text-red-400"},"*",-1)])]),_:1}),t(e(je),{modelValue:h.value.description,"onUpdate:modelValue":m[1]||(m[1]=V=>h.value.description=V),id:"description",class:"col-span-3"},null,8,["modelValue"])]),d("div",fl,[t(e(Ee),{for:"description",class:"text-right"},{default:l(()=>[...m[11]||(m[11]=[i(" Command Groups ",-1),d("span",{class:"text-red-400"},"*",-1)])]),_:1}),t(Gt,{modelValue:h.value.category,"onUpdate:modelValue":m[2]||(m[2]=V=>h.value.category=V)},null,8,["modelValue"]),N.value.category?(a(),y("span",pl,k(N.value.category[0]),1)):B("",!0)])])),t(e(vt),{class:"rc-dialog-footer bg-rcgray-800"},{default:l(()=>[t(F,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:m[3]||(m[3]=V=>e(o)("DialogNewCommand")),size:"sm"},{default:l(()=>[...m[12]||(m[12]=[i(" Cancel ",-1),d("div",{class:"pl-2 ml-auto"},[d("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1}),A.editId===0?(a(),g(F,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:m[4]||(m[4]=V=>u()),variant:"primary"},{default:l(()=>[m[14]||(m[14]=i(" Save ",-1)),d("div",vl,[d("kbd",gl,[m[13]||(m[13]=i(" Ctrl  ",-1)),t(D,{icon:"uil:enter",class:""})])])]),_:1})):B("",!0),A.editId>0?(a(),g(F,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:m[5]||(m[5]=V=>u()),variant:"primary"},{default:l(()=>[m[16]||(m[16]=i(" Update ",-1)),d("div",_l,[d("kbd",yl,[m[15]||(m[15]=i(" Ctrl  ",-1)),t(D,{icon:"uil:enter",class:""})])])]),_:1})):B("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function kl(){const x=S(1),T=S(parseInt(localStorage.getItem("perPage")||"10")),r=S("-id"),f=S(""),$=S({}),o=Ae(),w=S(0),v=S(!1),N=S(1),E=S(1),h=S([]),A=S(!1),{openDialog:c}=o,{toastSuccess:u,toastError:C}=Be();async function m(j={}){v.value=!0;try{const P=await ae.get("/api/commands",{params:{page:x.value,perPage:T.value,sort:r.value,...$.value}});h.value=P.data,N.value=P.data.last_page}catch(P){console.error("Error fetching commands:",P),C("Error","Failed to fetch commands.")}finally{v.value=!1}}const O=j=>{w.value=0,E.value=Math.random(),c("DialogNewCommand")};function F(j){w.value=j,E.value=Math.random(),c("DialogNewCommand")}const D=async j=>{try{await ae.delete(`/api/commands/${j}`),m(),u("Command Deleted","The command has been deleted successfully."),A.value=!1}catch(P){P.status===422?C("Error",P.response.data.message):(console.error("Error deleting Command Group:",P),C("Error","Failed to delete Command Group."))}},V=async j=>{try{await ae.post("/api/commands/delete-many",{ids:j}),m(),u("Commands Deleted","The commands have been deleted successfully."),A.value=!1,oe.emit("deleteManyCommandsSuccess")}catch(P){P.status===422?C("Error",P.response.data.message):(console.error("Error deleting Command Group:",P),C("Error","Failed to delete Command Group."))}},z=j=>{w.value=j,E.value=Math.random(),c("DialogNewCommand")},Q=()=>{m(),E.value=Math.random()};function I(j){j.altKey&&j.key==="n"&&(j.preventDefault(),c("DialogNewCommand"))}const X=qe(()=>{$.value["filter[command]"]=f.value,x.value=1,m()},500);ee([x,T],()=>{m()}),ee(f,()=>{X()}),ee(T,j=>{localStorage.setItem("perPage",j.toString())});function s(j){r.value===j?r.value=`-${j}`:r.value=j,m()}return{commands:h,isLoading:v,currentPage:x,perPage:T,lastPage:N,editId:w,newCommandModalKey:E,searchTerm:f,openDialog:c,fetchCommands:m,createCommand:O,updateCommand:F,deleteCommand:D,deleteManyCommands:V,handleSave:Q,handleKeyDown:I,viewEditDialog:z,toggleSort:s,sortParam:r,showConfirmDelete:A}}const bl={class:"flex flex-col h-full gap-1 text-center"},$l={class:"flex items-center justify-between p-4"},Cl={class:"flex items-center"},wl={class:"flex"},hl={class:"px-6"},Dl={key:0,class:"mr-2"},Il={__name:"Main",setup(x){const{editId:T,commands:r,currentPage:f,perPage:$,searchTerm:o,lastPage:w,isLoading:v,fetchCommands:N,viewEditDialog:E,createCommand:h,deleteCommand:A,deleteManyCommands:c,handleSave:u,showConfirmDelete:C,handleKeyDown:m,newCommandModalKey:O,toggleSort:F,sortParam:D}=kl(),{selectedRows:V,selectAll:z,toggleSelectAll:Q,toggleSelectRow:I}=ve(r);return le(()=>{N(),window.addEventListener("keydown",m),oe.on("deleteManyCommandsSuccess",()=>{V.value=[],z.value=!1})}),ne(()=>{window.removeEventListener("keydown",m)}),(X,s)=>{const j=p("Input"),P=p("Button"),q=p("Checkbox"),R=p("Icon"),W=p("router-link"),U=p("Badge"),Y=p("Toaster");return a(),y("div",bl,[d("div",$l,[d("div",Cl,[t(j,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter commands...",modelValue:e(o),"onUpdate:modelValue":s[0]||(s[0]=n=>J(o)?o.value=n:null)},null,8,["modelValue"]),e(o)?(a(),g(ge,{key:0,"onUpdate:modelValue":s[1]||(s[1]=n=>o.value="")})):B("",!0)]),d("div",wl,[e(V).length?(a(),g(P,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:s[2]||(s[2]=Z(n=>C.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+k(e(V).length)+" Command(s) ",1)]),_:1})):B("",!0),t(P,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:Z(e(h),["prevent"]),variant:"primary"},{default:l(()=>[...s[12]||(s[12]=[i(" New Command ",-1),d("div",{class:"pl-2 ml-auto"},[d("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1},8,["onClick"])])]),d("div",hl,[t(e(be),null,{default:l(()=>[t(e(_e),null,{default:l(()=>[t(e(te),null,{default:l(()=>[t(e(L),{class:"w-[2%]"},{default:l(()=>[t(q,{id:"selectAll",modelValue:e(z),"onUpdate:modelValue":s[3]||(s[3]=n=>J(z)?z.value=n:null),checked:e(z),onClick:s[4]||(s[4]=n=>e(Q)())},null,8,["modelValue","checked"])]),_:1}),t(e(L),{class:"w-[5%]"},{default:l(()=>[t(P,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[5]||(s[5]=n=>e(F)("id"))},{default:l(()=>[t(R,{icon:e(D)==="id"?"lucide:sort-asc":e(D)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[13]||(s[13]=d("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[t(P,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[6]||(s[6]=n=>e(F)("tagname"))},{default:l(()=>[t(R,{icon:e(D)==="tagname"?"lucide:sort-asc":e(D)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[14]||(s[14]=d("span",{class:"ml-2"},"Command",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[...s[15]||(s[15]=[i("Description",-1)])]),_:1}),t(e(L),{class:"w-[40%]"},{default:l(()=>[...s[16]||(s[16]=[i("Command Groups",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[...s[17]||(s[17]=[i("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:l(()=>[e(v)?(a(),g(xe,{key:0})):e(v)?(a(),g(ke,{key:2})):(a(!0),y(K,{key:1},H(e(r).data,n=>(a(),g(e(te),{key:n.id},{default:l(()=>[t(e(M),{class:"text-start"},{default:l(()=>[t(q,{class:"cursor-pointer",id:"select-"+n.id,checked:!!e(V).includes(n.id),onClick:G=>e(I)(n.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.id),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.command),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.description),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,H(n.category.slice(0,8),(G,we)=>(a(),y("span",{key:G.categoryName,class:"mr-2"},[t(U,{variant:"outline",class:Ke([G.badgeColor?G.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","py-1 mt-1 hover:bg-rcgray-800"])},{default:l(()=>[t(W,{to:G.view_url},{default:l(()=>[i(k(G.categoryName),1)]),_:2},1032,["to"])]),_:2},1032,["class"])]))),128)),n.category.length>8?(a(),y("span",Dl,[t(ol,{recordName:n.command,items:n.category,displayField:"categoryName"},null,8,["recordName","items"])])):B("",!0)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[t(Ce,{rowData:n,onOnEdit:G=>e(E)(n.id),onOnDelete:G=>e(A)(n.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t($e,{currentPage:e(f),lastPage:e(w),perPage:e($),"onUpdate:currentPage":s[7]||(s[7]=n=>f.value=n),"onUpdate:perPage":s[8]||(s[8]=n=>$.value=n)},null,8,["currentPage","lastPage","perPage"]),(a(),g(xl,{onSave:s[9]||(s[9]=n=>e(u)()),key:e(O),editId:e(T)},null,8,["editId"])),t(ie,{ids:e(V),showConfirmDelete:e(C),onClose:s[10]||(s[10]=n=>C.value=!1),onHandleDelete:s[11]||(s[11]=n=>e(c)(e(V)))},null,8,["ids","showConfirmDelete"]),t(Y)])])}}},Sl={class:"flex flex-col h-full gap-1 text-center"},Vl={class:"flex items-center justify-between p-4"},Pl={class:"flex items-center"},Nl={class:"flex"},Tl={class:"px-6"},El={key:0,class:"mr-2"},Bl={__name:"Main",setup(x){const{editId:T,categories:r,currentPage:f,perPage:$,searchTerm:o,lastPage:w,isLoading:v,fetchCommandGroups:N,viewEditDialog:E,createCommandGroup:h,deleteCommandGroup:A,deleteManyCommandGroups:c,handleSave:u,showConfirmDelete:C,handleKeyDown:m,newCommandGroupsModalKey:O,toggleSort:F,sortParam:D}=qt(),{selectedRows:V,selectAll:z,toggleSelectAll:Q,toggleSelectRow:I}=ve(r);return le(()=>{N(),window.addEventListener("keydown",m),oe.on("deleteManyCommandGroupsSuccess",()=>{V.value=[],z.value=!1})}),ne(()=>{window.removeEventListener("keydown",m)}),(X,s)=>{const j=p("Input"),P=p("Button"),q=p("Checkbox"),R=p("Icon"),W=p("router-link"),U=p("Badge"),Y=p("Toaster");return a(),y("div",Sl,[s[18]||(s[18]=d("div",{class:"hidden text-yellow-200 text-teal-100 bg-yellow-700 bg-teal-700 border-yellow-500 border-teal-500 bg-stone-700 text-stone-200 border-stone-500 bg-lime-700 text-lime-200 border-lime-500 bg-sky-700 text-sky-100 border-sky-500 bg-violet-700 text-violet-200 border-violet-500 bg-fuchsia-700 text-fuchsia-200 border-fuchsia-500"},null,-1)),d("div",Vl,[d("div",Pl,[t(j,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter command groups...",modelValue:e(o),"onUpdate:modelValue":s[0]||(s[0]=n=>J(o)?o.value=n:null)},null,8,["modelValue"]),e(o)?(a(),g(ge,{key:0,"onUpdate:modelValue":s[1]||(s[1]=n=>o.value="")})):B("",!0)]),d("div",Nl,[e(V).length?(a(),g(P,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:s[2]||(s[2]=Z(n=>C.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+k(e(V).length)+" CommandGroup(s) ",1)]),_:1})):B("",!0),t(P,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:Z(e(h),["prevent"]),variant:"primary"},{default:l(()=>[...s[12]||(s[12]=[i(" New Command Group ",-1),d("div",{class:"pl-2 ml-auto"},[d("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1},8,["onClick"])])]),d("div",Tl,[t(e(be),null,{default:l(()=>[t(e(_e),null,{default:l(()=>[t(e(te),null,{default:l(()=>[t(e(L),{class:"w-[2%]"},{default:l(()=>[t(q,{id:"selectAll",modelValue:e(z),"onUpdate:modelValue":s[3]||(s[3]=n=>J(z)?z.value=n:null),checked:e(z),onClick:s[4]||(s[4]=n=>e(Q)())},null,8,["modelValue","checked"])]),_:1}),t(e(L),{class:"w-[5%]"},{default:l(()=>[t(P,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[5]||(s[5]=n=>e(F)("id"))},{default:l(()=>[t(R,{icon:e(D)==="id"?"lucide:sort-asc":e(D)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[13]||(s[13]=d("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[t(P,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[6]||(s[6]=n=>e(F)("categoryName"))},{default:l(()=>[t(R,{icon:e(D)==="categoryName"?"lucide:sort-asc":e(D)==="-categoryName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[14]||(s[14]=d("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[...s[15]||(s[15]=[i("Description",-1)])]),_:1}),t(e(L),{class:"w-[40%]"},{default:l(()=>[...s[16]||(s[16]=[i("Devices",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[...s[17]||(s[17]=[i("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:l(()=>[e(v)?(a(),g(xe,{key:0})):e(v)?(a(),g(ke,{key:2})):(a(!0),y(K,{key:1},H(e(r).data,n=>(a(),g(e(te),{key:n.id},{default:l(()=>[t(e(M),{class:"text-start"},{default:l(()=>[t(q,{class:"cursor-pointer",id:"select-"+n.id,checked:!!e(V).includes(n.id),onClick:G=>e(I)(n.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.id),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[d("span",{class:Ke([n.badgeColor?n.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","w-fit flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"])},k(n.categoryName),3)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.categoryDescription),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,H(n.device.slice(0,8),(G,we)=>(a(),y("span",{key:G.device_name,class:"mr-2"},[t(U,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(W,{to:G.view_url},{default:l(()=>[i(k(G.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),n.device.length>8?(a(),y("span",El,[t(Ve,{recordName:n.categoryName,items:n.device,displayField:"device_name"},null,8,["recordName","items"])])):B("",!0)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[t(Ce,{rowData:n,onOnEdit:G=>e(E)(n.id),onOnDelete:G=>e(A)(n.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t($e,{currentPage:e(f),lastPage:e(w),perPage:e($),"onUpdate:currentPage":s[7]||(s[7]=n=>f.value=n),"onUpdate:perPage":s[8]||(s[8]=n=>$.value=n)},null,8,["currentPage","lastPage","perPage"]),(a(),g(Kt,{onSave:s[9]||(s[9]=n=>e(u)()),key:e(O),editId:e(T)},null,8,["editId"])),t(ie,{ids:e(V),showConfirmDelete:e(C),onClose:s[10]||(s[10]=n=>C.value=!1),onHandleDelete:s[11]||(s[11]=n=>e(c)(e(V)))},null,8,["ids","showConfirmDelete"]),t(Y)])])}}},Al={__name:"ConfirmDisableAlert",props:{ids:{type:Array,required:!0},showConfirmDisable:{type:Boolean,required:!0}},emits:["handleDisable","close"],setup(x,{emit:T}){const r=T;le(()=>{window.addEventListener("keydown",o=>{o.key==="Escape"&&$()})}),ne(()=>{window.removeEventListener("keydown",o=>{o.key==="Escape"&&$()})});function f(){r("handleDisable")}function $(){r("close")}return(o,w)=>(a(),g(e(Ot),{open:x.showConfirmDisable},{default:l(()=>[t(e(Et),null,{default:l(()=>[t(e(Bt),null,{default:l(()=>[t(e(At),null,{default:l(()=>[i("Disable device with ID "+k(x.ids)+"?",1)]),_:1}),t(e(Ft),null,{default:l(()=>[...w[2]||(w[2]=[i("Are you absolutely sure you want to disable this device? Disabling a device stops it from downloading configs via scheduled tasks and other operations.",-1)])]),_:1})]),_:1}),t(e(Ut),null,{default:l(()=>[t(e(Lt),{onCancel:w[0]||(w[0]=v=>$())},{default:l(()=>[...w[3]||(w[3]=[i("Cancel",-1)])]),_:1}),t(e(Mt),{onAction:w[1]||(w[1]=v=>f())},{default:l(()=>[...w[4]||(w[4]=[i("Continue",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}},Fl={__name:"ActionsMenuDevices",props:{rowData:{type:Object,required:!0},showEditBtn:{type:Boolean,default:!0}},emits:["onEdit","onDelete","onDisable","onClone"],setup(x,{emit:T}){const r=S(!1),f=S(!1),$=T;function o(){$("onEdit")}function w(){$("onClone")}function v(){r.value=!0}function N(){$("onDelete"),r.value=!1}function E(){f.value=!0}function h(){$("onDisable"),f.value=!1}function A(){$("onEnable")}return(c,u)=>{const C=p("Button"),m=p("Icon");return a(),y("div",null,[t(e(Ye),null,{default:l(()=>[t(e(Re),{"as-child":""},{default:l(()=>[t(C,{variant:"ghost",class:"hover:animate-pulse"},{default:l(()=>[...u[2]||(u[2]=[i(" ... ",-1)])]),_:1})]),_:1}),t(e(He),{class:"w-56",align:"end",side:"bottom"},{default:l(()=>[x.showEditBtn?(a(),g(e(ue),{key:0,class:"cursor-pointer hover:bg-rcgray-800",onClick:o},{default:l(()=>[u[3]||(u[3]=d("span",null,"Edit",-1)),t(e(ce),null,{default:l(()=>[t(m,{icon:"fluent-color:text-edit-style-16"})]),_:1})]),_:1})):B("",!0),x.showEditBtn?(a(),g(e(ue),{key:1,class:"cursor-pointer hover:bg-rcgray-800",onClick:w},{default:l(()=>[u[4]||(u[4]=d("span",null,"Clone",-1)),t(e(ce),null,{default:l(()=>[t(m,{icon:"material-symbols:content-copy-outline"})]),_:1})]),_:1})):B("",!0),x.showEditBtn?(a(),g(e(jt),{key:2})):B("",!0),x.rowData.status===100?(a(),g(e(ue),{key:3,class:"cursor-pointer hover:bg-rcgray-800",onClick:A},{default:l(()=>[u[5]||(u[5]=d("span",null,"Enable",-1)),t(e(ce),null,{default:l(()=>[t(m,{icon:"emojione-v1:up-arrow"})]),_:1})]),_:1})):B("",!0),x.rowData.status!=100?(a(),g(e(ue),{key:4,class:"cursor-pointer hover:bg-rcgray-800",onClick:E},{default:l(()=>[u[6]||(u[6]=d("span",null,"Disable",-1)),t(e(ce),null,{default:l(()=>[t(m,{icon:"emojione-v1:down-arrow"})]),_:1})]),_:1})):B("",!0),t(e(ue),{class:"cursor-pointer hover:bg-rcgray-800",onClick:v},{default:l(()=>[u[7]||(u[7]=d("span",{class:"text-red-400"},"Delete",-1)),t(e(ce),null,{default:l(()=>[t(m,{icon:"flat-color-icons:full-trash"})]),_:1})]),_:1})]),_:1})]),_:1}),t(Al,{ids:[x.rowData.id],showConfirmDisable:f.value,onClose:u[0]||(u[0]=O=>f.value=!1),onHandleDisable:h},null,8,["ids","showConfirmDisable"]),t(ie,{ids:[x.rowData.id],showConfirmDelete:r.value,onClose:u[1]||(u[1]=O=>r.value=!1),onHandleDelete:N},null,8,["ids","showConfirmDelete"])])}}},Ul={key:0,class:"text-sm font-light"},Ll={class:"text-sm font-semibold"},Ml={class:"relative items-center w-full"},Ol={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},jl={class:"py-1"},zl=["onClick"],Gl=["checked"],ql={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Kl={"data-size":"20"},Rl={class:"p-1 border-5"},Hl=Ie({__name:"CategoryFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(x,{emit:T}){const r=T,f=S([]),$=S(!1),o=S([]),w=S(""),v=S(!1),N=x;le(()=>{h()}),ee(()=>N.modelValue,c=>{o.value=c,v.value=o.value.length===f.value.length});function E(c){if(c.id===9999999)v.value?(o.value=[],v.value=!1):(o.value=[...f.value],v.value=!0);else{const u=o.value.findIndex(C=>C.id===c.id);u!==-1?(o.value.splice(u,1),v.value=!1):(o.value.push(c),o.value.length===f.value.length&&(v.value=!0))}$.value=!1,r("update:modelValue",o.value)}function h(){ae.get("/api/categories/?perPage=10000").then(c=>{f.value=c.data.data})}const A=De(()=>f.value.filter(c=>c.categoryName.toLowerCase().includes(w.value.toLowerCase())));return(c,u)=>{const C=p("Button"),m=p("Input"),O=p("Icon"),F=p("Separator");return a(),g(e(pe),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(C,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(_t,{class:"mr-2"}),o.value&&o.value.length===0?(a(),y(K,{key:0},[i("Command Group")],64)):(a(),y(K,{key:1},[o.value.length>0?(a(),y("span",Ul,[u[2]||(u[2]=i(" Command Group ",-1)),d("strong",Ll,k(o.value.length)+" selected",1)])):B("",!0)],64))]),_:1})]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[d("div",Ml,[t(m,{id:"search",type:"text",modelValue:w.value,"onUpdate:modelValue":u[0]||(u[0]=D=>w.value=D),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),d("span",Ol,[t(O,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(F),t(e(Se),{class:"h-44"},{default:l(()=>[d("div",jl,[(a(!0),y(K,null,H(A.value,D=>(a(),y("div",{key:D.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:V=>E(D)},[d("input",{type:"checkbox",checked:o.value.some(V=>V.id===D.id),class:"mr-2"},null,8,Gl),d("span",ql,[d("span",Kl,k(D.categoryName),1)])],8,zl))),128))])]),_:1}),t(F),d("div",Rl,[t(C,{variant:"ghost",class:"justify-start w-full p-1",onClick:u[1]||(u[1]=D=>E({id:9999999}))},{default:l(()=>[t(O,{icon:v.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),d("span",null,k(v.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),Yl={class:"border-b"},Jl={__name:"CommentSheet",props:{deviceId:{type:Number,required:!0},deviceName:{type:String,required:!0}},emits:["commentsaved"],setup(x,{emit:T}){const r=x,{closeSheet:f,isSheetOpen:$,viewDevice:o}=Yt(r),w=T,v=Jt(),N=S(v.commentCounters[r.deviceId]||0);return ee(()=>v.commentCounters[r.deviceId],(E,h)=>{N.value=E}),(E,h)=>{const A=p("Separator");return a(),g(e(Ct),{open:e($)("DeviceCommentSheet")},{default:l(()=>[t(e(yt),{class:"h-[96vh] m-6 rounded-lg border p-2",onEscapeKeyDown:h[2]||(h[2]=c=>e(f)("DeviceCommentSheet")),onPointerDownOutside:h[3]||(h[3]=c=>e(f)("DeviceCommentSheet")),onCloseClicked:h[4]||(h[4]=c=>e(f)("DeviceCommentSheet"))},{default:l(()=>[t(e(xt),null,{default:l(()=>[t(e(kt),{class:"mt-2 ml-1"},{default:l(()=>[i(k(N.value)+" Comments ",1),h[5]||(h[5]=d("span",{class:"text-sm font-light text-muted-foreground"},"on",-1)),t(e(bt),{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl text-muted-foreground",variant:"ghost",onClick:h[0]||(h[0]=c=>e(o)(x.deviceId))},{default:l(()=>[d("span",Yl,k(x.deviceName),1)]),_:1})]),_:1}),t(e(ll),null,{default:l(()=>[t(A)]),_:1})]),_:1}),t($t,{name:"fade"},{default:l(()=>[d("div",null,[t(Qt,{onCommentsaved:h[1]||(h[1]=c=>w("commentsaved")),deviceId:x.deviceId,deviceName:x.deviceName},null,8,["deviceId","deviceName"])])]),_:1})]),_:1})]),_:1},8,["open"])}}},Ql={key:0,class:"text-sm font-light"},Wl={class:"text-sm font-semibold"},Xl={class:"py-1"},Zl=["onClick"],es=["checked"],ts={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},ls={"data-size":"20"},ss=Ie({__name:"StatusFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(x,{emit:T}){const r=T,f=S([{id:0,name:"Unreachable"},{id:1,name:"Reachable"},{id:2,name:"Unknown"},{id:100,name:"Disabled"},{id:200,name:"All"}]),$=S(!1),o=S([]),w=x;ee(()=>w.modelValue,N=>{o.value=N});function v(N){if(N.id===200)o.value.length===f.value.length?o.value=[]:o.value=[...f.value];else{const E=o.value.findIndex(h=>h.id===N.id);if(E!==-1){o.value.splice(E,1);const h=o.value.findIndex(A=>A.id===200);h!==-1&&o.value.splice(h,1)}else o.value.push(N)}$.value=!1,r("update:modelValue",o.value)}return(N,E)=>{const h=p("Icon"),A=p("Button");return a(),g(e(pe),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(A,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(h,{icon:"material-symbols-light:signal-wifi-statusbar-not-connected-rounded",class:"mr-2"}),o.value&&o.value.length===0?(a(),y(K,{key:0},[i("Status")],64)):(a(),y(K,{key:1},[o.value.length>0?(a(),y("span",Ql,[E[0]||(E[0]=i(" Status ",-1)),d("strong",Wl,k(o.value.length)+" selected",1)])):B("",!0)],64))]),_:1})]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"p-0 w-44"},{default:l(()=>[t(e(Se),{class:"h-44"},{default:l(()=>[d("div",Xl,[(a(!0),y(K,null,H(f.value,c=>(a(),y("div",{key:c.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:u=>v(c)},[d("input",{type:"checkbox",checked:o.value.some(u=>u.id===c.id),class:"mr-2"},null,8,es),d("span",ts,[d("span",ls,k(c.name),1)])],8,Zl))),128))])]),_:1})]),_:1})]),_:1})}}}),as={key:0,class:"text-sm font-light"},ns={class:"text-sm font-semibold"},os={class:"relative items-center w-full"},ds={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},is={class:"py-1"},rs=["onClick"],us=["checked"],cs={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},ms={"data-size":"20"},fs={class:"p-1 border-5"},ps=Ie({__name:"TagFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(x,{emit:T}){const r=T,f=S([]),$=S(!1),o=S([]),w=S(""),v=S(!1),N=x;le(()=>{h()}),ee(()=>N.modelValue,c=>{o.value=c,v.value=o.value.length===f.value.length});function E(c){if(c.id===9999999)v.value?(o.value=[],v.value=!1):(o.value=[...f.value],v.value=!0);else{const u=o.value.findIndex(C=>C.id===c.id);u!==-1?(o.value.splice(u,1),v.value=!1):(o.value.push(c),o.value.length===f.value.length&&(v.value=!0))}$.value=!1,r("update:modelValue",o.value)}function h(){ae.get("/api/tags/?perPage=10000").then(c=>{f.value=c.data.data})}const A=De(()=>f.value.filter(c=>c.tagname.toLowerCase().includes(w.value.toLowerCase())));return(c,u)=>{const C=p("Button"),m=p("Input"),O=p("Icon"),F=p("Separator");return a(),g(e(pe),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(C,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(wt,{class:"mr-2"}),o.value&&o.value.length===0?(a(),y(K,{key:0},[i("Tags")],64)):(a(),y(K,{key:1},[o.value.length>0?(a(),y("span",as,[u[2]||(u[2]=i(" Tag ",-1)),d("strong",ns,k(o.value.length)+" selected",1)])):B("",!0)],64))]),_:1})]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[d("div",os,[t(m,{id:"search",type:"text",modelValue:w.value,"onUpdate:modelValue":u[0]||(u[0]=D=>w.value=D),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),d("span",ds,[t(O,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(F),t(e(Se),{class:"h-44"},{default:l(()=>[d("div",is,[(a(!0),y(K,null,H(A.value,D=>(a(),y("div",{key:D.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:V=>E(D)},[d("input",{type:"checkbox",checked:o.value.some(V=>V.id===D.id),class:"mr-2"},null,8,us),d("span",cs,[d("span",ms,k(D.tagname),1)])],8,rs))),128))])]),_:1}),t(F),d("div",fs,[t(C,{variant:"ghost",class:"justify-start w-full p-1",onClick:u[1]||(u[1]=D=>E({id:9999999}))},{default:l(()=>[t(O,{icon:v.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),d("span",null,k(v.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),vs={class:"space-y-2"},gs={class:"mb-2 text-sm text-muted-foreground"},_s={key:0,class:"text-xs text-muted-foreground"},ys={__name:"TagListPopover",props:{recordName:{type:String,required:!0},items:{type:Array,required:!0},displayField:{type:String,default:"name"},displayCount:{type:Number,default:100}},setup(x){return(T,r)=>{const f=p("Button"),$=p("router-link");return a(),g(e(pe),null,{default:l(()=>[t(e(me),{"as-child":""},{default:l(()=>[t(f,{variant:"outline",className:"mt-1 inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground"},{default:l(()=>[...r[0]||(r[0]=[i(" ... ",-1)])]),_:1})]),_:1}),t(e(fe),{class:"max-w-max",style:{width:"800px"}},{default:l(()=>[d("div",vs,[d("p",gs,"All tags associated with "+k(x.recordName)+". Showing "+k(x.displayCount)+" records.",1)]),(a(!0),y(K,null,H(x.items.slice(0,x.displayCount),o=>(a(),g(e(Ge),{key:o[x.displayField],variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-900"},{default:l(()=>[t($,{to:o.view_url},{default:l(()=>[i(k(o[x.displayField]),1)]),_:2},1032,["to"])]),_:2},1024))),128)),x.displayCount>x.displayCount-1?(a(),y("span",_s,[r[2]||(r[2]=d("br",null,null,-1)),i(" Displaying only "+k(x.displayCount)+" records. Visit the ",1),t($,{to:"/tags",class:"text-blue-500 hover:underline"},{default:l(()=>[...r[1]||(r[1]=[i(" Tags ",-1)])]),_:1}),r[3]||(r[3]=i(" page to view all tags. ",-1))])):B("",!0)]),_:1})]),_:1})}}},xs={key:0,class:"text-sm font-light"},ks={class:"text-sm font-semibold"},bs={class:"relative items-center w-full"},$s={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Cs={class:"py-1"},ws=["onClick"],hs=["checked"],Ds={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Is={"data-size":"20"},Ss={class:"p-1 border-5"},Vs=Ie({__name:"VendorFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(x,{emit:T}){const r=T,f=S([]),$=S(!1),o=S([]),w=S(""),v=S(!1),N=x;le(()=>{h()}),ee(()=>N.modelValue,c=>{o.value=c,v.value=o.value.length===f.value.length});function E(c){if(c.id===9999999)v.value?(o.value=[],v.value=!1):(o.value=[...f.value],v.value=!0);else{const u=o.value.findIndex(C=>C.id===c.id);u!==-1?(o.value.splice(u,1),v.value=!1):(o.value.push(c),o.value.length===f.value.length&&(v.value=!0))}$.value=!1,r("update:modelValue",o.value)}function h(){ae.get("/api/vendors/?perPage=10000").then(c=>{f.value=c.data.data})}const A=De(()=>f.value.filter(c=>c.vendorName.toLowerCase().includes(w.value.toLowerCase())));return(c,u)=>{const C=p("Button"),m=p("Input"),O=p("Icon"),F=p("Separator");return a(),g(e(pe),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(C,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:l(()=>[t(ht,{class:"mr-2"}),o.value&&o.value.length===0?(a(),y(K,{key:0},[i("Vendor")],64)):(a(),y(K,{key:1},[o.value.length>0?(a(),y("span",xs,[u[2]||(u[2]=i(" Vendor ",-1)),d("strong",ks,k(o.value.length)+" selected",1)])):B("",!0)],64))]),_:1})]),_:1}),t(e(fe),{side:"bottom",align:"start",class:"w-64 p-0"},{default:l(()=>[d("div",bs,[t(m,{id:"search",type:"text",modelValue:w.value,"onUpdate:modelValue":u[0]||(u[0]=D=>w.value=D),placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),d("span",$s,[t(O,{icon:"weui:search-outlined",class:"size-6 text-muted-foreground"})])]),t(F),t(e(Se),{class:"h-44"},{default:l(()=>[d("div",Cs,[(a(!0),y(K,null,H(A.value,D=>(a(),y("div",{key:D.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:V=>E(D)},[d("input",{type:"checkbox",checked:o.value.some(V=>V.id===D.id),class:"mr-2"},null,8,hs),d("span",Ds,[d("span",Is,k(D.vendorName),1)])],8,ws))),128))])]),_:1}),t(F),d("div",Ss,[t(C,{variant:"ghost",class:"justify-start w-full p-1",onClick:u[1]||(u[1]=D=>E({id:9999999}))},{default:l(()=>[t(O,{icon:v.value?"fluent:select-all-on-16-filled":"fluent:select-all-on-16-regular",class:"w-4 h-4 mr-2 text-muted-foreground"},null,8,["icon"]),d("span",null,k(v.value?"Deselect all":"Select all"),1)]),_:1})])]),_:1})]),_:1})}}}),Ps={class:"flex flex-col h-full gap-1 text-center"},Ns={class:"flex items-center justify-between p-4"},Ts={class:"flex items-center"},Es={class:"flex gap-2"},Bs={class:"flex"},As={class:"px-6"},Fs={class:"flex justify-between"},Us={class:"border-b"},Ls={key:0,class:"ml-2"},Ms={key:0},Os={key:1},js={key:0},zs={key:1},Gs={key:0},qs={key:1},Ks={key:0},Rs={key:1},Hs={key:0,class:"mr-2"},Ys={__name:"Main",props:{statusId:{type:Number,required:!1}},setup(x){const{clearFilters:T,createDevice:r,currentPage:f,deleteDevice:$,deleteManyDevices:o,devices:w,disableDevice:v,editId:N,enableDevice:E,fetchDevices:h,filterCategories:A,filterStatus:c,filterTags:u,filterVendor:C,formatters:m,handleKeyDown:O,handleSave:F,isLoading:D,lastPage:V,newDeviceModalKey:z,perPage:Q,searchTerm:I,showConfirmDelete:X,sortParam:s,toggleSort:j,viewDeviceDetailsPane:P,viewEditDialog:q}=Wt(),{selectedRows:R,selectAll:W,toggleSelectAll:U,toggleSelectRow:Y}=ve(w),n=Dt(),{openSheet:G,closeSheet:we,isSheetOpen:wa}=n,Ue=S(0),Le=S(""),Me=S(0),Pe=S(!1),Ne=Je(),We=Fe();le(()=>{Ne.query.statusId&&(c.value=[{id:parseInt(Ne.query.statusId)}]),h(),window.addEventListener("keydown",O),oe.on("deleteManyDevicesSuccess",()=>{R.value=[],W.value=!1})}),ee(()=>Ne.query,async re=>{if(re.openDeviceDialog){r(),await It();const{openDeviceDialog:_,...Te}=re;We.replace({query:Te},void 0,{replace:!0})}},{immediate:!0}),ne(()=>{window.removeEventListener("keydown",O)});function Xe(re){Me.value+=1,Ue.value=re,Le.value=w.value.data.find(_=>_.id===re).device_name,G("DeviceCommentSheet")}return(re,_)=>{const Te=p("Input"),Ze=p("Separator"),de=p("Button"),Oe=p("Checkbox"),he=p("Icon"),et=p("StatusRedIcon"),tt=p("StatusGreenIcon"),lt=p("StatusYellowIcon"),st=p("StatusGrayIcon"),at=p("router-link"),nt=p("Badge"),ot=p("Toaster");return a(),y("div",Ps,[d("div",Ns,[d("div",Ts,[t(Te,{class:"ml-2 min-w-32 lg:min-w-60",autocomplete:"off",placeholder:"Filter devices by ID, name or IP...",modelValue:e(I),"onUpdate:modelValue":_[0]||(_[0]=b=>J(I)?I.value=b:null)},null,8,["modelValue"]),t(Ze,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),_[19]||(_[19]=d("span",{class:"mr-2 text-muted-foreground"},"Filters:",-1)),d("div",Es,[t(Hl,{modelValue:e(A),"onUpdate:modelValue":_[1]||(_[1]=b=>J(A)?A.value=b:null)},null,8,["modelValue"]),t(ps,{modelValue:e(u),"onUpdate:modelValue":_[2]||(_[2]=b=>J(u)?u.value=b:null)},null,8,["modelValue"]),t(Vs,{modelValue:e(C),"onUpdate:modelValue":_[3]||(_[3]=b=>J(C)?C.value=b:null)},null,8,["modelValue"]),t(ss,{modelValue:e(c),"onUpdate:modelValue":_[4]||(_[4]=b=>J(c)?c.value=b:null)},null,8,["modelValue"]),e(I)||e(A).length||e(u).length||e(C).length||e(c).length?(a(),g(ge,{key:0,"onUpdate:modelValue":e(T)},null,8,["onUpdate:modelValue"])):B("",!0)])]),d("div",Bs,[e(R).length?(a(),g(de,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:_[5]||(_[5]=Z(b=>X.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+k(e(R).length)+" Device(s) ",1)]),_:1})):B("",!0),t(de,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:_[6]||(_[6]=Z(b=>e(r)(),["prevent"])),variant:"primary"},{default:l(()=>[..._[20]||(_[20]=[i(" New Device ",-1),d("div",{class:"pl-2 ml-auto"},[d("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1})])]),d("div",As,[t(e(be),null,{default:l(()=>[t(e(_e),null,{default:l(()=>[t(e(te),null,{default:l(()=>[t(e(L),{class:"w-[2%]"},{default:l(()=>[t(Oe,{id:"selectAll",modelValue:e(W),"onUpdate:modelValue":_[7]||(_[7]=b=>J(W)?W.value=b:null),checked:e(W),onClick:_[8]||(_[8]=b=>e(U)())},null,8,["modelValue","checked"])]),_:1}),t(e(L),{class:"w-[5%]"},{default:l(()=>[t(de,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:_[9]||(_[9]=b=>e(j)("id"))},{default:l(()=>[t(he,{icon:e(s)==="id"?"lucide:sort-asc":e(s)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),_[21]||(_[21]=d("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[2%]"},{default:l(()=>[t(de,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:_[10]||(_[10]=b=>e(j)("status"))},{default:l(()=>[t(he,{icon:e(s)==="status"?"lucide:sort-asc":e(s)==="-status"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),_[22]||(_[22]=d("span",{class:"ml-2"},null,-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[t(de,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:_[11]||(_[11]=b=>e(j)("device_name"))},{default:l(()=>[t(he,{icon:e(s)==="device_name"?"lucide:sort-asc":e(s)==="-device_name"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),_[23]||(_[23]=d("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[..._[24]||(_[24]=[i("IP Address",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[..._[25]||(_[25]=[i("C'Group",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[..._[26]||(_[26]=[i("Vendor",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[..._[27]||(_[27]=[i("Model",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[..._[28]||(_[28]=[i("Config Count",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[..._[29]||(_[29]=[i("Config Failures",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[..._[30]||(_[30]=[i("Last Config",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[..._[31]||(_[31]=[i("Tags",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[..._[32]||(_[32]=[i("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:l(()=>[e(D)?(a(),g(xe,{key:0})):e(D)?(a(),g(ke,{key:2})):(a(!0),y(K,{key:1},H(e(w).data,b=>(a(),g(e(te),{key:b.id},{default:l(()=>[t(e(M),{class:"text-start"},{default:l(()=>[t(Oe,{class:"cursor-pointer",id:"select-"+b.id,checked:!!e(R).includes(b.id),onClick:se=>e(Y)(b.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(b.id),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[b.status===0?(a(),g(et,{key:0})):B("",!0),b.status===1?(a(),g(tt,{key:1})):B("",!0),b.status===2?(a(),g(lt,{key:2})):B("",!0),b.status===100?(a(),g(st,{key:3})):B("",!0)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[d("div",Fs,[t(de,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:se=>e(P)(b.id)},{default:l(()=>[d("span",Us,k(b.device_name),1)]),_:2},1032,["onClick"]),t(de,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl text-muted-foreground",variant:"ghost",onClick:se=>Xe(b.id)},{default:l(()=>[t(he,{icon:"vaadin:comments-o"}),b.comments.length>0?(a(),y("span",Ls,k(b.comments.length),1)):B("",!0)]),_:2},1032,["onClick"])])]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(b.device_ip),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[b.category.length>0?(a(),y("span",Ms,k(b.category[0].categoryName),1)):(a(),y("span",Os,"--"))]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[b.vendor.length>0?(a(),y("span",js,k(b.vendor[0].vendorName),1)):(a(),y("span",zs,"--"))]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(b.device_model),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(b.config_good_count),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[b.config_bad_count?(a(),y("span",Gs,k(b.config_bad_count),1)):(a(),y("span",qs,"--"))]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[b.last_config?(a(),y("span",Ks,k(e(m).formatTime(b.last_config.created_at)),1)):(a(),y("span",Rs,"--"))]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,H(b.tag.slice(0,3),(se,ha)=>(a(),y("span",{key:se.tagname,class:"mr-2"},[t(nt,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(at,{to:se.view_url},{default:l(()=>[i(k(se.tagname),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),b.tag.length>3?(a(),y("span",Hs,[t(ys,{recordName:b.device_name,items:b.tag,displayField:"tagname"},null,8,["recordName","items"])])):B("",!0)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[t(Fl,{rowData:b,onOnEnable:se=>e(E)(b.id),onOnClone:se=>(e(q)(b.id),Pe.value=!0),onOnDisable:se=>e(v)(b.id),onOnEdit:se=>e(q)(b.id),onOnDelete:se=>e($)(b.id)},null,8,["rowData","onOnEnable","onOnClone","onOnDisable","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t($e,{currentPage:e(f),lastPage:e(V),perPage:e(Q),"onUpdate:currentPage":_[12]||(_[12]=b=>f.value=b),"onUpdate:perPage":_[13]||(_[13]=b=>Q.value=b)},null,8,["currentPage","lastPage","perPage"]),(a(),g(Xt,{onSave:_[14]||(_[14]=b=>e(F)()),onClose:_[15]||(_[15]=b=>Pe.value=!1),key:e(z),editId:e(N),isClone:Pe.value},null,8,["editId","isClone"])),t(ie,{ids:e(R),showConfirmDelete:e(X),onClose:_[16]||(_[16]=b=>X.value=!1),onHandleDelete:_[17]||(_[17]=b=>e(o)(e(R)))},null,8,["ids","showConfirmDelete"]),(a(),g(Jl,{deviceId:Ue.value,deviceName:Le.value,onCommentsaved:_[18]||(_[18]=b=>e(h)()),key:Me.value},null,8,["deviceId","deviceName"])),t(ot)])])}}},Js={class:"flex flex-col h-full gap-1 text-center"},Qs={class:"flex items-center justify-between p-4"},Ws={class:"flex items-center"},Xs={class:"flex"},Zs={class:"px-6"},ea={key:0,class:"mr-2"},ta={__name:"Main",setup(x){const{editId:T,tags:r,currentPage:f,perPage:$,searchTerm:o,lastPage:w,isLoading:v,fetchTags:N,viewEditDialog:E,createTag:h,deleteTag:A,deleteManyTags:c,handleSave:u,showConfirmDelete:C,handleKeyDown:m,newTagModalKey:O,toggleSort:F,sortParam:D}=Rt(),{selectedRows:V,selectAll:z,toggleSelectAll:Q,toggleSelectRow:I}=ve(r);return le(()=>{N(),window.addEventListener("keydown",m),oe.on("deleteManyTagsSuccess",()=>{V.value=[],z.value=!1})}),ne(()=>{window.removeEventListener("keydown",m)}),(X,s)=>{const j=p("Input"),P=p("Button"),q=p("Checkbox"),R=p("Icon"),W=p("router-link"),U=p("Badge"),Y=p("Toaster");return a(),y("div",Js,[d("div",Qs,[d("div",Ws,[t(j,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter tags...",modelValue:e(o),"onUpdate:modelValue":s[0]||(s[0]=n=>J(o)?o.value=n:null)},null,8,["modelValue"]),e(o)?(a(),g(ge,{key:0,"onUpdate:modelValue":s[1]||(s[1]=n=>o.value="")})):B("",!0)]),d("div",Xs,[e(V).length?(a(),g(P,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:s[2]||(s[2]=Z(n=>C.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+k(e(V).length)+" Tag(s) ",1)]),_:1})):B("",!0),t(P,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:Z(e(h),["prevent"]),variant:"primary"},{default:l(()=>[...s[12]||(s[12]=[i(" New Tag ",-1),d("div",{class:"pl-2 ml-auto"},[d("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1},8,["onClick"])])]),d("div",Zs,[t(e(be),null,{default:l(()=>[t(e(_e),null,{default:l(()=>[t(e(te),null,{default:l(()=>[t(e(L),{class:"w-[2%]"},{default:l(()=>[t(q,{id:"selectAll",modelValue:e(z),"onUpdate:modelValue":s[3]||(s[3]=n=>J(z)?z.value=n:null),checked:e(z),onClick:s[4]||(s[4]=n=>e(Q)())},null,8,["modelValue","checked"])]),_:1}),t(e(L),{class:"w-[5%]"},{default:l(()=>[t(P,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[5]||(s[5]=n=>e(F)("id"))},{default:l(()=>[t(R,{icon:e(D)==="id"?"lucide:sort-asc":e(D)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[13]||(s[13]=d("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[t(P,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[6]||(s[6]=n=>e(F)("tagname"))},{default:l(()=>[t(R,{icon:e(D)==="tagname"?"lucide:sort-asc":e(D)==="-tagname"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[14]||(s[14]=d("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[...s[15]||(s[15]=[i("Description",-1)])]),_:1}),t(e(L),{class:"w-[40%]"},{default:l(()=>[...s[16]||(s[16]=[i("Devices",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[...s[17]||(s[17]=[i("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:l(()=>[e(v)?(a(),g(xe,{key:0})):e(v)?(a(),g(ke,{key:2})):(a(!0),y(K,{key:1},H(e(r).data,n=>(a(),g(e(te),{key:n.id},{default:l(()=>[t(e(M),{class:"text-start"},{default:l(()=>[t(q,{class:"cursor-pointer",id:"select-"+n.id,checked:!!e(V).includes(n.id),onClick:G=>e(I)(n.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.id),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.tagname),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.tagDescription),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,H(n.device.slice(0,8),(G,we)=>(a(),y("span",{key:G.device_name,class:"mr-2"},[t(U,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(W,{to:G.view_url},{default:l(()=>[i(k(G.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),n.device.length>8?(a(),y("span",ea,[t(Ve,{recordName:n.tagname,items:n.device,displayField:"device_name"},null,8,["recordName","items"])])):B("",!0)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[t(Ce,{rowData:n,onOnEdit:G=>e(E)(n.id),onOnDelete:G=>e(A)(n.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t($e,{currentPage:e(f),lastPage:e(w),perPage:e($),"onUpdate:currentPage":s[7]||(s[7]=n=>f.value=n),"onUpdate:perPage":s[8]||(s[8]=n=>$.value=n)},null,8,["currentPage","lastPage","perPage"]),(a(),g(Ht,{onSave:s[9]||(s[9]=n=>e(u)()),key:e(O),editId:e(T)},null,8,["editId"])),t(ie,{ids:e(V),showConfirmDelete:e(C),onClose:s[10]||(s[10]=n=>C.value=!1),onHandleDelete:s[11]||(s[11]=n=>e(c)(e(V)))},null,8,["ids","showConfirmDelete"]),t(Y)])])}}};function la(x){const T=S(1),r=S(parseInt(localStorage.getItem("perPage")||"10")),f=S("-id"),$=S(""),o=S({}),w=Ae(),v=S(0),N=S(!1),E=S(1),h=S(1),A=S([]),c=S(!1),u=Fe(),{openDialog:C}=w,{toastSuccess:m,toastError:O}=Be();async function F(P={}){N.value=!0;try{const q=await ae.get("/api/templates",{params:{page:T.value,perPage:r.value,sort:f.value,...o.value}});A.value=q.data,E.value=q.data.last_page}catch(q){console.error("Error fetching templates:",q),O("Error","Failed to fetch templates.")}finally{N.value=!1}}function D(P){u.push({name:"templatesview",params:{id:P}})}const V=async P=>{try{await ae.delete(`/api/templates/${P}`),F(),m("Template Deleted","The template has been deleted successfully.")}catch(q){q.status===422?O("Error",q.response.data.message):(console.error("Error deleting template:",q),O("Error","Failed to delete template."))}},z=async P=>{try{await ae.post("/api/templates/delete-many",{ids:P}),F(),m("Templates Deleted","The templates have been deleted successfully."),c.value=!1,oe.emit("deleteManyTemplatesSuccess")}catch(q){q.status===422?O("Error",q.response.data.message):(console.error("Error deleting Templates:",q),O("Error","Failed to delete Templates.")),c.value=!1}},Q=P=>{v.value=P,h.value=Math.random(),C("DialogNewTemplate")},I=()=>{F(),h.value=Math.random()};function X(P){P.altKey&&P.key==="n"&&(P.preventDefault(),C("DialogNewTemplate"))}const s=qe(()=>{o.value["filter[templateName]"]=$.value,T.value=1,F()},500);ee([T,r],()=>{F()}),ee($,()=>{s()}),ee(r,P=>{localStorage.setItem("perPage",P.toString())});function j(P){f.value===P?f.value=`-${P}`:f.value=P,F()}return{templates:A,isLoading:N,currentPage:T,perPage:r,lastPage:E,editId:v,newTemplateModalKey:h,searchTerm:$,openDialog:C,fetchTemplates:F,viewTemplateDetailsPane:D,deleteTemplate:V,deleteManyTemplates:z,handleSave:I,handleKeyDown:X,viewEditDialog:Q,toggleSort:j,sortParam:f,showConfirmDelete:c}}const sa={class:"flex flex-col h-full gap-1 text-center"},aa={class:"flex items-center justify-between p-4"},na={class:"flex items-center"},oa={class:"flex"},da={class:"px-6"},ia={class:"border-b"},ra={key:0,class:"mr-2"},ua={__name:"Main",setup(x){const{templates:T,isLoading:r,currentPage:f,perPage:$,lastPage:o,searchTerm:w,fetchTemplates:v,viewTemplateDetailsPane:N,deleteTemplate:E,deleteManyTemplates:h,handleKeyDown:A,toggleSort:c,sortParam:u,showConfirmDelete:C}=la(),{importTemplates:m,importingTemplates:O}=Zt(),{selectedRows:F,selectAll:D,toggleSelectAll:V,toggleSelectRow:z}=ve(T);return le(()=>{v(),window.addEventListener("keydown",A),oe.on("deleteManyTemplatesSuccess",()=>{F.value=[],D.value=!1,document.getElementById("selectAll").checked=!1})}),ne(()=>{window.removeEventListener("keydown",A)}),(Q,I)=>{const X=p("Input"),s=p("Button"),j=p("Icon"),P=p("Checkbox"),q=p("router-link"),R=p("Badge"),W=p("Toaster");return a(),y("div",sa,[d("div",aa,[d("div",na,[t(X,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter templates...",modelValue:e(w),"onUpdate:modelValue":I[0]||(I[0]=U=>J(w)?w.value=U:null)},null,8,["modelValue"]),e(w)?(a(),g(ge,{key:0,"onUpdate:modelValue":I[1]||(I[1]=U=>w.value="")})):B("",!0)]),d("div",oa,[e(F).length?(a(),g(s,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:I[2]||(I[2]=Z(U=>C.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+k(e(F).length)+" Template(s) ",1)]),_:1})):B("",!0),t(s,{type:"close",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700",onClick:I[3]||(I[3]=U=>e(m)()),variant:"outline"},{default:l(()=>[e(O)?B("",!0):(a(),g(j,{key:0,icon:"mdi:github",class:"mr-2"})),t(Qe,{state:e(O)},null,8,["state"]),I[13]||(I[13]=i(" Import Templates ",-1))]),_:1}),t(s,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:I[4]||(I[4]=Z(U=>e(N)(0),["prevent"])),variant:"primary"},{default:l(()=>[...I[14]||(I[14]=[i(" New Template ",-1),d("div",{class:"pl-2 ml-auto"},[d("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1})])]),d("div",da,[t(e(be),null,{default:l(()=>[t(e(_e),null,{default:l(()=>[t(e(te),null,{default:l(()=>[t(e(L),{class:"w-[2%]"},{default:l(()=>[t(P,{id:"selectAll",modelValue:e(D),"onUpdate:modelValue":I[5]||(I[5]=U=>J(D)?D.value=U:null),checked:e(D),onClick:I[6]||(I[6]=U=>e(V)())},null,8,["modelValue","checked"])]),_:1}),t(e(L),{class:"w-[5%]"},{default:l(()=>[t(s,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:I[7]||(I[7]=U=>e(c)("id"))},{default:l(()=>[t(j,{icon:e(u)==="id"?"lucide:sort-asc":e(u)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),I[15]||(I[15]=d("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[t(s,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:I[8]||(I[8]=U=>e(c)("templateName"))},{default:l(()=>[t(j,{icon:e(u)==="templateName"?"lucide:sort-asc":e(u)==="-templateName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),I[16]||(I[16]=d("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[...I[17]||(I[17]=[i("Description",-1)])]),_:1}),t(e(L),{class:"w-[40%]"},{default:l(()=>[...I[18]||(I[18]=[i("Devices",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[...I[19]||(I[19]=[i("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:l(()=>[e(r)?(a(),g(xe,{key:0})):e(r)?(a(),g(ke,{key:2})):(a(!0),y(K,{key:1},H(e(T).data,U=>(a(),g(e(te),{key:U.id},{default:l(()=>[t(e(M),{class:"text-start"},{default:l(()=>[t(P,{class:"cursor-pointer",id:"select-"+U.id,checked:!!e(F).includes(U.id),onClick:Y=>e(z)(U.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(U.id),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[t(s,{class:"px-2 py-0 text-sm hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:Y=>e(N)(U.id)},{default:l(()=>[d("span",ia,k(U.templateName),1)]),_:2},1032,["onClick"])]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(U.description),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,H(U.device.slice(0,8),(Y,n)=>(a(),y("span",{key:Y.device_name,class:"mr-2"},[t(R,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(q,{to:Y.view_url},{default:l(()=>[i(k(Y.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),U.device.length>8?(a(),y("span",ra,[t(Ve,{recordName:U.templateName,items:U.device,displayField:"device_name"},null,8,["recordName","items"])])):B("",!0)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[t(Ce,{rowData:U,onOnEdit:Y=>e(N)(U.id),onOnDelete:Y=>e(E)(U.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t($e,{currentPage:e(f),lastPage:e(o),perPage:e($),"onUpdate:currentPage":I[9]||(I[9]=U=>f.value=U),"onUpdate:perPage":I[10]||(I[10]=U=>$.value=U)},null,8,["currentPage","lastPage","perPage"]),t(ie,{ids:e(F),showConfirmDelete:e(C),onClose:I[11]||(I[11]=U=>C.value=!1),onHandleDelete:I[12]||(I[12]=U=>e(h)(e(F)))},null,8,["ids","showConfirmDelete"]),t(W)])])}}},ca={class:"flex flex-col h-full gap-1 text-center"},ma={class:"flex items-center justify-between p-4"},fa={class:"flex items-center"},pa={class:"flex"},va={class:"px-6"},ga={key:0,class:"mr-2"},_a={__name:"Main",setup(x){const{editId:T,vendors:r,currentPage:f,perPage:$,searchTerm:o,lastPage:w,isLoading:v,fetchVendors:N,viewEditDialog:E,createVendor:h,deleteVendor:A,deleteManyVendors:c,handleSave:u,handleKeyDown:C,newVendorModalKey:m,toggleSort:O,sortParam:F,showConfirmDelete:D}=el(),{selectedRows:V,selectAll:z,toggleSelectAll:Q,toggleSelectRow:I}=ve(r);return le(()=>{N(),window.addEventListener("keydown",C),oe.on("deleteManyVendorsSuccess",()=>{V.value=[],z.value=!1,document.getElementById("selectAll").checked=!1})}),ne(()=>{window.removeEventListener("keydown",C)}),(X,s)=>{const j=p("Input"),P=p("Button"),q=p("Checkbox"),R=p("Icon"),W=p("router-link"),U=p("Badge"),Y=p("Toaster");return a(),y("div",ca,[d("div",ma,[d("div",fa,[t(j,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter vendors...",modelValue:e(o),"onUpdate:modelValue":s[0]||(s[0]=n=>J(o)?o.value=n:null)},null,8,["modelValue"]),e(o)?(a(),g(ge,{key:0,"onUpdate:modelValue":s[1]||(s[1]=n=>o.value="")})):B("",!0)]),d("div",pa,[e(V).length?(a(),g(P,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:s[2]||(s[2]=Z(n=>D.value=!0,["prevent"])),variant:"primary"},{default:l(()=>[i(" Delete Selected "+k(e(V).length)+" Tag(s) ",1)]),_:1})):B("",!0),t(P,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:Z(e(h),["prevent"]),variant:"primary"},{default:l(()=>[...s[12]||(s[12]=[i(" New Vendor ",-1),d("div",{class:"pl-2 ml-auto"},[d("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1},8,["onClick"])])]),d("div",va,[t(e(be),null,{default:l(()=>[t(e(_e),null,{default:l(()=>[t(e(te),null,{default:l(()=>[t(e(L),{class:"w-[2%]"},{default:l(()=>[t(q,{id:"selectAll",modelValue:e(z),"onUpdate:modelValue":s[3]||(s[3]=n=>J(z)?z.value=n:null),checked:e(z),onClick:s[4]||(s[4]=n=>e(Q)())},null,8,["modelValue","checked"])]),_:1}),t(e(L),{class:"w-[5%]"},{default:l(()=>[t(P,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[5]||(s[5]=n=>e(O)("id"))},{default:l(()=>[t(R,{icon:e(F)==="id"?"lucide:sort-asc":e(F)==="-id"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[13]||(s[13]=d("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[20%]"},{default:l(()=>[t(P,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:s[6]||(s[6]=n=>e(O)("vendorName"))},{default:l(()=>[t(R,{icon:e(F)==="vendorName"?"lucide:sort-asc":e(F)==="-vendorName"?"lucide:sort-desc":"hugeicons:sorting-05"},null,8,["icon"]),s[14]||(s[14]=d("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(L),{class:"w-[50%]"},{default:l(()=>[...s[15]||(s[15]=[i("Devices",-1)])]),_:1}),t(e(L),{class:"w-[10%]"},{default:l(()=>[...s[16]||(s[16]=[i("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:l(()=>[e(v)?(a(),g(xe,{key:0})):e(v)?(a(),g(ke,{key:2})):(a(!0),y(K,{key:1},H(e(r).data,n=>(a(),g(e(te),{key:n.id},{default:l(()=>[t(e(M),{class:"text-start"},{default:l(()=>[t(q,{class:"cursor-pointer",id:"select-"+n.id,checked:!!e(V).includes(n.id),onClick:G=>e(I)(n.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.id),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[i(k(n.vendorName),1)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[(a(!0),y(K,null,H(n.device.slice(0,8),(G,we)=>(a(),y("span",{key:G.device_name,class:"mr-2"},[t(U,{variant:"outline",class:"py-1 mt-1 hover:bg-rcgray-800"},{default:l(()=>[t(W,{to:G.view_url},{default:l(()=>[i(k(G.device_name),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),n.device.length>8?(a(),y("span",ga,[t(Ve,{recordName:n.vendorName,items:n.device,displayField:"device_name"},null,8,["recordName","items"])])):B("",!0)]),_:2},1024),t(e(M),{class:"text-start"},{default:l(()=>[t(Ce,{rowData:n,onOnEdit:G=>e(E)(n.id),onOnDelete:G=>e(A)(n.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t($e,{currentPage:e(f),lastPage:e(w),perPage:e($),"onUpdate:currentPage":s[7]||(s[7]=n=>f.value=n),"onUpdate:perPage":s[8]||(s[8]=n=>$.value=n)},null,8,["currentPage","lastPage","perPage"]),(a(),g(tl,{onSave:s[9]||(s[9]=n=>e(u)()),key:e(m),editId:e(T)},null,8,["editId"])),t(ie,{ids:e(V),showConfirmDelete:e(D),onClose:s[10]||(s[10]=n=>D.value=!1),onHandleDelete:s[11]||(s[11]=n=>e(c)(e(V)))},null,8,["ids","showConfirmDelete"]),t(Y)])])}}};function ya(){const x=St(),T=S(localStorage.getItem("inventorySelectedView")||"devices"),r=Je(),f=Fe(),$=[{id:"devices",label:"Devices",icon:"DeviceIcon",isFavorite:S(!1),route:"/devices"},{id:"commandgroups",label:"Command Groups",icon:"CommandGroupIcon",isFavorite:S(!1),route:"/commandgroups"},{id:"commands",label:"Commands",icon:"CommandsIcon",isFavorite:S(!1),route:"/commands"},{id:"templates",label:"Templates",icon:"TemplateIcon",isFavorite:S(!1),route:"/templates"},{id:"vendors",label:"Vendors",icon:"VendorIcon",isFavorite:S(!1),route:"/vendors"},{id:"tags",label:"Tags",icon:"TagIcon",isFavorite:S(!1),route:"/tags"}];le(()=>{r.params.view?o(r.params.view):r.name==="devicesview"?o(r.name):r.path.includes("inventory")?o("devices"):o(r.name);const v=r.query;Object.keys(v).length>0&&f.push({name:T.value,query:v}),$.forEach(N=>{N.isFavorite.value=x.isFavorite(N.id)})});function o(v){localStorage.setItem("inventorySelectedView",v),T.value=v,f.push({name:v})}function w(v){const N=$.find(E=>E.id===v);N&&(N.isFavorite.value=!N.isFavorite.value,x.toggleFavorite(N))}return{changeView:o,currentView:T,favoritesStore:x,route:r,router:f,toggleFavorite:w,viewItems:$}}const xa={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},ka={class:"border-t border-b topRow"},ba={class:"flex items-center gap-2"},$a={class:"flex items-center gap-2 mr-4"},Ca={class:"flex items-center gap-2"},Ba={__name:"Main",setup(x){const{changeView:T,currentView:r,toggleFavorite:f,viewItems:$}=ya();return(o,w)=>{const v=p("Icon"),N=p("Button"),E=p("StarUnselected"),h=p("StarSelected");return a(),y("main",xa,[d("div",ka,[t(e(Ye),null,{default:l(()=>{var A,c;return[t(e(Re),{"as-child":"",class:"p-4 ml-2"},{default:l(()=>[t(N,{variant:"outline"},{default:l(()=>[d("span",ba,[t(v,{icon:"fluent-color:pin-16"}),w[0]||(w[0]=i(" Select View ",-1))])]),_:1})]),_:1}),d("div",$a,[(a(),g(ze(((A=e($).find(u=>u.id===e(r)))==null?void 0:A.icon)||""))),i(" "+k(((c=e($).find(u=>u.id===e(r)))==null?void 0:c.label)||""),1)]),t(e(He),{class:"w-56",align:"start"},{default:l(()=>[t(e(zt),null,{default:l(()=>[(a(!0),y(K,null,H(e($),u=>(a(),g(e(ue),{key:u.id,onClick:C=>e(T)(u.id)},{default:l(()=>[d("span",Ca,[(a(),g(ze(u.icon))),i(" "+k(u.label),1)]),t(e(Vt),null,{default:l(()=>[t(e(Pt),null,{default:l(()=>[t(e(Nt),{"as-child":""},{default:l(()=>[t(e(ce),{onClick:Z(C=>e(f)(u.id),["stop","prevent"])},{default:l(()=>[u.isFavorite.value?B("",!0):(a(),g(E,{key:0})),u.isFavorite.value?(a(),g(h,{key:1})):B("",!0)]),_:2},1032,["onClick"])]),_:2},1024),t(e(Tt),null,{default:l(()=>[d("p",null,k(u.isFavorite.value?"Remove from favorites":"Add to favorites"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]}),_:1})]),d("div",null,[e(r)==="devices"||e(r)==="devicesview"?(a(),g(Ys,{key:0})):B("",!0),e(r)==="commandgroups"?(a(),g(Bl,{key:1})):B("",!0),e(r)==="commands"?(a(),g(Il,{key:2})):B("",!0),e(r)==="templates"?(a(),g(ua,{key:3})):B("",!0),e(r)==="vendors"?(a(),g(_a,{key:4})):B("",!0),e(r)==="tags"?(a(),g(ta,{key:5})):B("",!0)])])}}};export{Ba as default};
