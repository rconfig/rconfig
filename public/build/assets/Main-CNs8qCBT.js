import{c as $,o as g,l as A,n as B,u as e,ac as G,i as H,bj as $e,bw as _e,be as K,bx as Ce,x as w,c1 as Pe,e as v,w as n,bg as W,g as C,G as z,b as t,y as Ie,s as I,bB as Me,bZ as Ue,a6 as Te,T as be,E as Z,z as R,r as T,X as q,a as s,bD as F,d as x,t as M,cx as J,Y as D,a5 as Ae,O as E,P as O,cD as Be,q as Ve,cE as Ee,a0 as Y,bA as qe,aj as Fe,ak as De,ab as re,by as Ye,_ as ve,aT as Re,v as ze,$ as ce,c9 as ue,c8 as fe,c7 as Le,W as Ne,U as ye,aB as je,c5 as Oe,Q as Ge}from"./app-CeSUDKUI.js";import{_ as L}from"./CardFooter.vue_vue_type_script_setup_true_lang-LvOCHbpr.js";import{_ as Q,a as X,b as ee,c as se,d as V}from"./SelectScrollDownButton-BXNqMuQ1.js";import{C as he}from"./clock-D4XD4aj2.js";import{a as He,R as Ke,b as We}from"./AlertInfo.vue_vue_type_style_index_0_scoped_c93aa73f_lang-lT7zNvR5.js";import{T as ne}from"./triangle-alert-ofWNkdYd.js";import{R as Ze}from"./refresh-cw-C0dLXy6D.js";import{a as pe,A as Je,S as xe}from"./shield-alert-CCHs5WAl.js";import{X as Qe}from"./x-D0xgr0FO.js";import{B as oe}from"./bell-C5v26-Ai.js";import{L as te}from"./loader-circle-CBJFhXOS.js";import{S as we}from"./Spinner-DyprcYdc.js";/* empty css               */const Xe={__name:"AlertTitle",props:{class:{type:null,required:!1}},setup(p){const r=p;return(l,i)=>(g(),$("h5",{class:B(e(G)("mb-1 font-medium leading-none tracking-tight",r.class))},[A(l.$slots,"default")],2))}},[le,es]=$e("TabsRoot");var ss=H({__name:"TabsRoot",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},activationMode:{type:String,required:!1,default:"automatic"},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(p,{emit:r}){const l=p,i=r,{orientation:a,unmountOnHide:o,dir:d}=_e(l),u=He(d);K();const m=Ce(l,"modelValue",i,{defaultValue:l.defaultValue,passive:l.modelValue===void 0}),f=w();return es({modelValue:m,changeModelValue:c=>{m.value=c},orientation:a,dir:u,unmountOnHide:o,activationMode:l.activationMode,baseId:Pe(void 0,"reka-tabs"),tabsList:f}),(c,b)=>(g(),v(e(W),{dir:e(u),"data-orientation":e(a),"as-child":c.asChild,as:c.as},{default:n(()=>[A(c.$slots,"default",{modelValue:e(m)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),ts=ss;function ke(p,r){return`${p}-trigger-${r}`}function Se(p,r){return`${p}-content-${r}`}var as=H({__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(p){const r=p,{forwardRef:l}=K(),i=le(),a=C(()=>ke(i.baseId,r.value)),o=C(()=>Se(i.baseId,r.value)),d=C(()=>r.value===i.modelValue.value),u=w(d.value);return z(()=>{requestAnimationFrame(()=>{u.value=!1})}),(m,f)=>(g(),v(e(Me),{present:m.forceMount||d.value,"force-mount":""},{default:n(({present:c})=>[t(e(W),{id:o.value,ref:e(l),"as-child":m.asChild,as:m.as,role:"tabpanel","data-state":d.value?"active":"inactive","data-orientation":e(i).orientation.value,"aria-labelledby":a.value,hidden:!c,tabindex:"0",style:Ie({animationDuration:u.value?"0s":void 0})},{default:n(()=>[!e(i).unmountOnHide.value||c?A(m.$slots,"default",{key:0}):I("v-if",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),ns=as,os=H({__name:"TabsList",props:{loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(p){const r=p,{loop:l}=_e(r),{forwardRef:i,currentElement:a}=K(),o=le();return o.tabsList=a,(d,u)=>(g(),v(e(Ke),{"as-child":"",orientation:e(o).orientation.value,dir:e(o).dir.value,loop:e(l)},{default:n(()=>[t(e(W),{ref:e(i),role:"tablist","as-child":d.asChild,as:d.as,"aria-orientation":e(o).orientation.value},{default:n(()=>[A(d.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),rs=os,ls=H({__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(p){const r=p,{forwardRef:l}=K(),i=le(),a=C(()=>ke(i.baseId,r.value)),o=C(()=>Se(i.baseId,r.value)),d=C(()=>r.value===i.modelValue.value);return(u,m)=>(g(),v(e(We),{"as-child":"",focusable:!u.disabled,active:d.value},{default:n(()=>[t(e(W),{id:a.value,ref:e(l),role:"tab",type:u.as==="button"?"button":void 0,as:u.as,"as-child":u.asChild,"aria-selected":d.value?"true":"false","aria-controls":o.value,"data-state":d.value?"active":"inactive",disabled:u.disabled,"data-disabled":u.disabled?"":void 0,"data-orientation":e(i).orientation.value,onMousedown:m[0]||(m[0]=Te(f=>{!u.disabled&&f.ctrlKey===!1?e(i).changeModelValue(u.value):f.preventDefault()},["left"])),onKeydown:m[1]||(m[1]=Ue(f=>e(i).changeModelValue(u.value),["enter","space"])),onFocus:m[2]||(m[2]=()=>{const f=e(i).activationMode!=="manual";!d.value&&!u.disabled&&f&&e(i).changeModelValue(u.value)})},{default:n(()=>[A(u.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),is=ls;const ds="Afrikaans",cs="Albanian",us="Amharic",fs="Arabic - Algeria",ps="Arabic - Bahrain",ms="Arabic - Egypt",gs="Arabic - Iraq",_s="Arabic - Jordan",bs="Arabic - Kuwait",vs="Arabic - Lebanon",ys="Arabic - Libya",hs="Arabic - Morocco",xs="Arabic - Oman",ws="Arabic - Qatar",ks="Arabic - Saudi Arabia",Ss="Arabic - Syria",$s="Arabic - Tunisia",Cs="Arabic - United Arab Emirates",Ps="Arabic - Yemen",Is="Armenian",Ms="Assamese",Us="Azeri - Cyrillic",Ts="Basque",As="Belarusian",Bs="Bengali - Bangladesh",Vs="Bosnian",Es="Bulgarian",qs="Burmese",Fs="Catalan",Ds="Chinese - China",Ys="Chinese - Hong Kong SAR",Rs="Chinese - Macau SAR",zs="Chinese - Singapore",Ls="Chinese - Taiwan",Ns="Croatian",js="Czech",Os="Danish",Gs="Divehi; Dhivehi; Maldivian",Hs="Dutch - Belgium",Ks="Dutch - Netherlands",Ws="English - Australia",Zs="English - Belize",Js="English - Canada",Qs="English - Caribbean",Xs="English - Great Britain",et="English - India",st="English - Ireland",tt="English - Jamaica",at="English - New Zealand",nt="English - Phillippines",ot="English - Southern Africa",rt="English - Trinidad",lt="English - United States",it="Estonian",dt="Faroese",ct="Farsi - Persian",ut="Finnish",ft="French - Belgium",pt="French - Canada",mt="French - France",gt="French - Luxembourg",_t="French - Switzerland",bt="FYRO Macedonia",vt="Gaelic - Ireland",yt="Gaelic - Scotland",ht="German - Austria",xt="German - Germany",wt="German - Liechtenstein",kt="German - Luxembourg",St="German - Switzerland",$t="Greek",Ct="Guarani - Paraguay",Pt="Gujarati",It="Hebrew",Mt="Hindi",Ut="Hungarian",Tt="Icelandic",At="Indonesian",Bt="Italian - Italy",Vt="Italian - Switzerland",Et="Japanese",qt="Kannada",Ft="Kashmiri",Dt="Kazakh",Yt="Khmer",Rt="Korean",zt="Lao",Lt="Latin",Nt="Latvian",jt="Lithuanian",Ot="Malay - Brunei",Gt="Malay - Malaysia",Ht="Malayalam",Kt="Maltese",Wt="Maori",Zt="Marathi",Jt="Mongolian",Qt="Nepali",Xt="Norwegian - Bokml",ea="Oriya",sa="Polish",ta="Portuguese - Brazil",aa="Portuguese - Portugal",na="Punjabi",oa="Raeto-Romance",ra="Romanian - Moldova",la="Romanian - Romania",ia="Russian",da="Russian - Moldova",ca="Sanskrit",ua="Serbian - Cyrillic",fa="Setsuana",pa="Sindhi",ma="Sinhala; Sinhalese",ga="Slovak",_a="Slovenian",ba="Somali",va="Sorbian",ya="Spanish - Argentina",ha="Spanish - Bolivia",xa="Spanish - Chile",wa="Spanish - Colombia",ka="Spanish - Costa Rica",Sa="Spanish - Dominican Republic",$a="Spanish - Ecuador",Ca="Spanish - El Salvador",Pa="Spanish - Guatemala",Ia="Spanish - Honduras",Ma="Spanish - Mexico",Ua="Spanish - Nicaragua",Ta="Spanish - Panama",Aa="Spanish - Paraguay",Ba="Spanish - Peru",Va="Spanish - Puerto Rico",Ea="Spanish - Spain (Traditional)",qa="Spanish - Uruguay",Fa="Spanish - Venezuela",Da="Swahili",Ya="Swedish - Finland",Ra="Swedish - Sweden",za="Tajik",La="Tamil",Na="Tatar",ja="Telugu",Oa="Thai",Ga="Tibetan",Ha="Tsonga",Ka="Turkish",Wa="Turkmen",Za="Ukrainian",Ja="Urdu",Qa="Uzbek - Cyrillic",Xa="Vietnamese",en="Welsh",sn="Xhosa",tn="Yiddish",an="Zulu",nn={af:ds,sq:cs,am:us,ar_DZ:fs,ar_BH:ps,ar_EG:ms,ar_IQ:gs,ar_JO:_s,ar_KW:bs,ar_LB:vs,ar_LY:ys,ar_MA:hs,ar_OM:xs,ar_QA:ws,ar_SA:ks,ar_SY:Ss,ar_TN:$s,ar_AE:Cs,ar_YE:Ps,hy:Is,as:Ms,az_AZ:Us,eu:Ts,be:As,bn:Bs,bs:Vs,bg:Es,my:qs,ca:Fs,zh_CN:Ds,zh_HK:Ys,zh_MO:Rs,zh_SG:zs,zh_TW:Ls,hr:Ns,cs:js,da:Os,dv:Gs,nl_BE:Hs,nl_NL:Ks,en_AU:Ws,en_BZ:Zs,en_CA:Js,en_CB:Qs,en_GB:Xs,en_IN:et,en_IE:st,en_JM:tt,en_NZ:at,en_PH:nt,en_ZA:ot,en_TT:rt,en_US:lt,et:it,fo:dt,fa:ct,fi:ut,fr_BE:ft,fr_CA:pt,fr_FR:mt,fr_LU:gt,fr_CH:_t,mk:bt,gd_IE:vt,gd:yt,de_AT:ht,de_DE:xt,de_LI:wt,de_LU:kt,de_CH:St,el:$t,gn:Ct,gu:Pt,he:It,hi:Mt,hu:Ut,is:Tt,id:At,it_IT:Bt,it_CH:Vt,ja:Et,kn:qt,ks:Ft,kk:Dt,km:Yt,ko:Rt,lo:zt,la:Lt,lv:Nt,lt:jt,ms_BN:Ot,ms_MY:Gt,ml:Ht,mt:Kt,mi:Wt,mr:Zt,mn:Jt,ne:Qt,no_NO:Xt,or:ea,pl:sa,pt_BR:ta,pt_PT:aa,pa:na,rm:oa,ro_MO:ra,ro:la,ru:ia,ru_MO:da,sa:ca,sr_SP:ua,tn:fa,sd:pa,si:ma,sk:ga,sl:_a,so:ba,sb:va,es_AR:ya,es_BO:ha,es_CL:xa,es_CO:wa,es_CR:ka,es_DO:Sa,es_EC:$a,es_SV:Ca,es_GT:Pa,es_HN:Ia,es_MX:Ma,es_NI:Ua,es_PA:Ta,es_PY:Aa,es_PE:Ba,es_PR:Va,es_ES:Ea,es_UY:qa,es_VE:Fa,sw:Da,sv_FI:Ya,sv_SE:Ra,tg:za,ta:La,tt:Na,te:ja,th:Oa,bo:Ga,ts:Ha,tr:Ka,tk:Wa,uk:Za,ur:Ja,uz_UZ:Qa,vi:Xa,cy:en,xh:sn,yi:tn,zu:an};function on(p,r){const l=w(!1),i=w(nn),a=be("userLocale"),o=w(a),{toastSuccess:d,toastError:u}=Z(),m=w({timezone:"UTC",dateFormat:"MM/DD/YYYY",timeFormat:"24",locale:"en_US"});R(o,b=>{m.value.locale=b,f()}),R(m,b=>{console.log("Preferences changed:",b),f()},{deep:!0});async function f(){var b,S;l.value=!0;try{await axios.post(`/api/user/${p}/setLocale`,{datestyle:m.value.dateFormat,timestyle:m.value.timeFormat,locale:m.value.locale}),d("Preferences Updated","Your time and locale preferences have been saved.")}catch(y){let P="Failed to update preferences";(S=(b=y.response)==null?void 0:b.data)!=null&&S.message&&(P=y.response.data.message),u("Update Failed",P)}finally{l.value=!1}}function c(b){l.value=b}return{preferences:m,locales:i,savePreferences:f,selectedLocale:o,setSaving:c,isSaving:l}}const rn={class:"flex items-center justify-between"},ln={class:"flex items-center space-x-3"},dn={class:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"},cn={class:"flex flex-col items-start space-y-2"},un={class:"space-y-8"},fn={class:"space-y-4"},pn={class:"pl-3"},mn={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},gn={class:"space-y-3"},_n={class:"pl-3 space-y-2"},bn={class:"text-sm font-medium text-green-700 dark:text-green-300"},vn={class:"space-y-4"},yn={class:"pl-3"},hn={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xn={class:"space-y-2"},wn={class:"space-y-2"},kn={class:"pt-4"},Sn={__name:"TimeLocaleCard",props:{user:{type:Object,required:!0},profileUserId:{type:String,required:!0}},setup(p){const r=p,{preferences:l,locales:i,selectedLocale:a,setSaving:o,isSaving:d}=on(r.profileUserId,r.user),u=w(!1),m=()=>{localStorage.getItem("TableCompactView")==="true"&&(u.value=!0)};return R(u,f=>{localStorage.setItem("TableCompactView",f.toString()),o(!0),setTimeout(()=>o(!1),500)}),z(()=>{m()}),(f,c)=>{const b=T("RcBadge"),S=T("Label");return g(),v(e(Y),{class:"bg-transparent border-none"},{default:n(()=>[t(e(q),{class:"pb-6"},{default:n(()=>[s("div",rn,[s("div",ln,[s("div",dn,[t(e(he),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),s("div",null,[t(e(F),{class:"text-xl font-semibold text-gray-900 dark:text-white"},{default:n(()=>[x(" Time & Locale "+M(e(a)),1)]),_:1}),t(e(J),{class:"text-gray-500 dark:text-gray-400"},{default:n(()=>[...c[3]||(c[3]=[x(" Customize your regional and time preferences ",-1)])]),_:1})])]),s("div",cn,[s("div",{class:B(["flex items-center space-x-2 text-sm",e(d)?"text-blue-500 dark:text-blue-400":"text-gray-500 dark:text-gray-400"])},[s("div",{class:B(["w-2 h-2 rounded-full",e(d)?"bg-blue-500 animate-pulse":"bg-gray-400"])},null,2),s("span",null,M(e(d)?"Saving changes…":"Changes auto-saved"),1)],2)])])]),_:1}),t(e(D),{class:"space-y-8"},{default:n(()=>[s("form",un,[s("div",fn,[s("div",pn,[s("div",mn,[s("div",gn,[c[5]||(c[5]=s("div",{class:"flex items-center space-x-2 border-b border-gray-200 dark:border-gray-700"},[s("div",{class:"w-1 h-4 bg-blue-400 rounded-full"}),s("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Timezone")],-1)),s("div",_n,[t(e(Q),{modelValue:e(a),"onUpdate:modelValue":c[0]||(c[0]=y=>Ae(a)?a.value=y:null)},{default:n(()=>[t(e(X),{id:"timezone"},{default:n(()=>[t(e(ee),{placeholder:"Select timezone"})]),_:1}),t(e(se),null,{default:n(()=>[(g(!0),$(E,null,O(e(i),(y,P)=>(g(),v(e(V),{key:P,value:P},{default:n(()=>[x(M(y),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(a)?(g(),v(b,{key:0,variant:"success",interactive:!1},{default:n(()=>[c[4]||(c[4]=s("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"},null,-1)),s("span",bn,M(e(a)),1)]),_:1})):I("",!0)])])])])]),s("div",vn,[c[13]||(c[13]=s("div",{class:"flex items-center space-x-2 pb-2 border-b border-gray-200 dark:border-gray-700"},[s("div",{class:"w-1 h-5 bg-purple-500 rounded-full"}),s("h3",{class:"text-base font-medium text-gray-900 dark:text-white"},"Display Formats")],-1)),s("div",yn,[s("div",hn,[s("div",xn,[t(S,{for:"dateFormat",class:"text-sm font-medium text-gray-700 dark:text-gray-300"},{default:n(()=>[...c[6]||(c[6]=[x(" Date Format ",-1)])]),_:1}),t(e(Q),{modelValue:e(l).dateFormat,"onUpdate:modelValue":c[1]||(c[1]=y=>e(l).dateFormat=y)},{default:n(()=>[t(e(X),{id:"dateFormat"},{default:n(()=>[t(e(ee),{placeholder:"Select date format"})]),_:1}),t(e(se),null,{default:n(()=>[t(e(V),{value:"MM/DD/YYYY"},{default:n(()=>[...c[7]||(c[7]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"MM/DD/YYYY"),s("span",{class:"text-xs text-gray-500 ml-4"},"12/25/2024")],-1)])]),_:1}),t(e(V),{value:"DD/MM/YYYY"},{default:n(()=>[...c[8]||(c[8]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"DD/MM/YYYY"),s("span",{class:"text-xs text-gray-500 ml-4"},"25/12/2024")],-1)])]),_:1}),t(e(V),{value:"YYYY-MM-DD"},{default:n(()=>[...c[9]||(c[9]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"YYYY-MM-DD"),s("span",{class:"text-xs text-gray-500 ml-4"},"2024-12-25")],-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),s("div",wn,[t(S,{for:"timeFormat",class:"text-sm font-medium text-gray-700 dark:text-gray-300"},{default:n(()=>[...c[10]||(c[10]=[x(" Time Format ",-1)])]),_:1}),t(e(Q),{modelValue:e(l).timeFormat,"onUpdate:modelValue":c[2]||(c[2]=y=>e(l).timeFormat=y)},{default:n(()=>[t(e(X),{id:"timeFormat"},{default:n(()=>[t(e(ee),{placeholder:"Select time format"})]),_:1}),t(e(se),null,{default:n(()=>[t(e(V),{value:"12"},{default:n(()=>[...c[11]||(c[11]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"12 Hour (AM/PM)"),s("span",{class:"text-xs text-gray-500 ml-4"},"2:30 PM")],-1)])]),_:1}),t(e(V),{value:"24"},{default:n(()=>[...c[12]||(c[12]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"24 Hour"),s("span",{class:"text-xs text-gray-500 ml-4"},"14:30")],-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])]),s("div",kn,[t(e(Be),{class:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"},{default:n(()=>[t(e(Ve),{class:"h-4 w-4 text-blue-600 dark:text-blue-400"}),t(e(Xe),{class:"text-blue-800 dark:text-blue-200"},{default:n(()=>[...c[14]||(c[14]=[x("Display Preferences",-1)])]),_:1}),t(e(Ee),{class:"text-blue-700 dark:text-blue-300"},{default:n(()=>[...c[15]||(c[15]=[x(" Your display settings affect how dates, times, and table layouts are shown throughout the application. Changes are automatically saved and will apply immediately to all tables. ",-1)])]),_:1})]),_:1})])])]),_:1}),t(e(L),{class:"flex justify-between items-center border-t border-gray-200 dark:border-gray-700 pt-6"})]),_:1})}}},$n={__name:"Tabs",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},activationMode:{type:String,required:!1},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(p,{emit:r}){const a=qe(p,r);return(o,d)=>(g(),v(e(ts),Fe(De(e(a))),{default:n(()=>[A(o.$slots,"default")]),_:3},16))}},me={__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(p){const r=p,l=C(()=>{const{class:i,...a}=r;return a});return(i,a)=>(g(),v(e(ns),re({class:e(G)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r.class)},l.value),{default:n(()=>[A(i.$slots,"default")]),_:3},16,["class"]))}},Cn={__name:"TabsList",props:{loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(p){const r=p,l=C(()=>{const{class:i,...a}=r;return a});return(i,a)=>(g(),v(e(rs),re(l.value,{class:e(G)("inline-flex items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r.class)}),{default:n(()=>[A(i.$slots,"default")]),_:3},16,["class"]))}},Pn={class:"truncate"},ge={__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(p){const r=p,l=C(()=>{const{class:a,...o}=r;return o}),i=Ye(l);return(a,o)=>(g(),v(e(is),re(e(i),{class:e(G)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r.class)}),{default:n(()=>[s("span",Pn,[A(a.$slots,"default")])]),_:3},16,["class"]))}},In={class:"flex items-center mb-6"},Mn={class:"bg-rose-400/10 p-3 rounded-full mr-4"},Un={__name:"IsInvalidUserProfCard",setup(p){function r(){router.push("/dashboard")}function l(){fetchUserProfile()}return(i,a)=>{const o=T("Button");return g(),v(e(Y),{class:"w-full lg:w-1/2 border-rose-400/20"},{default:n(()=>[t(e(q),{class:"bg-red-400/15 dark:bg-red-400/20 border-b border-red-400/20"},{default:n(()=>[t(e(F),{class:"flex items-center text-rose-400"},{default:n(()=>[t(e(ne),{class:"h-5 w-5 mr-2"}),a[0]||(a[0]=x(" Invalid User Profile ",-1))]),_:1})]),_:1}),t(e(D),{class:"pt-6"},{default:n(()=>[s("div",In,[s("div",Mn,[t(e(ne),{class:"h-8 w-8 text-rose-400"})]),a[1]||(a[1]=s("div",null,[s("p",{class:"text-lg font-semibold text-rose-400"},"Profile Not Found"),s("p",{class:"text-muted-foreground"},"We couldn't find the requested profile or you don't have permission to access it.")],-1))]),a[2]||(a[2]=s("p",{class:"text-muted-foreground mb-3"}," There might be several reasons for this error: ",-1)),a[3]||(a[3]=s("ul",{class:"list-disc pl-5 mb-6 space-y-1 text-muted-foreground"},[s("li",null,"The user account doesn't exist"),s("li",null,"Your session might have expired"),s("li",null,"You have insufficient permissions")],-1))]),_:1}),t(e(L),{class:"flex flex-col sm:flex-row gap-3 border-t pt-4"},{default:n(()=>[t(o,{onClick:l,variant:"destructive",class:"w-full sm:w-auto"},{default:n(()=>[t(e(Ze),{class:"h-4 w-4 mr-2"}),a[4]||(a[4]=x(" Try Again ",-1))]),_:1}),t(o,{onClick:r,variant:"outline",class:"w-full sm:w-auto"},{default:n(()=>[...a[5]||(a[5]=[x(" Back to Dashboard ",-1)])]),_:1})]),_:1})]),_:1})}}},Tn={class:"flex items-center mb-6"},An={class:"bg-amber-100 dark:bg-amber-900/50 p-3 rounded-full mr-4"},Bn={class:"text-muted-foreground mb-6"},Vn={__name:"IsUnauthorizedUserProfCard",props:{userId:{type:String,required:!0},loggedInUser:{type:String,required:!0}},setup(p){function r(){router.push("/dashboard")}function l(){router.push(`/settings/my-profile/${loggedInUser}`)}return(i,a)=>{const o=T("Button");return g(),v(e(Y),{class:"w-full lg:w-1/2 max-w-5xl border-amber-500/20"},{default:n(()=>[t(e(q),{class:"bg-amber-500/15 dark:bg-amber-900/30 border-b border-amber-500/20"},{default:n(()=>[t(e(F),{class:"flex items-center text-amber-600 dark:text-amber-400"},{default:n(()=>[t(e(pe),{class:"h-5 w-5 mr-2"}),a[0]||(a[0]=x(" Access Denied ",-1))]),_:1})]),_:1}),t(e(D),{class:"pt-6"},{default:n(()=>[s("div",Tn,[s("div",An,[t(e(pe),{class:"h-8 w-8 text-amber-600 dark:text-amber-400"})]),a[1]||(a[1]=s("div",null,[s("p",{class:"text-lg font-semibold text-amber-700 dark:text-amber-400"},"Security Restriction"),s("p",{class:"text-muted-foreground"},"You can only access your own user profile.")],-1))]),s("p",Bn,"The profile you're trying to access (ID: "+M(p.userId)+") belongs to another user. For security reasons, you can only view and edit your own profile.",1)]),_:1}),t(e(L),{class:"flex flex-col sm:flex-row gap-3 border-t pt-4"},{default:n(()=>[t(o,{onClick:l,variant:"default",class:"w-full sm:w-auto"},{default:n(()=>[t(e(Je),{class:"h-4 w-4 mr-2"}),a[2]||(a[2]=x(" Go to My Profile ",-1))]),_:1}),t(o,{onClick:r,variant:"outline",class:"w-full sm:w-auto"},{default:n(()=>[...a[3]||(a[3]=[x(" Back to Dashboard ",-1)])]),_:1})]),_:1})]),_:1})}}},En={class:"alert-warning"},qn={class:"alert-content"},Fn={class:"alert-icon"},Dn={key:0},Yn=["innerHTML"],Rn={class:"alert-slot"},zn={__name:"AlertWarning",props:{title:{type:String,default:"Warning"},titleEnabled:{type:Boolean,default:!0},message:{type:String,required:!0},small:{type:Boolean,default:!1},showClose:{type:Boolean,default:!1}},emits:["closed"],setup(p,{emit:r}){const l=r;function i(){l("closed")}return(a,o)=>(g(),$("div",En,[s("div",qn,[s("div",Fn,[t(e(ne)),o[0]||(o[0]=s("span",{class:"alert-icon-pulse"},null,-1))]),s("div",{class:B(["alert-body",{"text-size-sm":p.small}])},[p.titleEnabled?(g(),$("h5",Dn,M(p.title),1)):I("",!0),s("div",{innerHTML:p.message,class:"alert-message"},null,8,Yn),s("div",Rn,[A(a.$slots,"default",{},void 0,!0)])],2),p.showClose?(g(),$("button",{key:0,onClick:i,class:"alert-close-btn","aria-label":"Close",type:"button"},[t(e(Qe)),o[1]||(o[1]=s("span",{class:"alert-close-ripple"},null,-1))])):I("",!0)])]))}},Ln=ve(zn,[["__scopeId","data-v-1a497441"]]),h={},Nn=Re("notifications",()=>{const{toastSuccess:p,toastError:r}=Z(),l=w({}),i=w(!1),a=w({}),o=w({categories:[],types:[],channels:[]}),d=async()=>{try{const _=await axios.get("/api/notification-enums");o.value=_.data}catch(_){console.error("Failed to load notification enums:",_),u()}},u=()=>{o.value={categories:[{key:"system",label:h.categories.system.label,description:h.categories.system.description,icon:"Server"},{key:"config",label:h.categories.config.label,description:h.categories.config.description,icon:"Settings"},{key:"connection",label:h.categories.connection.label,description:h.categories.connection.description,icon:"Wifi"},{key:"task",label:h.categories.task.label,description:h.categories.task.description,icon:"CheckCircle"}],channels:[{key:"db",label:h.channels.db.label,description:h.channels.db.description,icon:"Database",color:"blue"},{key:"mail",label:h.channels.mail.label,description:h.channels.mail.description,icon:"Mail",color:"green"}],types:[{key:"system.notification_error",category:"system",label:h.types.system_notification_error.label,description:h.types.system_notification_error.description,severity:"info",channels:["db","mail"]},{key:"config.changed",category:"config",label:h.types.config_changed.label,description:h.types.config_changed.description,severity:"warning",channels:["db","mail"]},{key:"config.download_completed",category:"config",label:h.types.config_download_completed.label,description:h.types.config_download_completed.description,severity:"info",channels:["db","mail"]},{key:"config.purge_completed",category:"config",label:h.types.config_purge_completed.label,description:h.types.config_purge_completed.description,severity:"info",channels:["db","mail"]},{key:"config.purge_failed_completed",category:"config",label:h.types.config_purge_failed_completed.label,description:h.types.config_purge_failed_completed.description,severity:"info",channels:["db","mail"]},{key:"connection.device_failure",category:"connection",label:h.types.connection_device_failure.label,description:h.types.connection_device_failure.description,severity:"warning",channels:["db","mail"]},{key:"task.completed",category:"task",label:h.types.task_completed.label,description:h.types.task_completed.description,severity:"info",channels:["db","mail"]},{key:"task.download_report",category:"task",label:h.types.task_download_report.label,description:h.types.task_download_report.description,severity:"info",channels:["db","mail"]}]}},m=C(()=>o.value.categories.map(_=>({..._,types:o.value.types.filter(k=>k.category===_.key)}))),f=C(()=>o.value.channels),c=C(()=>o.value.types.length),b=C(()=>{let _=0;return Object.keys(l.value).forEach(k=>{Object.keys(l.value[k]||{}).forEach(U=>{l.value[k][U]&&_++})}),_}),S=async()=>{try{i.value=!0;const _=await axios.get("/api/user/notification-preferences");l.value=_.data.preferences||{}}catch(_){throw console.error("Failed to load notification preferences:",_),r("Error","Failed to load notification preferences."),_}finally{i.value=!1}};return{preferences:l,loading:i,updating:a,enums:o,notificationCategories:m,channels:f,totalNotificationTypes:c,enabledNotifications:b,loadEnums:d,loadPreferences:S,updatePreference:async(_,k,U)=>{const ie=`${_}.${k}`;try{return a.value[ie]=!0,await axios.patch("/api/user/notification-preferences",{notification_type:_,channel:k,enabled:U}),l.value[_]||(l.value[_]={}),l.value[_][k]=U,p("Success",`Notification preference for "${_}" (${k}) updated successfully.`),{success:!0}}catch(de){throw console.error("Failed to update preference:",de),l.value[_]&&(l.value[_][k]=!U),r("Error",`Failed to update notification preference for "${_}" (${k}).`),de}finally{a.value[ie]=!1}},getPreference:(_,k)=>{var U;return((U=l.value[_])==null?void 0:U[k])??!1},isUpdating:(_,k)=>a.value[`${_}.${k}`]||!1,getSeverityVariant:_=>{switch(_){case"error":return"danger";case"warning":return"warning";case"info":return"info";default:return"secondary"}},getChannelColor:_=>{const k=f.value.find(U=>U.key===_);return(k==null?void 0:k.color)||"gray"},isSlackEnabled:_=>{const k=o.value.types.find(U=>U.key===_);return(k==null?void 0:k.slackEnabled)||!1},initialize:async()=>{await d(),await S()}}}),jn={class:"flex items-center"},On={class:"p-2 bg-amber-100 dark:bg-amber-900 rounded-lg mr-2"},Gn={class:"text-sm text-muted-foreground font-normal ml-2"},Hn={class:"flex flex-col items-start space-y-2"},Kn={key:0,class:"flex items-center justify-center py-8"},Wn={key:1,class:"space-y-6"},Zn={class:"bg-muted/50 rounded-lg p-4"},Jn={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Qn={class:"text-sm font-medium flex items-center"},Xn={class:"text-xs text-muted-foreground"},eo={class:"rounded-lg border border-border bg-card overflow-hidden"},so={class:"border-b border-border bg-muted/50 px-6 py-4"},to={class:"grid gap-4 items-center",style:{"grid-template-columns":"1fr auto auto auto"}},ao={class:"flex items-center gap-2"},no={class:"flex items-center justify-center gap-2 min-w-[80px]"},oo={class:"flex items-center justify-center gap-2 min-w-[80px]"},ro={class:"divide-y divide-border"},lo={class:"grid gap-4 items-center",style:{"grid-template-columns":"1fr auto auto auto"}},io={class:"min-w-0"},co={class:"space-y-1"},uo={class:"text-sm font-medium leading-none"},fo={class:"text-xs text-muted-foreground leading-tight"},po={class:"flex justify-center min-w-[80px]"},mo={class:"flex items-center"},go={class:"flex justify-center min-w-[80px]"},_o={class:"flex items-center"},bo={__name:"NotificationPreferences",props:{profileUserId:{type:[String,Number],required:!0},notificationStatus:{type:Boolean,required:!0}},setup(p){const r=Nn(),l=w(!1);w(localStorage.getItem("notificationInfoAlertClosed")!=="true"),z(async()=>{try{await r.initialize()}catch{toastError("Load Failed","Failed to load notification preferences")}});const i=C(()=>Object.values(r.updating).some(a=>a===!0));return(a,o)=>{const d=T("RcIcon");return g(),v(e(Y),{class:"bg-transparent border-none"},{default:n(()=>[t(e(q),null,{default:n(()=>[t(e(F),{class:"flex items-center justify-between"},{default:n(()=>[s("div",jn,[s("div",On,[t(e(oe),{class:"h-5 w-5 text-amber-600 dark:text-amber-400"})]),o[0]||(o[0]=x(" Notification Preferences ",-1)),s("div",Gn,"("+M(e(r).enabledNotifications)+" / "+M(e(r).totalNotificationTypes*3)+" enabled)",1)]),s("div",Hn,[s("div",{class:B(["flex items-center space-x-2 text-sm",i.value?"text-blue-500 dark:text-blue-400":"text-gray-500 dark:text-gray-400"])},[s("div",{class:B(["w-2 h-2 rounded-full",i.value?"bg-blue-500 animate-pulse":"bg-gray-400"])},null,2),s("span",null,M(i.value?"Saving changes…":"Changes auto-saved"),1)],2)])]),_:1}),t(e(J),null,{default:n(()=>[...o[1]||(o[1]=[x("Manage your notification preferences and settings.",-1)])]),_:1}),p.notificationStatus===!1?(g(),v(Ln,{key:0,title:"Your notifications are disabled",message:"Please enable notifications in the users settings to receive updates.",small:!0,class:"my-2"})):I("",!0)]),_:1}),t(e(D),null,{default:n(()=>[l.value?(g(),$("div",Kn,[t(e(te),{class:"h-6 w-6 animate-spin mr-2"}),o[2]||(o[2]=x(" Loading preferences... ",-1))])):(g(),$("div",Wn,[s("div",Zn,[o[3]||(o[3]=s("h4",{class:"font-medium mb-3 text-sm"},"Notification Channels",-1)),s("div",Jn,[(g(!0),$(E,null,O(e(r).channels,u=>(g(),$("div",{key:u.key,class:"flex items-center space-x-2"},[(g(),v(ze(u.icon),{class:B(["h-4 w-4",`text-${u.color}-600`])},null,8,["class"])),s("div",null,[s("span",Qn,[u.label==="Database"?(g(),v(d,{key:0,name:"Database",class:"mr-2"})):I("",!0),u.label==="Email"?(g(),v(d,{key:1,name:"Email",class:"mr-2"})):I("",!0),x(" "+M(u.label),1)]),s("p",Xn,M(u.description),1)])]))),128))])]),s("div",eo,[s("div",so,[s("div",to,[s("div",ao,[t(e(oe),{class:"h-4 w-4 text-muted-foreground"}),o[4]||(o[4]=s("span",{class:"text-sm font-medium"},"Notify me about",-1))]),s("div",no,[t(d,{name:"Database",class:"mr-2"}),o[5]||(o[5]=s("span",{class:"text-sm font-medium"},"InApp",-1))]),s("div",oo,[t(d,{name:"Email",class:"mr-2"}),o[6]||(o[6]=s("span",{class:"text-sm font-medium"},"Email",-1))])])]),s("div",ro,[(g(!0),$(E,null,O(e(r).notificationCategories,u=>(g(),$(E,{key:u.key},[(g(!0),$(E,null,O(u.types,(m,f)=>(g(),$("div",{key:m.key,class:B(["px-6 py-4 hover:bg-muted/30 transition-colors",{"border-t border-muted":f===0&&u!==e(r).notificationCategories[0]}])},[s("div",lo,[s("div",io,[s("div",co,[s("h4",uo,M(m.label),1),s("p",fo,M(m.description),1)])]),s("div",po,[s("div",mo,[e(r).isUpdating(m.key,"db")?(g(),v(e(te),{key:0,class:"h-4 w-4 animate-spin text-muted-foreground"})):(g(),v(e(ce),{key:1,checked:e(r).getPreference(m.key,"db"),"onUpdate:checked":c=>e(r).updatePreference(m.key,"db",c)},null,8,["checked","onUpdate:checked"]))])]),s("div",go,[s("div",_o,[e(r).isUpdating(m.key,"mail")?(g(),v(e(te),{key:0,class:"h-4 w-4 animate-spin text-muted-foreground"})):(g(),v(e(ce),{key:1,checked:e(r).getPreference(m.key,"mail"),disabled:!m.channels.includes("mail"),"onUpdate:checked":c=>e(r).updatePreference(m.key,"mail",c)},null,8,["checked","disabled","onUpdate:checked"]))])])])],2))),128))],64))),128))])])]))]),_:1})]),_:1})}}};function vo(p){const{toastSuccess:r,toastError:l}=Z(),i=w(!1),a=w({current:"",new:"",confirm:""}),o=w({current:!1,new:!1,confirm:!1}),d=C(()=>!a.value.new&&!a.value.confirm?null:a.value.new===a.value.confirm),u=C(()=>a.value.current&&a.value.new&&a.value.confirm&&d.value);async function m(){var f,c,b,S;if(i.value=!0,!d.value){l("Password Error","New password and confirmation do not match");return}try{await axios.post(`/api/user/${p}/change-password`,{current_password:a.value.current,new_password:a.value.new,new_password_confirmation:a.value.confirm}),r("Password Updated","Your password has been changed successfully."),a.value={current:"",new:"",confirm:""}}catch(y){let P="Failed to update password";if((c=(f=y.response)==null?void 0:f.data)!=null&&c.errors){const N=y.response.data.errors,j=Object.keys(N)[0];j&&N[j][0]&&(P=N[j][0])}else(S=(b=y.response)==null?void 0:b.data)!=null&&S.message&&(P=y.response.data.message);l("Update Failed",P)}finally{i.value=!1}}return{canChangePassword:u,changePassword:m,passwordVisibility:o,passwords:a,passwordsMatch:d,isSaving:i}}const yo={class:"space-y-4"},ho={class:"space-y-2"},xo={class:"relative"},wo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ko={class:"space-y-2"},So={class:"relative"},$o={class:"space-y-2"},Co={class:"relative"},Po={key:0,class:"text-xs text-destructive"},Io={__name:"PasswordCard",props:{profileUserId:{type:String,required:!0}},setup(p){const r=p,{canChangePassword:l,changePassword:i,passwordVisibility:a,passwords:o,passwordsMatch:d,isSaving:u}=vo(r.profileUserId);return(m,f)=>{const c=T("Label"),b=T("InputPassword"),S=T("Button");return g(),v(e(Y),{class:"bg-transparent border-none"},{default:n(()=>[t(e(q),{class:"pt-0"},{default:n(()=>[t(e(F),{class:"flex items-center"},{default:n(()=>[t(e(he),{class:"h-5 w-5 mr-2"}),f[3]||(f[3]=x(" Password ",-1))]),_:1}),t(e(J),null,{default:n(()=>[...f[4]||(f[4]=[x("Update your password",-1)])]),_:1})]),_:1}),t(e(D),null,{default:n(()=>[s("form",yo,[s("div",ho,[t(c,{for:"currentPassword"},{default:n(()=>[...f[5]||(f[5]=[x("Current Password",-1)])]),_:1}),s("div",xo,[t(b,{id:"currentPassword",modelValue:e(o).current,"onUpdate:modelValue":f[0]||(f[0]=y=>e(o).current=y),type:e(a).current?"text":"password"},null,8,["modelValue","type"])])]),s("div",wo,[s("div",ko,[t(c,{for:"newPassword"},{default:n(()=>[...f[6]||(f[6]=[x("New Password",-1)])]),_:1}),s("div",So,[t(b,{id:"newPassword",modelValue:e(o).new,"onUpdate:modelValue":f[1]||(f[1]=y=>e(o).new=y),type:e(a).new?"text":"password"},null,8,["modelValue","type"])])]),s("div",$o,[t(c,{for:"confirmPassword"},{default:n(()=>[...f[7]||(f[7]=[x("Confirm New Password",-1)])]),_:1}),s("div",Co,[t(b,{id:"confirmPassword",modelValue:e(o).confirm,"onUpdate:modelValue":f[2]||(f[2]=y=>e(o).confirm=y),type:e(a).confirm?"text":"password"},null,8,["modelValue","type"])]),e(d)===!1?(g(),$("p",Po," Passwords don't match ")):I("",!0)])])])]),_:1}),t(e(L),{class:"flex justify-end border-t pt-4"},{default:n(()=>[t(S,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",variant:"primary",onClick:e(i),disabled:!e(l)},{default:n(()=>[t(we,{state:e(u),class:"h-4 w-4 mr-2"},null,8,["state"]),e(u)?I("",!0):(g(),v(e(xe),{key:0,class:"h-4 w-4 mr-2"})),f[8]||(f[8]=s("span",null,"Save Changes",-1)),f[9]||(f[9]=s("div",{class:"pl-2 ml-auto"},null,-1))]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})}}};function Mo(p,r){const{toastSuccess:l,toastError:i}=Z(),a=w(!1),o=w({name:"",username:""});R(r,u=>{u&&(o.value={name:u.name||"",username:u.username||""})},{immediate:!0});async function d(){var u,m;a.value=!0;try{await axios.post(`/api/user/update-profile/${p}`,{name:o.value.name,username:o.value.username}),l("Profile Updated","Your profile details have been updated successfully.")}catch(f){console.error(f),i("Update Failed",((m=(u=f.response)==null?void 0:u.data)==null?void 0:m.message)||"Failed to update profile details")}finally{a.value=!1}}return{personalDetails:o,isSaving:a,savePersonalDetails:d}}const Uo={class:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-lg mr-2"},To={class:"space-y-4"},Ao={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Bo={class:"space-y-2"},Vo={class:"space-y-2"},Eo={__name:"PersonalDetailsCard",props:{user:{type:Object,required:!0},profileUserId:{type:String,required:!0}},setup(p){const r=p,{personalDetails:l,isSaving:i,savePersonalDetails:a}=Mo(r.profileUserId,r.user);return(o,d)=>{const u=T("RcIcon");return g(),v(e(Y),{class:"bg-transparent border-none"},{default:n(()=>[t(e(q),null,{default:n(()=>[t(e(F),{class:"flex items-center"},{default:n(()=>[s("div",Uo,[t(u,{name:"user",class:"h-5 w-5"})]),d[2]||(d[2]=x(" Personal Details ",-1))]),_:1}),t(e(J),null,{default:n(()=>[...d[3]||(d[3]=[x("Update your personal information",-1)])]),_:1})]),_:1}),t(e(D),null,{default:n(()=>[s("form",To,[s("div",Ao,[s("div",Bo,[t(e(ue),{for:"firstName"},{default:n(()=>[...d[4]||(d[4]=[x("Name",-1)])]),_:1}),t(e(fe),{id:"firstName",modelValue:e(l).name,"onUpdate:modelValue":d[0]||(d[0]=m=>e(l).name=m),placeholder:"Your name",class:"placeholder-gray-500"},null,8,["modelValue"])]),s("div",Vo,[t(e(ue),{for:"lastName"},{default:n(()=>[...d[5]||(d[5]=[x("Username ",-1),s("small",null,"(optional)",-1)])]),_:1}),t(e(fe),{id:"lastName",modelValue:e(l).username,"onUpdate:modelValue":d[1]||(d[1]=m=>e(l).username=m),placeholder:"Your username",class:"placeholder-gray-500"},null,8,["modelValue"])])])])]),_:1}),t(e(L),{class:"flex justify-end border-t pt-4"},{default:n(()=>[t(e(Le),{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",variant:"primary",onClick:e(a)},{default:n(()=>[t(we,{state:e(i),class:"h-4 w-4 mr-2"},null,8,["state"]),e(i)?I("",!0):(g(),v(e(xe),{key:0,class:"h-4 w-4 mr-2"})),d[6]||(d[6]=s("span",null,"Save Changes",-1)),d[7]||(d[7]=s("div",{class:"pl-2 ml-auto"},null,-1))]),_:1},8,["onClick"])]),_:1})]),_:1})}}};function qo(p,r){ye();const l=w(null),i=w(null),a=w(!0),o=w(null),d=w("loading"),u=C(()=>d.value==="authorized"),m=C(()=>d.value==="unauthorized"),f=C(()=>d.value==="invalid");z(()=>{b(),c()});const c=async()=>{var S,y;try{a.value=!0,o.value=null;const P=await Ne.get(`/api/users/${p}`);l.value=P.data}catch(P){console.log(P),o.value=((y=(S=P.response)==null?void 0:S.data)==null?void 0:y.message)||"Failed to load user profile",d.value="invalid"}finally{a.value=!1}},b=()=>{if(!r||!p)return d.value="invalid",!1;const S=parseInt(p,10);return parseInt(r,10)===S?(d.value="authorized",!0):(d.value="unauthorized",!1)};return{user:l,currentUser:i,isLoading:a,error:o,accessStatus:d,isAuthorized:u,isUnauthorized:m,isInvalid:f,fetchUserProfile:c}}const Fo={class:"pb-4 pl-10 space-y-6 md:block"},Do={class:"space-y-0.5"},Yo={class:"flex items-center space-x-2 text-2xl font-bold tracking-tight"},Ro={class:"flex flex-col h-full gap-1"},zo={key:0,class:"flex flex-col w-full"},Lo={key:1,class:"flex items-center justify-center h-full p-4"},No={key:2,class:"flex items-center justify-center h-full p-4"},jo={key:3,class:"container mx-auto px-4 max-w-4xl"},Oo={class:"flex items-center justify-center gap-2 data-[state=active]:bg-background"},Go={class:"flex items-center justify-center gap-2 data-[state=active]:bg-background"},Ho={class:"tab-content-wrapper"},Ko={class:"tab-content-wrapper"},ae="user-profile-active-tab",Wo={__name:"Main",setup(p){const r=je();ye();const l=be("userid"),i=r.params.userId,{user:a,isLoading:o,isAuthorized:d,isUnauthorized:u,isInvalid:m}=qo(i,l),f=w(localStorage.getItem(ae)||"profile");return R(f,c=>{localStorage.setItem(ae,c)}),z(()=>{localStorage.getItem("user-profile-user-id")!==i.toString()&&(localStorage.setItem("user-profile-user-id",i.toString()),f.value="profile",localStorage.setItem(ae,"profile"))}),(c,b)=>{const S=T("RcIcon");return g(),$(E,null,[s("div",Fo,[s("div",Do,[s("h2",Yo,[t(S,{name:"settings",class:"w-8 h-8"}),b[1]||(b[1]=s("span",null,"My User Profile",-1))]),b[2]||(b[2]=s("p",{class:"text-muted-foreground"},"Manage your application settings and preferences",-1))]),t(e(Oe),{class:"my-6"})]),s("div",Ro,[e(o)?(g(),$("div",zo,[t(Ge,{class:"mx-auto"})])):e(u)?(g(),$("div",Lo,[t(Vn,{userId:e(i),loggedInUser:e(l)},null,8,["userId","loggedInUser"])])):e(m)?(g(),$("div",No,[t(Un)])):e(d)?(g(),$("div",jo,[t(e($n),{modelValue:f.value,"onUpdate:modelValue":b[0]||(b[0]=y=>f.value=y),class:"w-full"},{default:n(()=>[t(e(Cn),{class:"grid w-full grid-cols-2 mb-4"},{default:n(()=>[t(e(ge),{value:"profile"},{default:n(()=>[s("div",Oo,[t(S,{name:"user",class:"w-4 h-4"}),b[3]||(b[3]=s("span",{class:"hidden sm:inline"},"Profile & Security",-1))])]),_:1}),t(e(ge),{value:"notifications"},{default:n(()=>[s("div",Go,[t(e(oe),{class:"w-4 h-4"}),b[4]||(b[4]=s("span",{class:"hidden sm:inline"},"Notifications",-1))])]),_:1})]),_:1}),t(e(me),{value:"profile",class:"space-y-4 mt-0"},{default:n(()=>[s("div",Ho,[e(a)?(g(),v(Eo,{key:0,user:e(a),profileUserId:e(i)},null,8,["user","profileUserId"])):I("",!0),e(a)?(g(),v(Io,{key:1,profileUserId:e(i)},null,8,["profileUserId"])):I("",!0),e(a)?(g(),v(Sn,{key:2,user:e(a),profileUserId:e(i)},null,8,["user","profileUserId"])):I("",!0)])]),_:1}),t(e(me),{value:"notifications",class:"space-y-4 mt-0"},{default:n(()=>[s("div",Ko,[e(a)?(g(),v(bo,{key:0,profileUserId:e(a).id,notificationStatus:e(a).get_notifications},null,8,["profileUserId","notificationStatus"])):I("",!0)])]),_:1})]),_:1},8,["modelValue"])])):I("",!0)])],64)}}},fr=ve(Wo,[["__scopeId","data-v-db02151e"]]);export{fr as default};
