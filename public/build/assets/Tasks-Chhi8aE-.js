import{a6 as j,H as C,ag as ve,ad as le,o as c,c as v,a as t,r as Z,Y as F,v as w,aa as oe,F as H,J as Y,s as x,t as M,b as A,Z as V,$ as J,ah as he,w as U,d as L,y as X,ai as q,ac as B,z as G,aj as ee,ab as W,X as ge,i as I,f as S,ak as ye,af as we}from"./app-D2xsl8rd.js";import{D as be}from"./DataTable-C4xjaSuv.js";import{b as ke,c as xe}from"./DeleteModal-BW7zlagY.js";import{L as K}from"./LoadingSpinner-CKi4qMsx.js";import{P as Te}from"./PageHeader-jQFlwj8n.js";import{S as Oe}from"./SideDrawer-DOD6jbif.js";import{a as de,u as ze}from"./ViewFunctions-C6cuRbX0.js";import{M as ie,u as ae}from"./MultiSelect-DWuPDpFq.js";import{u as Se}from"./index-CNlVbg3U.js";/* empty css               */import"./DataTableSpinner-DEUZ5Lyn.js";const Ce={props:{},setup(r,{emit:e}){const i=C(null),o=ve();le(i,h=>g());function g(){e("closeModal")}function b(){e("action1"),g()}function s(){e("action3")}return{slots:o,close:g,action1:b,action3:s,clickOutsidetargetConfirmModal:i}}},De={class:"pf-c-backdrop"},Me={class:"pf-l-bullseye"},Ee={class:"pf-c-modal-box pf-m-sm",ref:"clickOutsidetargetConfirmModal"},Pe={class:"pf-c-modal-box__header"},Xe={class:"pf-c-modal-box__title",id:"modal-md-title"},je={class:"pf-c-modal-box__body"},Ae={id:"modal-md-description"},Re={class:"pf-c-modal-box__footer"};function Le(r,e,i,o,g,b){return c(),v("div",De,[t("div",Me,[t("div",Ee,[t("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Close dialog",onClick:e[0]||(e[0]=(...s)=>o.close&&o.close(...s))},e[4]||(e[4]=[t("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)])),t("header",Pe,[t("h1",Xe,[Z(r.$slots,"title")])]),t("div",je,[t("p",Ae,[Z(r.$slots,"question")])]),t("footer",Re,[t("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:e[1]||(e[1]=F((...s)=>o.action1&&o.action1(...s),["prevent"]))},[Z(r.$slots,"action1")]),o.slots.action2?(c(),v("button",{key:0,class:"pf-c-button pf-m-link",type:"button",onClick:e[2]||(e[2]=F((...s)=>o.close&&o.close(...s),["prevent"]))},[Z(r.$slots,"action2")])):w("",!0),o.slots.action3?(c(),v("button",{key:1,class:"pf-c-button pf-m-link",type:"button",onClick:e[3]||(e[3]=F((...s)=>o.action3&&o.action3(...s),["prevent"]))},[Z(r.$slots,"action3")])):w("",!0)])],512)])])}const Ue=j(Ce,[["render",Le]]),Fe={props:{task_id:{type:Number,default:0}},components:{LoadingSpinner:K,DataTablePaginate:ke},emits:["close","saveColumns"],setup(r,{emit:e}){const i=C(null),o=oe("create-notification"),g=H({}),b=C(!1),s=C(1),h=oe("formatTime");le(i,k=>T()),Y(()=>{f()});function f(){b.value=!0,axios.get("/api/tasks/monitored/"+r.task_id+"/?page="+s.value).then(k=>{Object.assign(g,k),b.value=!1}).catch(k=>{o({type:"danger",title:"Error",message:k.response.data.message}),b.value=!1})}function l(k){console.log(k),s.value=k.page,console.log(s),f()}const T=()=>{e("close")};return{clickOutsidetargetTaskHist:i,close:T,formatTime:h,isLoading:b,pageChanged:l,task_history_items:g}}},Ie={class:"pf-c-backdrop"},We={class:"pf-l-bullseye"},He={class:"pf-c-modal-box pf-m-lg",ref:"clickOutsidetargetTaskHist"},Ve={class:"pf-c-modal-box__header"},Ne={class:"pf-c-modal-box__title",id:"modal-title"},Ge={class:"pf-c-modal-box__body",id:"modal-description"},qe={key:0},Be={key:0},Ye={class:"pf-c-empty-state"},Je={class:"pf-c-empty-state__content"},$e={key:1},Ze={class:"pf-c-table pf-m-compact pf-m-grid-md",role:"grid"},Ke={role:"rowgroup"},Qe={role:"cell","data-label":"Position"},et={role:"cell","data-label":"Position"},tt={role:"cell","data-label":"Position"},ot={role:"cell","data-label":"Position"},nt={role:"cell","data-label":"Position"},it={class:"pf-c-modal-box__footer"};function at(r,e,i,o,g,b){const s=x("loading-spinner"),h=x("data-table-paginate");return c(),v("div",Ie,[t("div",We,[t("div",He,[t("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Close dialog",onClick:e[0]||(e[0]=(...f)=>o.close&&o.close(...f))},e[4]||(e[4]=[t("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)])),t("header",Ve,[t("h1",Ne,"Task history for ID: "+M(i.task_id),1),e[5]||(e[5]=t("div",{class:"pf-c-modal-box__description"},[t("div",{class:"pf-c-content"},[t("p",null,"View all runs for this task in the table below")])],-1))]),t("div",Ge,[A(s,{showSpinner:o.isLoading},null,8,["showSpinner"]),!o.isLoading&&Object.keys(o.task_history_items).length>0?(c(),v("div",qe,[o.task_history_items.data.total===0?(c(),v("div",Be,[t("div",Ye,[t("div",Je,[e[6]||(e[6]=t("i",{class:"fas fa-cubes pf-c-empty-state__icon","aria-hidden":"true"},null,-1)),e[7]||(e[7]=t("h1",{class:"pf-c-title pf-m-lg"},"Task history empty",-1)),e[8]||(e[8]=t("div",{class:"pf-c-empty-state__body"},"Task history not available, you may need to run the task to have some history!",-1)),t("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:e[1]||(e[1]=(...f)=>o.close&&o.close(...f))},"Close")])])])):w("",!0),o.task_history_items.data.total>0?(c(),v("div",$e,[t("table",Ze,[e[9]||(e[9]=t("thead",null,[t("tr",{role:"row"},[t("th",{role:"columnheader",scope:"col"},"Task ID"),t("th",{role:"columnheader",scope:"col"},"Monitored task id"),t("th",{role:"columnheader",scope:"col"},"Type"),t("th",{role:"columnheader",scope:"col"},"Command"),t("th",{role:"columnheader",scope:"col"},"Time"),t("td"),t("td")])],-1)),t("tbody",Ke,[(c(!0),v(V,null,J(o.task_history_items.data.data,f=>(c(),v("tr",{role:"row",key:f.id},[t("td",Qe,M(f.task_id),1),t("td",et,M(f.monitored_scheduled_task_id),1),t("td",tt,M(f.type),1),t("td",ot,M(f.meta),1),t("td",nt,M(o.formatTime(f.created_at)),1)]))),128))])]),A(h,{from:o.task_history_items.data.from,to:o.task_history_items.data.to,total:o.task_history_items.data.total,current_page:o.task_history_items.data.current_page,last_page:o.task_history_items.data.last_page,onPagechanged:e[2]||(e[2]=f=>o.pageChanged(f))},null,8,["from","to","total","current_page","last_page"])])):w("",!0)])):w("",!0)]),t("footer",it,[t("button",{class:"pf-c-button pf-m-link",type:"button",onClick:e[3]||(e[3]=(...f)=>o.close&&o.close(...f))},"Close")])],512)])])}const st=j(Fe,[["render",at]]),rt={props:{},setup(r,{emit:e}){function i(){e("closeModal")}function o(){e("action1"),i()}return{close:i,action1:o}}},lt={class:"pf-c-backdrop"},dt={class:"pf-l-bullseye"},ct={class:"pf-c-modal-box",style:{"--pf-c-modal-box--Width":"80rem"}};function pt(r,e,i,o,g,b){return c(),v("div",lt,[t("div",dt,[t("div",ct,[Z(r.$slots,"wizard")])])])}const ft=j(rt,[["render",pt]]);var ce={exports:{}};(function(r,e){(function(o,g){r.exports=g()})(globalThis,()=>(()=>{var i={794:(s,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CronParser=void 0;var l=f(586),T=function(){function k(a,n,p){n===void 0&&(n=!0),p===void 0&&(p=!1),this.expression=a,this.dayOfWeekStartIndexZero=n,this.monthStartIndexZero=p}return k.prototype.parse=function(){var a,n,p=(a=this.expression)!==null&&a!==void 0?a:"";if(p.startsWith("@")){var d=this.parseSpecial(this.expression);n=this.extractParts(d)}else n=this.extractParts(this.expression);return this.normalize(n),this.validate(n),n},k.prototype.parseSpecial=function(a){var n={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@midnight":"0 0 * * *","@hourly":"0 * * * *"},p=n[a];if(!p)throw new Error("Unknown special expression.");return p},k.prototype.extractParts=function(a){if(!this.expression)throw new Error("cron expression is empty");for(var n=a.trim().split(/[ ]+/),p=0;p<n.length;p++)if(n[p].includes(",")){var d=n[p].split(",").map(function(_){return _.trim()}).filter(function(_){return _!==""}).map(function(_){return isNaN(Number(_))?_:Number(_)}).filter(function(_){return _!==null&&_!==""});d.length===0&&d.push("*"),d.sort(function(_,y){return _!==null&&y!==null?_-y:0}),n[p]=d.map(function(_){return _!==null?_.toString():""}).join(",")}if(n.length<5)throw new Error("Expression has only ".concat(n.length," part").concat(n.length==1?"":"s",". At least 5 parts are required."));if(n.length==5)n.unshift(""),n.push("");else if(n.length==6){var u=/\d{4}$/.test(n[5])||n[4]=="?"||n[2]=="?";u?n.unshift(""):n.push("")}else if(n.length>7)throw new Error("Expression has ".concat(n.length," parts; too many!"));return n},k.prototype.normalize=function(a){var n=this;if(a[3]=a[3].replace("?","*"),a[5]=a[5].replace("?","*"),a[2]=a[2].replace("?","*"),a[0].indexOf("0/")==0&&(a[0]=a[0].replace("0/","*/")),a[1].indexOf("0/")==0&&(a[1]=a[1].replace("0/","*/")),a[2].indexOf("0/")==0&&(a[2]=a[2].replace("0/","*/")),a[3].indexOf("1/")==0&&(a[3]=a[3].replace("1/","*/")),a[4].indexOf("1/")==0&&(a[4]=a[4].replace("1/","*/")),a[6].indexOf("1/")==0&&(a[6]=a[6].replace("1/","*/")),a[5]=a[5].replace(/(^\d)|([^#/\s]\d)/g,function(z){var D=z.replace(/\D/,""),O=D;return n.dayOfWeekStartIndexZero?D=="7"&&(O="0"):O=(parseInt(D)-1).toString(),z.replace(D,O)}),a[5]=="L"&&(a[5]="6"),a[3]=="?"&&(a[3]="*"),a[3].indexOf("W")>-1&&(a[3].indexOf(",")>-1||a[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var p={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var d in p)a[5]=a[5].replace(new RegExp(d,"gi"),p[d].toString());a[4]=a[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(z){var D=z.replace(/\D/,""),O=D;return n.monthStartIndexZero&&(O=(parseInt(D)+1).toString()),z.replace(D,O)});var u={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var _ in u)a[4]=a[4].replace(new RegExp(_,"gi"),u[_].toString());a[0]=="0"&&(a[0]=""),!/\*|\-|\,|\//.test(a[2])&&(/\*|\//.test(a[1])||/\*|\//.test(a[0]))&&(a[2]+="-".concat(a[2]));for(var y=0;y<a.length;y++)if(a[y].indexOf(",")!=-1&&(a[y]=a[y].split(",").filter(function(z){return z!==""}).join(",")||"*"),a[y]=="*/1"&&(a[y]="*"),a[y].indexOf("/")>-1&&!/^\*|\-|\,/.test(a[y])){var m=null;switch(y){case 4:m="12";break;case 5:m="6";break;case 6:m="9999";break;default:m=null;break}if(m!==null){var E=a[y].split("/");a[y]="".concat(E[0],"-").concat(m,"/").concat(E[1])}}},k.prototype.validate=function(a){this.assertNoInvalidCharacters("DOW",a[5]),this.assertNoInvalidCharacters("DOM",a[3]),this.validateRange(a)},k.prototype.validateRange=function(a){l.default.secondRange(a[0]),l.default.minuteRange(a[1]),l.default.hourRange(a[2]),l.default.dayOfMonthRange(a[3]),l.default.monthRange(a[4],this.monthStartIndexZero),l.default.dayOfWeekRange(a[5],this.dayOfWeekStartIndexZero)},k.prototype.assertNoInvalidCharacters=function(a,n){var p=n.match(/[A-KM-VX-Z]+/gi);if(p&&p.length)throw new Error("".concat(a," part contains invalid values: '").concat(p.toString(),"'"))},k}();h.CronParser=T},728:(s,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ExpressionDescriptor=void 0;var l=f(910),T=f(794),k=function(){function a(n,p){if(this.expression=n,this.options=p,this.expressionParts=new Array(5),!this.options.locale&&a.defaultLocale&&(this.options.locale=a.defaultLocale),!a.locales[this.options.locale]){var d=Object.keys(a.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(d,"'.")),this.options.locale=d}this.i18n=a.locales[this.options.locale],p.use24HourTimeFormat===void 0&&(p.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return a.toString=function(n,p){var d=p===void 0?{}:p,u=d.throwExceptionOnParseError,_=u===void 0?!0:u,y=d.verbose,m=y===void 0?!1:y,E=d.dayOfWeekStartIndexZero,z=E===void 0?!0:E,D=d.monthStartIndexZero,O=D===void 0?!1:D,R=d.use24HourTimeFormat,P=d.locale,N=P===void 0?null:P,$=d.tzOffset,te=$===void 0?0:$,Q={throwExceptionOnParseError:_,verbose:m,dayOfWeekStartIndexZero:z,monthStartIndexZero:O,use24HourTimeFormat:R,locale:N,tzOffset:te},_e=new a(n,Q);return _e.getFullDescription()},a.initialize=function(n,p){p===void 0&&(p="en"),a.specialCharacters=["/","-",",","*"],a.defaultLocale=p,n.load(a.locales)},a.prototype.getFullDescription=function(){var n="";try{var p=new T.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=p.parse();var d=this.getTimeOfDayDescription(),u=this.getDayOfMonthDescription(),_=this.getMonthDescription(),y=this.getDayOfWeekDescription(),m=this.getYearDescription();n+=d+u+y+_+m,n=this.transformVerbosity(n,!!this.options.verbose),n=n.charAt(0).toLocaleUpperCase()+n.substr(1)}catch(E){if(!this.options.throwExceptionOnParseError)n=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(E)}return n},a.prototype.getTimeOfDayDescription=function(){var n=this.expressionParts[0],p=this.expressionParts[1],d=this.expressionParts[2],u="";if(!l.StringUtilities.containsAny(p,a.specialCharacters)&&!l.StringUtilities.containsAny(d,a.specialCharacters)&&!l.StringUtilities.containsAny(n,a.specialCharacters))u+=this.i18n.atSpace()+this.formatTime(d,p,n);else if(!n&&p.indexOf("-")>-1&&!(p.indexOf(",")>-1)&&!(p.indexOf("/")>-1)&&!l.StringUtilities.containsAny(d,a.specialCharacters)){var _=p.split("-");u+=l.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(d,_[0],""),this.formatTime(d,_[1],""))}else if(!n&&d.indexOf(",")>-1&&d.indexOf("-")==-1&&d.indexOf("/")==-1&&!l.StringUtilities.containsAny(p,a.specialCharacters)){var y=d.split(",");u+=this.i18n.at();for(var m=0;m<y.length;m++)u+=" ",u+=this.formatTime(y[m],p,""),m<y.length-2&&(u+=","),m==y.length-2&&(u+=this.i18n.spaceAnd())}else{var E=this.getSecondsDescription(),z=this.getMinutesDescription(),D=this.getHoursDescription();if(u+=E,u&&z&&(u+=", "),u+=z,z===D)return u;u&&D&&(u+=", "),u+=D}return u},a.prototype.getSecondsDescription=function(){var n=this,p=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(d){return d},function(d){return l.StringUtilities.format(n.i18n.everyX0Seconds(d),d)},function(d){return n.i18n.secondsX0ThroughX1PastTheMinute()},function(d){return d=="0"?"":parseInt(d)<20?n.i18n.atX0SecondsPastTheMinute(d):n.i18n.atX0SecondsPastTheMinuteGt20()||n.i18n.atX0SecondsPastTheMinute(d)});return p},a.prototype.getMinutesDescription=function(){var n=this,p=this.expressionParts[0],d=this.expressionParts[2],u=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(_){return _},function(_){return l.StringUtilities.format(n.i18n.everyX0Minutes(_),_)},function(_){return n.i18n.minutesX0ThroughX1PastTheHour()},function(_){try{return _=="0"&&d.indexOf("/")==-1&&p==""?n.i18n.everyHour():parseInt(_)<20?n.i18n.atX0MinutesPastTheHour(_):n.i18n.atX0MinutesPastTheHourGt20()||n.i18n.atX0MinutesPastTheHour(_)}catch{return n.i18n.atX0MinutesPastTheHour(_)}});return u},a.prototype.getHoursDescription=function(){var n=this,p=this.expressionParts[2],d=this.getSegmentDescription(p,this.i18n.everyHour(),function(y){return n.formatTime(y,"0","")},function(y){return l.StringUtilities.format(n.i18n.everyX0Hours(y),y)},function(y){return n.i18n.betweenX0AndX1()},function(y){return n.i18n.atX0()});if(d&&p.includes("-")&&this.expressionParts[1]!="0"){var u=Array.from(d.matchAll(/:00/g));if(u.length>1){var _=u[u.length-1].index;d=d.substring(0,_)+":59"+d.substring(_+3)}}return d},a.prototype.getDayOfWeekDescription=function(){var n=this,p=this.i18n.daysOfTheWeek(),d=null;return this.expressionParts[5]=="*"?d="":d=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(u,_){var y=u;u.indexOf("#")>-1?y=u.substring(0,u.indexOf("#")):u.indexOf("L")>-1&&(y=y.replace("L",""));var m=parseInt(y);if(n.options.tzOffset){var E=n.expressionParts[2],z=parseInt(E)+(n.options.tzOffset?n.options.tzOffset:0);z>=24?m++:z<0&&m--,m>6?m=0:m<0&&(m=6)}var D=n.i18n.daysOfTheWeekInCase?n.i18n.daysOfTheWeekInCase(_)[m]:p[m];if(u.indexOf("#")>-1){var O=null,R=u.substring(u.indexOf("#")+1),P=u.substring(0,u.indexOf("#"));switch(R){case"1":O=n.i18n.first(P);break;case"2":O=n.i18n.second(P);break;case"3":O=n.i18n.third(P);break;case"4":O=n.i18n.fourth(P);break;case"5":O=n.i18n.fifth(P);break}D=O+" "+D}return D},function(u){return parseInt(u)==1?"":l.StringUtilities.format(n.i18n.commaEveryX0DaysOfTheWeek(u),u)},function(u){var _=u.substring(0,u.indexOf("-")),y=n.expressionParts[3]!="*";return y?n.i18n.commaAndX0ThroughX1(_):n.i18n.commaX0ThroughX1(_)},function(u){var _=null;if(u.indexOf("#")>-1){var y=u.substring(u.indexOf("#")+1);_=n.i18n.commaOnThe(y).trim()+n.i18n.spaceX0OfTheMonth()}else if(u.indexOf("L")>-1)_=n.i18n.commaOnTheLastX0OfTheMonth(u.replace("L",""));else{var m=n.expressionParts[3]!="*";_=m?n.i18n.commaAndOnX0():n.i18n.commaOnlyOnX0(u)}return _}),d},a.prototype.getMonthDescription=function(){var n=this,p=this.i18n.monthsOfTheYear(),d=this.getSegmentDescription(this.expressionParts[4],"",function(u,_){return _&&n.i18n.monthsOfTheYearInCase?n.i18n.monthsOfTheYearInCase(_)[parseInt(u)-1]:p[parseInt(u)-1]},function(u){return parseInt(u)==1?"":l.StringUtilities.format(n.i18n.commaEveryX0Months(u),u)},function(u){return n.i18n.commaMonthX0ThroughMonthX1()||n.i18n.commaX0ThroughX1()},function(u){return n.i18n.commaOnlyInMonthX0?n.i18n.commaOnlyInMonthX0():n.i18n.commaOnlyInX0()});return d},a.prototype.getDayOfMonthDescription=function(){var n=this,p=null,d=this.expressionParts[3];switch(d){case"L":p=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":p=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var u=d.match(/(\d{1,2}W)|(W\d{1,2})/);if(u){var _=parseInt(u[0].replace("W","")),y=_==1?this.i18n.firstWeekday():l.StringUtilities.format(this.i18n.weekdayNearestDayX0(),_.toString());p=l.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),y);break}else{var m=d.match(/L-(\d{1,2})/);if(m){var E=m[1];p=l.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(E),E);break}else{if(d=="*"&&this.expressionParts[5]!="*")return"";p=this.getSegmentDescription(d,this.i18n.commaEveryDay(),function(z){return z=="L"?n.i18n.lastDay():n.i18n.dayX0?l.StringUtilities.format(n.i18n.dayX0(),z):z},function(z){return z=="1"?n.i18n.commaEveryDay():n.i18n.commaEveryX0Days(z)},function(z){return n.i18n.commaBetweenDayX0AndX1OfTheMonth(z)},function(z){return n.i18n.commaOnDayX0OfTheMonth(z)})}break}}return p},a.prototype.getYearDescription=function(){var n=this,p=this.getSegmentDescription(this.expressionParts[6],"",function(d){return/^\d+$/.test(d)?new Date(parseInt(d),1).getFullYear().toString():d},function(d){return l.StringUtilities.format(n.i18n.commaEveryX0Years(d),d)},function(d){return n.i18n.commaYearX0ThroughYearX1()||n.i18n.commaX0ThroughX1()},function(d){return n.i18n.commaOnlyInYearX0?n.i18n.commaOnlyInYearX0():n.i18n.commaOnlyInX0()});return p},a.prototype.getSegmentDescription=function(n,p,d,u,_,y){var m=null,E=n.indexOf("/")>-1,z=n.indexOf("-")>-1,D=n.indexOf(",")>-1;if(!n)m="";else if(n==="*")m=p;else if(!E&&!z&&!D)m=l.StringUtilities.format(y(n),d(n));else if(D){for(var O=n.split(","),R="",P=0;P<O.length;P++)if(P>0&&O.length>2&&(R+=",",P<O.length-1&&(R+=" ")),P>0&&O.length>1&&(P==O.length-1||O.length==2)&&(R+="".concat(this.i18n.spaceAnd()," ")),O[P].indexOf("/")>-1||O[P].indexOf("-")>-1){var N=O[P].indexOf("-")>-1&&O[P].indexOf("/")==-1,$=this.getSegmentDescription(O[P],p,d,u,N?this.i18n.commaX0ThroughX1:_,y);N&&($=$.replace(", ","")),R+=$}else E?R+=this.getSegmentDescription(O[P],p,d,u,_,y):R+=d(O[P]);E?m=R:m=l.StringUtilities.format(y(n),R)}else if(E){var O=n.split("/");if(m=l.StringUtilities.format(u(O[1]),O[1]),O[0].indexOf("-")>-1){var te=this.generateRangeSegmentDescription(O[0],_,d);te.indexOf(", ")!=0&&(m+=", "),m+=te}else if(O[0].indexOf("*")==-1){var Q=l.StringUtilities.format(y(O[0]),d(O[0]));Q=Q.replace(", ",""),m+=l.StringUtilities.format(this.i18n.commaStartingX0(),Q)}}else z&&(m=this.generateRangeSegmentDescription(n,_,d));return m},a.prototype.generateRangeSegmentDescription=function(n,p,d){var u="",_=n.split("-"),y=d(_[0],1),m=d(_[1],2),E=p(n);return u+=l.StringUtilities.format(E,y,m),u},a.prototype.formatTime=function(n,p,d){var u=0,_=0;this.options.tzOffset&&(u=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),_=parseFloat((this.options.tzOffset%1).toFixed(2)),_!=0&&(_*=60));var y=parseInt(n)+u,m=parseInt(p)+_;m>=60?(m-=60,y+=1):m<0&&(m+=60,y-=1),y>=24?y=y-24:y<0&&(y=24+y);var E="",z=!1;this.options.use24HourTimeFormat||(z=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),E=z?"".concat(this.getPeriod(y)," "):" ".concat(this.getPeriod(y)),y>12&&(y-=12),y===0&&(y=12));var D="";return d&&(D=":".concat(("00"+d).substring(d.length))),"".concat(z?E:"").concat(("00"+y.toString()).substring(y.toString().length),":").concat(("00"+m.toString()).substring(m.toString().length)).concat(D).concat(z?"":E)},a.prototype.transformVerbosity=function(n,p){return p||(n=n.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),n=n.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),n=n.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),n=n.replace(/\, ?$/,"")),n},a.prototype.getPeriod=function(n){return n>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},a.locales={},a}();h.ExpressionDescriptor=k},336:(s,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.enLocaleLoader=void 0;var l=f(751),T=function(){function k(){}return k.prototype.load=function(a){a.en=new l.en},k}();h.enLocaleLoader=T},751:(s,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.en=void 0;var f=function(){function l(){}return l.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},l.prototype.atX0MinutesPastTheHourGt20=function(){return null},l.prototype.commaMonthX0ThroughMonthX1=function(){return null},l.prototype.commaYearX0ThroughYearX1=function(){return null},l.prototype.use24HourTimeFormatByDefault=function(){return!1},l.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occured when generating the expression description.  Check the cron expression syntax."},l.prototype.everyMinute=function(){return"every minute"},l.prototype.everyHour=function(){return"every hour"},l.prototype.atSpace=function(){return"At "},l.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},l.prototype.at=function(){return"At"},l.prototype.spaceAnd=function(){return" and"},l.prototype.everySecond=function(){return"every second"},l.prototype.everyX0Seconds=function(){return"every %s seconds"},l.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},l.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},l.prototype.everyX0Minutes=function(){return"every %s minutes"},l.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},l.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},l.prototype.everyX0Hours=function(){return"every %s hours"},l.prototype.betweenX0AndX1=function(){return"between %s and %s"},l.prototype.atX0=function(){return"at %s"},l.prototype.commaEveryDay=function(){return", every day"},l.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},l.prototype.commaX0ThroughX1=function(){return", %s through %s"},l.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},l.prototype.first=function(){return"first"},l.prototype.second=function(){return"second"},l.prototype.third=function(){return"third"},l.prototype.fourth=function(){return"fourth"},l.prototype.fifth=function(){return"fifth"},l.prototype.commaOnThe=function(){return", on the "},l.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},l.prototype.lastDay=function(){return"the last day"},l.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},l.prototype.commaOnlyOnX0=function(){return", only on %s"},l.prototype.commaAndOnX0=function(){return", and on %s"},l.prototype.commaEveryX0Months=function(){return", every %s months"},l.prototype.commaOnlyInX0=function(){return", only in %s"},l.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},l.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},l.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},l.prototype.firstWeekday=function(){return"first weekday"},l.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},l.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},l.prototype.commaEveryX0Days=function(){return", every %s days"},l.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},l.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},l.prototype.commaEveryHour=function(){return", every hour"},l.prototype.commaEveryX0Years=function(){return", every %s years"},l.prototype.commaStartingX0=function(){return", starting %s"},l.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},l}();h.en=f},586:(s,h)=>{Object.defineProperty(h,"__esModule",{value:!0});function f(T,k){if(!T)throw new Error(k)}var l=function(){function T(){}return T.secondRange=function(k){for(var a=k.split(","),n=0;n<a.length;n++)if(!isNaN(parseInt(a[n],10))){var p=parseInt(a[n],10);f(p>=0&&p<=59,"seconds part must be >= 0 and <= 59")}},T.minuteRange=function(k){for(var a=k.split(","),n=0;n<a.length;n++)if(!isNaN(parseInt(a[n],10))){var p=parseInt(a[n],10);f(p>=0&&p<=59,"minutes part must be >= 0 and <= 59")}},T.hourRange=function(k){for(var a=k.split(","),n=0;n<a.length;n++)if(!isNaN(parseInt(a[n],10))){var p=parseInt(a[n],10);f(p>=0&&p<=23,"hours part must be >= 0 and <= 23")}},T.dayOfMonthRange=function(k){for(var a=k.split(","),n=0;n<a.length;n++)if(!isNaN(parseInt(a[n],10))){var p=parseInt(a[n],10);f(p>=1&&p<=31,"DOM part must be >= 1 and <= 31")}},T.monthRange=function(k,a){for(var n=k.split(","),p=0;p<n.length;p++)if(!isNaN(parseInt(n[p],10))){var d=parseInt(n[p],10);f(d>=1&&d<=12,a?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},T.dayOfWeekRange=function(k,a){for(var n=k.split(","),p=0;p<n.length;p++)if(!isNaN(parseInt(n[p],10))){var d=parseInt(n[p],10);f(d>=0&&d<=6,a?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},T}();h.default=l},910:(s,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StringUtilities=void 0;var f=function(){function l(){}return l.format=function(T){for(var k=[],a=1;a<arguments.length;a++)k[a-1]=arguments[a];return T.replace(/%s/g,function(n){return k.shift()})},l.containsAny=function(T,k){return k.some(function(a){return T.indexOf(a)>-1})},l}();h.StringUtilities=f}},o={};function g(s){var h=o[s];if(h!==void 0)return h.exports;var f=o[s]={exports:{}};return i[s](f,f.exports,g),f.exports}var b={};return(()=>{var s=b;Object.defineProperty(s,"__esModule",{value:!0}),s.toString=void 0;var h=g(728),f=g(336);h.ExpressionDescriptor.initialize(new f.enLocaleLoader),s.default=h.ExpressionDescriptor;var l=h.ExpressionDescriptor.toString;s.toString=l})(),b})())})(ce);var ut=ce.exports;const se=he(ut);function re(){return{commands:H({1:{id:1,command:"rconfig:download-device",label:"Devices",description:"Get configs for one or many devices",categoryLabel:"Config Downloads",iconClass:"fa fa-th"},2:{id:2,command:"rconfig:download-category",label:"Categories",description:"Get configs for one or many categories",categoryLabel:"Config Downloads",iconClass:"fa fa-object-group"},3:{id:3,command:"rconfig:download-tag",label:"Tags",description:"Get configs for one or many tags",categoryLabel:"Config Downloads",iconClass:"fa fa-tag"}})}}const mt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ie},setup(r){const{results:e,isLoading:i}=ae("device/all-device-names");function o(g){r.model.device=g}return{updateOptions:o,devices:e,isLoading:i}}},_t={class:"pf-c-wizard__main-body"},vt={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},ht={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"download_report_notify-switch-reverse-1"},gt={class:"pf-c-switch pf-m-reverse",for:"verbose_download_report_notify-switch-reverse-2"};function yt(r,e,i,o,g,b){const s=x("loading-spinner"),h=x("multi-select");return c(),v("div",_t,[A(s,{showSpinner:o.isLoading},null,8,["showSpinner"]),o.isLoading?w("",!0):(c(),v("div",vt,[A(h,{options:o.devices,modelOptions:i.model.device,msLabel:"device_name",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:e[0]||(e[0]=f=>o.updateOptions(f)),fieldType:"devices"},{"multi-select-label":U(()=>e[3]||(e[3]=[L("Choose devices")])),"multi-select-subtext":U(()=>e[4]||(e[4]=[L("Select one or more devices for this task.")])),_:1},8,["options","modelOptions"]),t("label",ht,[X(t("input",{class:"pf-c-switch__input",type:"checkbox",id:"download_report_notify-switch-reverse-1","aria-labelledby":"download_report_notify-switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":e[1]||(e[1]=f=>i.model.download_report_notify=f)},null,512),[[q,i.model.download_report_notify]]),e[5]||(e[5]=t("span",{class:"pf-c-switch__toggle"},null,-1)),e[6]||(e[6]=t("span",{class:"pf-c-switch__label pf-m-on",id:"download_report_notify-switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1)),e[7]||(e[7]=t("span",{class:"pf-c-switch__label pf-m-off",id:"download_report_notify-switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1))]),e[11]||(e[11]=t("br",null,null,-1)),e[12]||(e[12]=t("br",null,null,-1)),t("label",gt,[X(t("input",{class:"pf-c-switch__input",type:"checkbox",id:"verbose_download_report_notify-switch-reverse-2","aria-labelledby":"verbose_download_report_notify-switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":e[2]||(e[2]=f=>i.model.verbose_download_report_notify=f)},null,512),[[q,i.model.verbose_download_report_notify]]),e[8]||(e[8]=t("span",{class:"pf-c-switch__toggle"},null,-1)),e[9]||(e[9]=t("span",{class:"pf-c-switch__label pf-m-on",id:"verbose_download_report_notify-switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1)),e[10]||(e[10]=t("span",{class:"pf-c-switch__label pf-m-off",id:"verbose_download_report_notify-switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1))])]))])}const pe=j(mt,[["render",yt]]),wt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ie},setup(r){const{results:e,isLoading:i}=ae("categories");function o(g){r.model.category=g}return{updateOptions:o,categories:e,isLoading:i}}},bt={class:"pf-c-wizard__main-body"},kt={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},xt={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},Tt={class:"pf-c-switch pf-m-reverse",for:"switch-reverse-2"};function Ot(r,e,i,o,g,b){const s=x("loading-spinner"),h=x("multi-select");return c(),v("div",bt,[A(s,{showSpinner:o.isLoading},null,8,["showSpinner"]),o.isLoading?w("",!0):(c(),v("div",kt,[A(h,{options:o.categories,modelOptions:i.model.category,msLabel:"categoryName",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:e[0]||(e[0]=f=>o.updateOptions(f)),fieldType:"categories"},{"multi-select-label":U(()=>e[3]||(e[3]=[L("Choose categories")])),"multi-select-subtext":U(()=>e[4]||(e[4]=[L("Select one or more categories for this task.")])),_:1},8,["options","modelOptions"]),t("label",xt,[X(t("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":e[1]||(e[1]=f=>i.model.download_report_notify=f)},null,512),[[q,i.model.download_report_notify]]),e[5]||(e[5]=t("span",{class:"pf-c-switch__toggle"},null,-1)),e[6]||(e[6]=t("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1)),e[7]||(e[7]=t("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1))]),e[11]||(e[11]=t("br",null,null,-1)),e[12]||(e[12]=t("br",null,null,-1)),t("label",Tt,[X(t("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-2","aria-labelledby":"switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":e[2]||(e[2]=f=>i.model.verbose_download_report_notify=f)},null,512),[[q,i.model.verbose_download_report_notify]]),e[8]||(e[8]=t("span",{class:"pf-c-switch__toggle"},null,-1)),e[9]||(e[9]=t("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1)),e[10]||(e[10]=t("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1))])]))])}const fe=j(wt,[["render",Ot]]),zt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ie},setup(r){const{results:e,isLoading:i}=ae("tags");function o(g){r.model.tag=g,r.model.task_tags=g}return{updateOptions:o,tags:e,isLoading:i}}},St={class:"pf-c-wizard__main-body"},Ct={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},Dt={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},Mt={class:"pf-c-switch pf-m-reverse",for:"switch-reverse-2"};function Et(r,e,i,o,g,b){const s=x("loading-spinner"),h=x("multi-select");return c(),v("div",St,[A(s,{showSpinner:o.isLoading},null,8,["showSpinner"]),o.isLoading?w("",!0):(c(),v("div",Ct,[A(h,{options:o.tags,modelOptions:i.model.tag,msLabel:"tagname",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:e[0]||(e[0]=f=>o.updateOptions(f)),fieldType:"tags"},{"multi-select-label":U(()=>e[3]||(e[3]=[L("Choose tags")])),"multi-select-subtext":U(()=>e[4]||(e[4]=[L("Select one or more tags for this task.")])),_:1},8,["options","modelOptions"]),t("label",Dt,[X(t("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":e[1]||(e[1]=f=>i.model.download_report_notify=f)},null,512),[[q,i.model.download_report_notify]]),e[5]||(e[5]=t("span",{class:"pf-c-switch__toggle"},null,-1)),e[6]||(e[6]=t("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1)),e[7]||(e[7]=t("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1))]),e[11]||(e[11]=t("br",null,null,-1)),e[12]||(e[12]=t("br",null,null,-1)),t("label",Mt,[X(t("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-2","aria-labelledby":"switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":e[2]||(e[2]=f=>i.model.verbose_download_report_notify=f)},null,512),[[q,i.model.verbose_download_report_notify]]),e[8]||(e[8]=t("span",{class:"pf-c-switch__toggle"},null,-1)),e[9]||(e[9]=t("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1)),e[10]||(e[10]=t("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1))])]))])}const ue=j(zt,[["render",Et]]),Pt={props:{cronProp:{type:Array}},components:{},setup(r){const e=H({minute:"",hour:"",day:"",month:"",weekday:""}),i=H({minute:r.cronProp[0]?r.cronProp[0]:"*",hour:r.cronProp[1]?r.cronProp[1]:"*",day:r.cronProp[2]?r.cronProp[2]:"*",month:r.cronProp[3]?r.cronProp[3]:"*",weekday:r.cronProp[4]?r.cronProp[4]:"*"});function o(){i.minute?(r.cronProp[0]=i.minute,e.minute=""):e.minute="Minute is required"}function g(){i.hour?(r.cronProp[1]=i.hour,e.hour=""):e.hour="Hour is required"}function b(){i.day?(r.cronProp[2]=i.day,e.day=""):e.day="Day is required"}function s(){i.month?(r.cronProp[3]=i.month,e.month=""):e.month="Month is required"}function h(){i.weekday?(r.cronProp[4]=i.weekday,e.weekday=""):e.weekday="Weekday is required"}return B(()=>{i.minute=r.cronProp[0],i.hour=r.cronProp[1],i.day=r.cronProp[2],i.month=r.cronProp[3],i.weekday=r.cronProp[4],e.minute="",e.hour="",e.day="",e.month="",e.weekday=""}),{cronReturnArray:i,errors:e,onChangeMin:o,onChangeHour:g,onChangeDay:b,onChangeMonth:s,onChangeWeekday:h}}},Xt={key:0,class:"pf-m-error"},jt={class:"pf-c-form__helper-text pf-m-error pf-u-ml-lg"},At={class:"pf-c-form__group pf-u-pt-md"},Rt={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Lt={class:"pf-l-grid__item pf-m-3-col"},Ut={class:"pf-l-grid__item pf-m-9-col"},Ft={class:"pf-c-form__group pf-u-pt-md"},It={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Wt={class:"pf-l-grid__item pf-m-3-col"},Ht={class:"pf-l-grid__item pf-m-9-col"},Vt={class:"pf-c-form__group pf-u-pt-md"},Nt={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Gt={class:"pf-l-grid__item pf-m-3-col"},qt={class:"pf-l-grid__item pf-m-9-col"},Bt={class:"pf-c-form__group pf-u-pt-md"},Yt={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Jt={class:"pf-l-grid__item pf-m-3-col"},$t={class:"pf-l-grid__item pf-m-9-col"},Zt={class:"pf-c-form__group pf-u-pt-md"},Kt={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Qt={class:"pf-l-grid__item pf-m-3-col"},eo={class:"pf-l-grid__item pf-m-9-col"};function to(r,e,i,o,g,b){return c(),v("div",null,[o.errors.minute||o.errors.hour||o.errors.day||o.errors.month||o.errors.weekday?(c(),v("div",Xt,[e[20]||(e[20]=t("p",{class:"pf-c-form__helper-text pf-m-error",id:"form-help-text-info-helper","aria-live":"polite"},[t("span",{class:"pf-c-form__helper-text-icon"},[t("i",{class:"fas fa-exclamation-circle","aria-hidden":"true"})]),L(" Error Notice: ")],-1)),(c(!0),v(V,null,J(o.errors,s=>(c(),v("p",jt,M(s),1))),256))])):w("",!0),t("div",At,[e[22]||(e[22]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Minute"),t("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),t("div",Rt,[t("div",Lt,[X(t("input",{type:"text",name:"minute",id:"minute","onUpdate:modelValue":e[0]||(e[0]=s=>o.cronReturnArray.minute=s),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:e[1]||(e[1]=(...s)=>o.onChangeMin&&o.onChangeMin(...s))},null,544),[[G,o.cronReturnArray.minute]])]),t("div",Ut,[X(t("select",{id:"minuteSelect",class:"pf-c-form-control","onUpdate:modelValue":e[2]||(e[2]=s=>o.cronReturnArray.minute=s),onChange:e[3]||(e[3]=(...s)=>o.onChangeMin&&o.onChangeMin(...s))},e[21]||(e[21]=[W('<option value="--" disabled>-- Select an option --</option><option value="*">Every minute (*)</option><option value="*/2">Every other minute (*/2)</option><option value="*/5">Every 5 minutes (*/5)</option><option value="*/10">Every 10 minutes (*/10)</option><option value="*/15">Every 15 minutes (*/15)</option><option value="0,30">Every 30 minutes (0,30)</option><option value="--" disabled>-- Minutes --</option><option value="0">:00 top of the hour (0)</option><option value="1">:01 (1)</option><option value="2">:02 (2)</option><option value="3">:03 (3)</option><option value="4">:04 (4)</option><option value="5">:05 (5)</option><option value="6">:06 (6)</option><option value="7">:07 (7)</option><option value="8">:08 (8)</option><option value="9">:09 (9)</option><option value="10">:10 (10)</option><option value="11">:11 (11)</option><option value="12">:12 (12)</option><option value="13">:13 (13)</option><option value="14">:14 (14)</option><option value="15">:15 quarter past (15)</option><option value="16">:16 (16)</option><option value="17">:17 (17)</option><option value="18">:18 (18)</option><option value="19">:19 (19)</option><option value="20">:20 (20)</option><option value="21">:21 (21)</option><option value="22">:22 (22)</option><option value="23">:23 (23)</option><option value="24">:24 (24)</option><option value="25">:25 (25)</option><option value="26">:26 (26)</option><option value="27">:27 (27)</option><option value="28">:28 (28)</option><option value="29">:29 (29)</option><option value="30">:30 half past (30)</option><option value="31">:31 (31)</option><option value="32">:32 (32)</option><option value="33">:33 (33)</option><option value="34">:34 (34)</option><option value="35">:35 (35)</option><option value="36">:36 (36)</option><option value="37">:37 (37)</option><option value="38">:38 (38)</option><option value="39">:39 (39)</option><option value="40">:40 (40)</option><option value="41">:41 (41)</option><option value="42">:42 (42)</option><option value="43">:43 (43)</option><option value="44">:44 (44)</option><option value="45">:45 quarter til (45)</option><option value="46">:46 (46)</option><option value="47">:47 (47)</option><option value="48">:48 (48)</option><option value="49">:49 (49)</option><option value="50">:50 (50)</option><option value="51">:51 (51)</option><option value="52">:52 (52)</option><option value="53">:53 (53)</option><option value="54">:54 (54)</option><option value="55">:55 (55)</option><option value="56">:56 (56)</option><option value="57">:57 (57)</option><option value="58">:58 (58)</option><option value="59">:59 (59)</option>',68)]),544),[[ee,o.cronReturnArray.minute]])])])]),t("div",Ft,[e[24]||(e[24]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Hour"),t("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),t("div",It,[t("div",Wt,[X(t("input",{type:"text",name:"hour",id:"hour","onUpdate:modelValue":e[4]||(e[4]=s=>o.cronReturnArray.hour=s),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:e[5]||(e[5]=(...s)=>o.onChangeHour&&o.onChangeHour(...s))},null,544),[[G,o.cronReturnArray.hour]])]),t("div",Ht,[X(t("select",{id:"hourSelect",class:"pf-c-form-control","onUpdate:modelValue":e[6]||(e[6]=s=>o.cronReturnArray.hour=s),onChange:e[7]||(e[7]=(...s)=>o.onChangeHour&&o.onChangeHour(...s))},e[23]||(e[23]=[W('<option value="--" disabled>-- Select an option --</option><option value="*">Every hour (*)</option><option value="*/2">Every other hour (*/2)</option><option value="*/3">Every 3 hours (*/3)</option><option value="*/4">Every 4 hours (*/4)</option><option value="*/6">Every 6 hours (*/6)</option><option value="0,12">Every 12 hours (0,12)</option><option value="--" disabled>-- Hours --</option><option value="0">12:00 a.m. midnight (0)</option><option value="1">1:00 a.m. (1)</option><option value="2">2:00 a.m. (2)</option><option value="3">3:00 a.m. (3)</option><option value="4">4:00 a.m. (4)</option><option value="5">5:00 a.m. (5)</option><option value="6">6:00 a.m. (6)</option><option value="7">7:00 a.m. (7)</option><option value="8">8:00 a.m. (8)</option><option value="9">9:00 a.m. (9)</option><option value="10">10:00 a.m. (10)</option><option value="11">11:00 a.m. (11)</option><option value="12">12:00 p.m. noon (12)</option><option value="13">1:00 p.m. (13)</option><option value="14">2:00 p.m. (14)</option><option value="15">3:00 p.m. (15)</option><option value="16">4:00 p.m. (16)</option><option value="17">5:00 p.m. (17)</option><option value="18">6:00 p.m. (18)</option><option value="19">7:00 p.m. (19)</option><option value="20">8:00 p.m. (20)</option><option value="21">9:00 p.m. (21)</option><option value="22">10:00 p.m. (22)</option><option value="23">11:00 p.m. (23)</option>',32)]),544),[[ee,o.cronReturnArray.hour]])])])]),t("div",Vt,[e[26]||(e[26]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Day"),t("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),t("div",Nt,[t("div",Gt,[X(t("input",{type:"text",name:"day",id:"day","onUpdate:modelValue":e[8]||(e[8]=s=>o.cronReturnArray.day=s),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:e[9]||(e[9]=(...s)=>o.onChangeDay&&o.onChangeDay(...s))},null,544),[[G,o.cronReturnArray.day]])]),t("div",qt,[X(t("select",{id:"daySelect",class:"pf-c-form-control","onUpdate:modelValue":e[10]||(e[10]=s=>o.cronReturnArray.day=s),onChange:e[11]||(e[11]=(...s)=>o.onChangeDay&&o.onChangeDay(...s))},e[25]||(e[25]=[W('<option value="--" disabled>-- Select an option --</option><option value="*">Every day (*)</option><option value="*/2">Every other day (*/2)</option><option value="1,15">1st and 15th (1,15)</option><option value="--" disabled>-- Days --</option><option value="1">1st (1)</option><option value="2">2nd (2)</option><option value="3">3rd (3)</option><option value="4">4th (4)</option><option value="5">5th (5)</option><option value="6">6th (6)</option><option value="7">7th (7)</option><option value="8">8th (8)</option><option value="9">9th (9)</option><option value="10">10th (10)</option><option value="11">11th (11)</option><option value="12">12th (12)</option><option value="13">13th (13)</option><option value="14">14th (14)</option><option value="15">15th (15)</option><option value="16">16th (16)</option><option value="17">17th (17)</option><option value="18">18th (18)</option><option value="19">19th (19)</option><option value="20">20th (20)</option><option value="21">21st (21)</option><option value="22">22nd (22)</option><option value="23">23rd (23)</option><option value="24">24th (24)</option><option value="25">25th (25)</option><option value="26">26th (26)</option><option value="27">27th (27)</option><option value="28">28th (28)</option><option value="29">29th (29)</option><option value="30">30th (30)</option><option value="31">31st (31)</option>',36)]),544),[[ee,o.cronReturnArray.day]])])])]),t("div",Bt,[e[28]||(e[28]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Month"),t("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),t("div",Yt,[t("div",Jt,[X(t("input",{type:"text",name:"month",id:"month","onUpdate:modelValue":e[12]||(e[12]=s=>o.cronReturnArray.month=s),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:e[13]||(e[13]=(...s)=>o.onChangeMonth&&o.onChangeMonth(...s))},null,544),[[G,o.cronReturnArray.month]])]),t("div",$t,[X(t("select",{id:"monthSelect",class:"pf-c-form-control","onUpdate:modelValue":e[14]||(e[14]=s=>o.cronReturnArray.month=s),onChange:e[15]||(e[15]=(...s)=>o.onChangeMonth&&o.onChangeMonth(...s))},e[27]||(e[27]=[W('<option value="--" disabled>-- Select an option --</option><option value="*">Every month (*)</option><option value="*/2">Every other month (*/2)</option><option value="*/4">Every 3 months (*/4)</option><option value="1,7">Every 6 months (1,7)</option><option value="--" disabled>-- Months --</option><option value="1">January (1)</option><option value="2">February (2)</option><option value="3">March (3)</option><option value="4">April (4)</option><option value="5">May (5)</option><option value="6">June (6)</option><option value="7">July (7)</option><option value="8">August (8)</option><option value="9">September (9)</option><option value="10">October (10)</option><option value="11">November (11)</option><option value="12">December (12)</option>',18)]),544),[[ee,o.cronReturnArray.month]])])])]),t("div",Zt,[e[30]||(e[30]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Weekday"),t("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),t("div",Kt,[t("div",Qt,[X(t("input",{type:"text",name:"weekday",id:"weekday","onUpdate:modelValue":e[16]||(e[16]=s=>o.cronReturnArray.weekday=s),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onChange:e[17]||(e[17]=(...s)=>o.onChangeWeekday&&o.onChangeWeekday(...s))},null,544),[[G,o.cronReturnArray.weekday]])]),t("div",eo,[X(t("select",{id:"weekdaySelect",class:"pf-c-form-control","onUpdate:modelValue":e[18]||(e[18]=s=>o.cronReturnArray.weekday=s),onChange:e[19]||(e[19]=(...s)=>o.onChangeWeekday&&o.onChangeWeekday(...s))},e[29]||(e[29]=[W('<option value="--" disabled>-- Select an option --</option><option value="*">Every weekday (*)</option><option value="1-5">Mon thru Fri (1-5)</option><option value="0,6">Sat and Sun (6,0)</option><option value="1,3,5">Mon, Wed, Fri (1,3,5)</option><option value="2,4">Tues, Thurs (2,4)</option><option value="2,5">Tues, Fri (2,5)</option><option value="--" disabled>-- Weekdays --</option><option value="0">Sunday (0)</option><option value="1">Monday (1)</option><option value="2">Tuesday (2)</option><option value="3">Wednesday (3)</option><option value="4">Thursday (4)</option><option value="5">Friday (5)</option><option value="6">Saturday (6)</option>',15)]),544),[[ee,o.cronReturnArray.weekday]])])])])])}const me=j(Pt,[["render",to]]),oo={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:K,TaskCronForm:me,TaskWizardStep31:pe,TaskWizardStep32:fe,TaskWizardStep33:ue},setup(r,{emit:e}){const{commands:i}=re(),o=C(""),g=H({command:""}),b=C(!1),s=C(!1),h=C(!1),f=C(!1),l=C(r.viewstate.editid===0?"add":"edit"),{errors:T,model:k,clearModel:a,updateModel:n,getModel:p,storeModel:d,isLoading:u}=de(r.viewstate.modelName,r.viewstate.modelObject),_=C(""),y=C([]),m=C(Math.random());Y(()=>{p(r.viewstate.editid)});const E=async()=>{r.viewstate.editid!=0?await n(k):await d(k),T.value===""&&(e("formsubmitted",r.viewstate.pagenamesingle+" "+l.value+"ed!"),D())};function z(R){var P=R.target.value,N=P.split(" ");k.task_cron=N}function D(){e("closeDrawer")}ge(()=>k.task_command,()=>{O(i,k.task_command),Object.assign(g,i[o.value])});function O(R,P){Object.entries(R).forEach(N=>{P.startsWith(N[1].command)&&(o.value=N[0])})}return B(()=>{k.task_cron&&(_.value=se.toString(k.task_cron.join(" ")))}),{selectedCmdObj:g,showFieldGroup1:b,showFieldGroup2:s,showFieldGroup3:h,showRoleOptions:f,close:D,errors:T,model:k,saveModels:E,clearModel:a,isLoading:u,selectExample:z,cronToHuman:_,cronFormKey:m,cron:y}}},no={key:0,novalidate:"",class:"pf-c-form"},io={class:"pf-c-form__group"},ao={class:"pf-c-form__group-control pf-u-color-300"},so={class:"pf-c-form__field-group-toggle"},ro={class:"pf-c-form__field-group-toggle-button"},lo={key:0,class:"pf-c-form__field-group-body"},co={class:"pf-c-form__group"},po={class:"pf-c-form__group-control"},fo={class:"pf-c-form__group",style:{"padding-top":"0px","padding-bottom":"30px"}},uo={class:"pf-c-form__group-control"},mo={class:"pf-c-form__field-group-toggle"},_o={class:"pf-c-form__field-group-toggle-button"},vo={key:0,class:"pf-c-form__field-group-body"},ho={class:"pf-c-form__field-group-toggle"},go={class:"pf-c-form__field-group-toggle-button"},yo={key:0,class:"pf-c-form__field-group-body"},wo={class:"pf-c-form__group"},bo={novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-xl",style:{"max-width":"75%"}},ko={class:"pf-c-form__group"},xo={class:"pf-c-form__group-control"},To={class:"pf-u-pt-xl"},Oo={key:0,class:"pf-c-label pf-m-blue"},zo={class:"pf-c-label__content"},So={class:"pf-c-form__group"},Co={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},Do={class:"pf-c-form__group pf-m-action"},Mo={class:"pf-c-form__group-control"},Eo={class:"pf-c-form__actions"};function Po(r,e,i,o,g,b){const s=x("loading-spinner"),h=x("task-wizard-step-31"),f=x("task-wizard-step-32"),l=x("task-wizard-step-33"),T=x("task-wizard-step-34"),k=x("task-wizard-step-35"),a=x("task-wizard-step-36"),n=x("task-wizard-step-37"),p=x("task-wizard-step-38"),d=x("task-wizard-step-39"),u=x("task-wizard-step-310"),_=x("task-wizard-step-311"),y=x("task-cron-form");return c(),v(V,null,[A(s,{showSpinner:o.isLoading},null,8,["showSpinner"]),o.isLoading?w("",!0):(c(),v("form",no,[t("div",io,[e[14]||(e[14]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Task Type"),t("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),t("div",ao,M(o.selectedCmdObj.categoryLabel)+" - "+M(o.selectedCmdObj.label),1)]),t("div",{class:I(["pf-c-form__field-group",{"pf-m-expanded":o.showFieldGroup1}]),role:"group"},[t("div",so,[t("div",ro,[t("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:e[0]||(e[0]=m=>o.showFieldGroup1=!o.showFieldGroup1)},e[15]||(e[15]=[t("span",{class:"pf-c-form__field-group-toggle-icon"},[t("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1)]))])]),t("div",{class:"pf-c-form__field-group-header",onClick:e[1]||(e[1]=m=>o.showFieldGroup1=!o.showFieldGroup1),style:{cursor:"pointer"}},e[16]||(e[16]=[t("div",{class:"pf-c-form__field-group-header-main"},[t("div",{class:"pf-c-form__field-group-header-title"},[t("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Info")])],-1)])),o.showFieldGroup1?(c(),v("div",lo,[t("div",co,[e[17]||(e[17]=W('<div class="pf-c-form__group-label"><label class="pf-c-form__label" for="task_name"><span class="pf-c-form__label-text">Task Name</span><span class="pf-c-form__label-required" aria-hidden="true">*</span></label><button class="pf-c-form__group-label-help" aria-label="More info" tabindex="-1"><i class="pficon pf-icon-help" aria-hidden="true"></i></button></div>',1)),t("div",po,[X(t("input",{class:"pf-c-form-control",type:"text",id:"task_name",name:"task_name","onUpdate:modelValue":e[2]||(e[2]=m=>o.model.task_name=m),autocomplete:"off"},null,512),[[G,o.model.task_name]])])]),t("div",fo,[e[18]||(e[18]=W('<div class="pf-c-form__group-label"><label class="pf-c-form__label" for="task_desc"><span class="pf-c-form__label-text pf-u-color-300">Task Description</span><span class="pf-c-form__label-required" aria-hidden="true">*</span></label><button class="pf-c-form__group-label-help" aria-label="More info" tabindex="-1"><i class="pficon pf-icon-help" aria-hidden="true"></i></button></div>',1)),t("div",uo,[X(t("input",{class:"pf-c-form-control",type:"text",id:"task_desc",desc:"task_desc","onUpdate:modelValue":e[3]||(e[3]=m=>o.model.task_desc=m),autocomplete:"off"},null,512),[[G,o.model.task_desc]])])])])):w("",!0)],2),t("div",{class:I(["pf-c-form__field-group",{"pf-m-expanded":o.showFieldGroup2}]),role:"group"},[t("div",mo,[t("div",_o,[t("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:e[4]||(e[4]=m=>o.showFieldGroup2=!o.showFieldGroup2)},e[19]||(e[19]=[t("span",{class:"pf-c-form__field-group-toggle-icon"},[t("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1)]))])]),t("div",{class:"pf-c-form__field-group-header",onClick:e[5]||(e[5]=m=>o.showFieldGroup2=!o.showFieldGroup2),style:{cursor:"pointer"}},e[20]||(e[20]=[t("div",{class:"pf-c-form__field-group-header-main"},[t("div",{class:"pf-c-form__field-group-header-title"},[t("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Details")])],-1)])),o.showFieldGroup2?(c(),v("div",vo,[o.selectedCmdObj.id===1?(c(),S(h,{key:0,model:o.model},null,8,["model"])):w("",!0),o.selectedCmdObj.id===2?(c(),S(f,{key:1,model:o.model},null,8,["model"])):w("",!0),o.selectedCmdObj.id===3?(c(),S(l,{key:2,model:o.model},null,8,["model"])):w("",!0),o.selectedCmdObj.id===4?(c(),S(T,{key:3,model:o.model},null,8,["model"])):w("",!0),o.selectedCmdObj.id===5?(c(),S(k,{key:4,model:o.model},null,8,["model"])):w("",!0),o.selectedCmdObj.id===6?(c(),S(a,{key:5,model:o.model},null,8,["model"])):w("",!0),o.selectedCmdObj.id===7?(c(),S(n,{key:6,model:o.model},null,8,["model"])):w("",!0),o.selectedCmdObj.id===8?(c(),S(p,{key:7,model:o.model,onGoToPageFour:e[6]||(e[6]=m=>r.wizardData.currentPage=4)},null,8,["model"])):w("",!0),o.selectedCmdObj.id===9?(c(),S(d,{key:8,model:o.model,onGoToPageFour:e[7]||(e[7]=m=>r.wizardData.currentPage=4)},null,8,["model"])):w("",!0),o.selectedCmdObj.id===10?(c(),S(u,{key:9,model:o.model},null,8,["model"])):w("",!0),o.selectedCmdObj.id===11?(c(),S(_,{key:10,model:o.model},null,8,["model"])):w("",!0)])):w("",!0)],2),t("div",{class:I(["pf-c-form__field-group",{"pf-m-expanded":o.showFieldGroup3}]),role:"group"},[t("div",ho,[t("div",go,[t("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:e[8]||(e[8]=m=>o.showFieldGroup3=!o.showFieldGroup3)},e[21]||(e[21]=[t("span",{class:"pf-c-form__field-group-toggle-icon"},[t("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1)]))])]),t("div",{class:"pf-c-form__field-group-header",onClick:e[9]||(e[9]=m=>o.showFieldGroup3=!o.showFieldGroup3),style:{cursor:"pointer"}},e[22]||(e[22]=[t("div",{class:"pf-c-form__field-group-header-main"},[t("div",{class:"pf-c-form__field-group-header-title"},[t("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Schedule")])],-1)])),o.showFieldGroup3?(c(),v("div",yo,[t("div",wo,[t("form",bo,[t("div",ko,[e[24]||(e[24]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Cron Examples")])],-1)),t("div",xo,[t("select",{id:"exampleOptions",class:"pf-c-form-control",onChange:e[10]||(e[10]=m=>o.selectExample(m))},e[23]||(e[23]=[W('<option value="--">-- Select an option --</option><option value="* * * * *">Every minute (* * * * *)</option><option value="*/5 * * * *">Every 5 minutes (*/5 * * * *)</option><option value="0,30 * * * *">Twice an hour (0,30 * * * *)</option><option value="0 * * * *">Once an hour (0 * * * *)</option><option value="0 0,12 * * *">Twice a day (0 0,12 * * *)</option><option value="0 0 * * *">Once a day (0 0 * * *)</option><option value="0 0 * * 0">Once a week (0 0 * * 0)</option><option value="0 0 1,15 * *">1st and 15th (0 0 1,15 * *)</option><option value="0 0 1 * *">Once a month (0 0 1 * *)</option><option value="0 0 1 1 *">Once a year (0 0 1 1 *)</option>',11)]),32)])]),o.model.task_cron?(c(),S(y,{key:0,cronProp:o.model.task_cron},null,8,["cronProp"])):w("",!0)]),t("div",To,[o.cronToHuman!=""?(c(),v("span",Oo,[t("span",zo,[e[25]||(e[25]=t("span",{class:"pf-c-label__icon"},[t("i",{class:"fas fa-fw fa-info-circle","aria-hidden":"true"})],-1)),e[26]||(e[26]=t("b",null,"Task Schedule is set:",-1)),L(" "+M(o.cronToHuman),1)])])):w("",!0)])]),t("div",So,[t("label",Co,[X(t("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":e[11]||(e[11]=m=>o.model.task_email_notify=m),autocomplete:"off"},null,512),[[q,o.model.task_email_notify]]),e[27]||(e[27]=t("span",{class:"pf-c-switch__toggle"},null,-1)),e[28]||(e[28]=t("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send task email notification on",-1)),e[29]||(e[29]=t("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send task email notification off",-1))])])])):w("",!0)],2),t("div",Do,[t("div",Mo,[t("div",Eo,[t("button",{class:"pf-c-button pf-m-primary",type:"submit",onClick:e[12]||(e[12]=F((...m)=>o.saveModels&&o.saveModels(...m),["prevent"]))},"Save"),t("button",{class:"pf-c-button pf-m-link",type:"button",onClick:e[13]||(e[13]=(...m)=>o.close&&o.close(...m))},"Cancel")])])])]))],64)}const Xo=j(oo,[["render",Po]]),jo={props:{wizardData:{type:Object,required:!0}},setup(r,{emit:e}){const{commands:i}=re();function o(b,s){return Object.fromEntries(Object.entries(i).slice(b,s))}function g(b){e("selectTask",b)}return{sliceItems:o,selectTask:g,commands:i}}},Ao={class:"pf-c-wizard__main-body"},Ro={class:"pf-l-flex pf-m-column"},Lo={class:"pf-l-flex"},Uo=["onClick"],Fo={class:"pf-c-tile__header"},Io={class:"pf-c-tile__icon"},Wo={class:"pf-c-tile__title"},Ho={class:"pf-c-tile__body pf-m-hidden-on-xl"};function Vo(r,e,i,o,g,b){return c(),v("div",Ao,[e[0]||(e[0]=t("h4",null,[t("strong",{class:"pf-u-color-300"},"Step 1 - Task Type")],-1)),e[1]||(e[1]=t("h5",{class:"pf-u-color-300 pf-u-pt-sm"},"Config Downloads",-1)),t("div",Ro,[t("div",Lo,[(c(!0),v(V,null,J(o.sliceItems(0,4),s=>(c(),v("div",{class:"pf-l-flex__item pf-u-pt-sm",key:s.id},[t("div",{class:I(["pf-c-tile",{"pf-m-selected":i.wizardData.selectedTask.id===s.id}]),tabindex:"1",onClick:h=>o.selectTask(s),style:{"min-width":"160px","max-width":"220px",height:"100px"}},[t("div",Fo,[t("div",Io,[t("i",{class:I(s.iconClass),"aria-hidden":"true"},null,2)]),t("div",Wo,M(s.label),1)]),t("div",Ho,M(s.description),1)],10,Uo)]))),128))])])])}const No=j(jo,[["render",Vo]]),Go={props:{wizardData:{type:Object,required:!0},model:{type:Object}},components:{},setup(r,{emit:e}){function i(){e("goToPageOne")}return{goToPageOne:i}}},qo={class:"pf-c-wizard__main-body"},Bo={class:"pf-c-empty-state"},Yo={class:"pf-c-empty-state__content"};function Jo(r,e,i,o,g,b){return c(),v("div",qo,[t("div",Bo,[t("div",Yo,[e[1]||(e[1]=t("i",{class:"fas fa-cubes pf-c-empty-state__icon","aria-hidden":"true"},null,-1)),e[2]||(e[2]=t("h1",{class:"pf-c-title pf-m-lg"},"Task not selected",-1)),e[3]||(e[3]=t("div",{class:"pf-c-empty-state__body"},"Please go back to step 1 and select your task type.",-1)),t("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:e[0]||(e[0]=F((...s)=>o.goToPageOne&&o.goToPageOne(...s),["prevent"]))},"Go to step 1")])])])}const ne=j(Go,[["render",Jo]]),$o={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne},setup(r){return{}}},Zo={class:"pf-c-wizard__main-body"},Ko={key:1,novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-lg pf-u-w-100 pf-u-w-75-on-xl"},Qo={class:"pf-c-form__group"},en={class:"pf-c-form__group-control"},tn={class:"pf-c-form__group"},on={class:"pf-c-form__group-control"};function nn(r,e,i,o,g,b){const s=x("task-wizard-task-not-selected");return c(),v("div",Zo,[e[5]||(e[5]=t("h4",null,[t("strong",{class:"pf-u-color-300"},"Step 2 - Task Information")],-1)),i.wizardData.selectedTask.id===0?(c(),S(s,{key:0,onGoToPageOne:e[0]||(e[0]=h=>i.wizardData.currentPage=1)})):(c(),v("form",Ko,[t("div",Qo,[e[3]||(e[3]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Task Name"),t("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),t("div",en,[X(t("input",{class:"pf-c-form-control",required:"",type:"text",id:"task_name",name:"task_name","onUpdate:modelValue":e[1]||(e[1]=h=>i.model.task_name=h),autocomplete:"off"},null,512),[[G,i.model.task_name]])])]),t("div",tn,[e[4]||(e[4]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Description"),t("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1)),t("div",on,[X(t("input",{class:"pf-c-form-control",required:"",type:"text",id:"task_desc",name:"task_desc","onUpdate:modelValue":e[2]||(e[2]=h=>i.model.task_desc=h),autocomplete:"off"},null,512),[[G,i.model.task_desc]])])])]))])}const an=j($o,[["render",nn]]),sn={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne,TaskWizardStep31:pe,TaskWizardStep32:fe,TaskWizardStep33:ue},setup(r){return{}}},rn={class:"pf-c-wizard__main-body"};function ln(r,e,i,o,g,b){const s=x("task-wizard-task-not-selected"),h=x("task-wizard-step-31"),f=x("task-wizard-step-32"),l=x("task-wizard-step-33"),T=x("task-wizard-step-35"),k=x("task-wizard-step-36"),a=x("task-wizard-step-37"),n=x("task-wizard-step-38"),p=x("task-wizard-step-39"),d=x("task-wizard-step-310"),u=x("task-wizard-step-311");return c(),v("div",rn,[e[3]||(e[3]=t("h4",null,[t("strong",{class:"pf-u-color-300"},"Step 3 - Task Configuration")],-1)),i.wizardData.selectedTask.id===0?(c(),S(s,{key:0,onGoToPageOne:e[0]||(e[0]=_=>i.wizardData.currentPage=1)})):w("",!0),i.wizardData.selectedTask.id===1?(c(),S(h,{key:1,model:i.model},null,8,["model"])):w("",!0),i.wizardData.selectedTask.id===2?(c(),S(f,{key:2,model:i.model},null,8,["model"])):w("",!0),i.wizardData.selectedTask.id===3?(c(),S(l,{key:3,model:i.model},null,8,["model"])):w("",!0),i.wizardData.selectedTask.id===5?(c(),S(T,{key:4,model:i.model},null,8,["model"])):w("",!0),i.wizardData.selectedTask.id===6?(c(),S(k,{key:5,model:i.model},null,8,["model"])):w("",!0),i.wizardData.selectedTask.id===7?(c(),S(a,{key:6,model:i.model},null,8,["model"])):w("",!0),i.wizardData.selectedTask.id===8?(c(),S(n,{key:7,model:i.model,onGoToPageFour:e[1]||(e[1]=_=>i.wizardData.currentPage=4)},null,8,["model"])):w("",!0),i.wizardData.selectedTask.id===9?(c(),S(p,{key:8,model:i.model,onGoToPageFour:e[2]||(e[2]=_=>i.wizardData.currentPage=4)},null,8,["model"])):w("",!0),i.wizardData.selectedTask.id===10?(c(),S(d,{key:9,model:i.model},null,8,["model"])):w("",!0),i.wizardData.selectedTask.id===11?(c(),S(u,{key:10,model:i.model},null,8,["model"])):w("",!0)])}const dn=j(sn,[["render",ln]]),cn={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskCronForm:me,TaskWizardTaskNotSelected:ne},setup(r){const e=C([]),i=C("");function o(g){var b=g.target.value,s=b.split(" ");r.model.task_cron=s}return Y(()=>{r.model.task_cron!=""&&(e.value=r.model.task_cron)}),B(()=>{r.model.task_cron&&(i.value=se.toString(r.model.task_cron.join(" ")))}),{cronExampleArray:e,selectExample:o,cronToHuman:i}}},pn={class:"pf-c-wizard__main-body"},fn={key:1},un={novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-xl",style:{"max-width":"75%"}},mn={class:"pf-c-form__group"},_n={class:"pf-c-form__group-control"},vn={class:"pf-u-pt-xl"},hn={key:0,class:"pf-c-label pf-m-blue"},gn={class:"pf-c-label__content"},yn={key:0,class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"task_email_notifyswitch-reverse-1"};function wn(r,e,i,o,g,b){const s=x("task-wizard-task-not-selected"),h=x("task-cron-form");return c(),v("div",pn,[e[10]||(e[10]=t("h4",null,[t("strong",{class:"pf-u-color-300"},"Step 4 - Task Schedule")],-1)),i.wizardData.selectedTask.id===0?(c(),S(s,{key:0,onGoToPageOne:e[0]||(e[0]=f=>i.wizardData.currentPage=1)})):(c(),v("div",fn,[t("form",un,[t("div",mn,[e[4]||(e[4]=t("div",{class:"pf-c-form__group-label"},[t("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[t("span",{class:"pf-c-form__label-text"},"Cron Examples")])],-1)),t("div",_n,[t("select",{id:"exampleOptions",class:"pf-c-form-control",onChange:e[1]||(e[1]=f=>o.selectExample(f))},e[3]||(e[3]=[W('<option value="--">-- Select an option --</option><option value="* * * * *">Every minute (* * * * *)</option><option value="*/5 * * * *">Every 5 minutes (*/5 * * * *)</option><option value="0,30 * * * *">Twice an hour (0,30 * * * *)</option><option value="0 * * * *">Once an hour (0 * * * *)</option><option value="0 0,12 * * *">Twice a day (0 0,12 * * *)</option><option value="0 0 * * *">Once a day (0 0 * * *)</option><option value="0 0 * * 0">Once a week (0 0 * * 0)</option><option value="0 0 1,15 * *">1st and 15th (0 0 1,15 * *)</option><option value="0 0 1 * *">Once a month (0 0 1 * *)</option><option value="0 0 1 1 *">Once a year (0 0 1 1 *)</option>',11)]),32)])]),A(h,{cronProp:i.model.task_cron},null,8,["cronProp"])]),t("div",vn,[o.cronToHuman!=""?(c(),v("span",hn,[t("span",gn,[e[5]||(e[5]=t("span",{class:"pf-c-label__icon"},[t("i",{class:"fas fa-fw fa-info-circle","aria-hidden":"true"})],-1)),e[6]||(e[6]=t("b",null,"Task Schedule is set:",-1)),L(" "+M(o.cronToHuman),1)])])):w("",!0)]),i.wizardData.selectedTask.id!=0?(c(),v("label",yn,[X(t("input",{class:"pf-c-switch__input",type:"checkbox",id:"task_email_notifyswitch-reverse-1","aria-labelledby":"task_email_notifyswitch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":e[2]||(e[2]=f=>i.model.task_email_notify=f)},null,512),[[q,i.model.task_email_notify]]),e[7]||(e[7]=t("span",{class:"pf-c-switch__toggle"},null,-1)),e[8]||(e[8]=t("span",{class:"pf-c-switch__label pf-m-on",id:"task_email_notifyswitch-reverse-1-on","aria-hidden":"true"},"Send task email notification on",-1)),e[9]||(e[9]=t("span",{class:"pf-c-switch__label pf-m-off",id:"task_email_notifyswitch-reverse-1-off","aria-hidden":"true"},"Send task email notification off",-1))])):w("",!0)]))])}const bn=j(cn,[["render",wn]]),kn={props:{model:{type:Object,default:()=>({})}},setup(r){function e(i){const o={...r.model.device};delete o[i],r.model.device=Object.values(o)}return{remove:e}}},xn={class:"pf-c-chip-group pf-m-category"},Tn={class:"pf-c-chip-group__main"},On={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-devices-label"},zn={class:"pf-c-chip"},Sn=["id"],Cn=["id","onClick"];function Dn(r,e,i,o,g,b){return c(),v("div",xn,[t("div",Tn,[e[1]||(e[1]=t("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-devices-label"},"Devices",-1)),t("ul",On,[(c(!0),v(V,null,J(i.model.device,(s,h)=>(c(),v("li",{class:"pf-c-chip-group__list-item",key:s.id},[t("div",zn,[t("span",{class:"pf-c-chip__text",id:s.id},M(s.device_name),9,Sn),t("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-devicesremove_chip_one_toolbar_collapsed chip-group-with-deviceschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+s.id,onClick:f=>o.remove(h)},e[0]||(e[0]=[t("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)]),8,Cn)])]))),128))])])])}const Mn=j(kn,[["render",Dn]]),En={props:{model:{type:Object,default:()=>({})}},setup(r){function e(i){const o={...r.model.category};delete o[i],r.model.category=Object.values(o)}return{remove:e}}},Pn={class:"pf-c-chip-group pf-m-category"},Xn={class:"pf-c-chip-group__main"},jn={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-categories-label"},An={class:"pf-c-chip"},Rn=["id"],Ln=["id","onClick"];function Un(r,e,i,o,g,b){return c(),v("div",Pn,[t("div",Xn,[e[1]||(e[1]=t("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-categories-label"},"Categories",-1)),t("ul",jn,[(c(!0),v(V,null,J(i.model.category,(s,h)=>(c(),v("li",{class:"pf-c-chip-group__list-item",key:s.id},[t("div",An,[t("span",{class:"pf-c-chip__text",id:s.id},M(s.categoryName),9,Rn),t("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-categoriesremove_chip_one_toolbar_collapsed chip-group-with-categorieschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+s.id,onClick:f=>o.remove(h)},e[0]||(e[0]=[t("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)]),8,Ln)])]))),128))])])])}const Fn=j(En,[["render",Un]]),In={props:{model:{type:Object,default:()=>({})}},setup(r){function e(i){const o={...r.model.tag};delete o[i],r.model.tag=Object.values(o)}return{remove:e}}},Wn={class:"pf-c-chip-group pf-m-category"},Hn={class:"pf-c-chip-group__main"},Vn={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-tags-label"},Nn={class:"pf-c-chip"},Gn=["id"],qn=["id","onClick"];function Bn(r,e,i,o,g,b){return c(),v("div",Wn,[t("div",Hn,[e[1]||(e[1]=t("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-tags-label"},"Tags",-1)),t("ul",Vn,[(c(!0),v(V,null,J(i.model.tag,(s,h)=>(c(),v("li",{class:"pf-c-chip-group__list-item",key:s.id},[t("div",Nn,[t("span",{class:"pf-c-chip__text",id:s.id},M(s.tagname),9,Gn),t("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-tagsremove_chip_one_toolbar_collapsed chip-group-with-tagschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+s.id,onClick:f=>o.remove(h)},e[0]||(e[0]=[t("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)]),8,qn)])]))),128))])])])}const Yn=j(In,[["render",Bn]]),Jn={props:{model:{type:Object}},components:{TaskFinalResultOutputChipGroupDevices:Mn,TaskFinalResultOutputChipGroupCategories:Fn,TaskFinalResultOutputChipGroupTags:Yn},setup(r){const{commands:e}=re(),i=C(""),o=C(""),g=H({command:""});function b(h,f){Object.entries(h).forEach(l=>{l[1].command===f&&(i.value=l[0])})}function s(h){const f={...r.model.category};delete f[h],r.model.category=Object.values(f)}return b(e,r.model.task_command),Object.assign(g,e[i.value]),o.value=se.toString(r.model.task_cron.join(" ")),{selectedCmdObj:g,cronToHuman:o,removeCategory:s}}},$n={class:"pf-c-description-list pf-m-horizontal pf-u-pt-md"},Zn={class:"pf-c-description-list__group"},Kn={class:"pf-c-description-list__description"},Qn={class:"pf-c-description-list__text"},ei={class:"pf-c-description-list__group"},ti={class:"pf-c-description-list__description"},oi={class:"pf-c-description-list__text"},ni={class:"pf-c-description-list__group"},ii={class:"pf-c-description-list__description"},ai={class:"pf-c-description-list__text"},si={key:0,class:"pf-c-description-list__group"},ri={class:"pf-c-description-list__description"},li={class:"pf-c-description-list__text"},di={class:"pf-c-description-list__group"},ci={class:"pf-c-description-list__description"},pi={class:"pf-c-description-list__text"},fi={key:0,class:"pf-c-label pf-m-blue"},ui={class:"pf-c-label__content"},mi={class:"pf-c-description-list__group"},_i={class:"pf-c-description-list__description"},vi={class:"pf-c-description-list__text"},hi={key:0,class:"pf-c-helper-text"},gi={key:1,class:"pf-c-helper-text"},yi={key:2},wi={key:0,class:"pf-c-helper-text"},bi={key:1,class:"pf-c-helper-text"},ki={key:2,class:"pf-c-helper-text"},xi={key:3,class:"pf-c-helper-text"};function Ti(r,e,i,o,g,b){const s=x("task-final-result-output-chip-group-devices"),h=x("task-final-result-output-chip-group-categories"),f=x("task-final-result-output-chip-group-tags");return c(),v("dl",$n,[t("div",Zn,[e[0]||(e[0]=t("dt",{class:"pf-c-description-list__term"},[t("span",{class:"pf-c-description-list__text"},"Task Type")],-1)),t("dd",Kn,[t("div",Qn,M(o.selectedCmdObj.categoryLabel)+" - "+M(o.selectedCmdObj.label),1)])]),t("div",ei,[e[1]||(e[1]=t("dt",{class:"pf-c-description-list__term"},[t("span",{class:"pf-c-description-list__text"},"Task Name")],-1)),t("dd",ti,[t("div",oi,M(i.model.task_name),1)])]),t("div",ni,[e[2]||(e[2]=t("dt",{class:"pf-c-description-list__term"},[t("span",{class:"pf-c-description-list__text"},"Task Description")],-1)),t("dd",ii,[t("div",ai,M(i.model.task_desc),1)])]),i.model.device||i.model.category||i.model.tag?(c(),v("div",si,[e[3]||(e[3]=t("dt",{class:"pf-c-description-list__term"},[t("span",{class:"pf-c-description-list__text"},"Task Configuration")],-1)),t("dd",ri,[t("div",li,[i.model.device?(c(),S(s,{key:0,model:i.model},null,8,["model"])):w("",!0),i.model.category?(c(),S(h,{key:1,model:i.model},null,8,["model"])):w("",!0),i.model.tag?(c(),S(f,{key:2,model:i.model},null,8,["model"])):w("",!0)])])])):w("",!0),t("div",di,[e[4]||(e[4]=t("dt",{class:"pf-c-description-list__term"},[t("span",{class:"pf-c-description-list__text"},"Task Schedule")],-1)),t("dd",ci,[t("div",pi,[o.cronToHuman!=""?(c(),v("span",fi,[t("span",ui,M(o.cronToHuman),1)])):w("",!0)])])]),t("div",mi,[e[11]||(e[11]=t("dt",{class:"pf-c-description-list__term"},[t("span",{class:"pf-c-description-list__text"},"Task Reporting")],-1)),t("dd",_i,[t("div",vi,[t("div",null,[i.model.task_email_notify?(c(),v("div",hi,e[5]||(e[5]=[t("div",{class:"pf-c-helper-text__item pf-m-success"},[t("span",{class:"pf-c-helper-text__item-icon"},[t("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),t("span",{class:"pf-c-helper-text__item-text"},"Task notification email will be sent after each run")],-1)]))):w("",!0),i.model.task_email_notify?w("",!0):(c(),v("div",gi,e[6]||(e[6]=[t("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[t("span",{class:"pf-c-helper-text__item-icon"},[t("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),t("span",{class:"pf-c-helper-text__item-text"},"Task notification email will not be sent after each run")],-1)]))),i.model.device||i.model.category||i.model.tag?(c(),v("div",yi,[i.model.download_report_notify?(c(),v("div",wi,e[7]||(e[7]=[t("div",{class:"pf-c-helper-text__item pf-m-success"},[t("span",{class:"pf-c-helper-text__item-icon"},[t("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),t("span",{class:"pf-c-helper-text__item-text"},"A device download failure report will be sent after task completes.")],-1)]))):w("",!0),i.model.download_report_notify?w("",!0):(c(),v("div",bi,e[8]||(e[8]=[t("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[t("span",{class:"pf-c-helper-text__item-icon"},[t("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),t("span",{class:"pf-c-helper-text__item-text"},"A device download failure report will not be sent after task completes.")],-1)]))),i.model.verbose_download_report_notify?(c(),v("div",ki,e[9]||(e[9]=[t("div",{class:"pf-c-helper-text__item pf-m-success"},[t("span",{class:"pf-c-helper-text__item-icon"},[t("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),t("span",{class:"pf-c-helper-text__item-text"},"A verbose device download failure report will be sent after task completes.")],-1)]))):w("",!0),i.model.verbose_download_report_notify?w("",!0):(c(),v("div",xi,e[10]||(e[10]=[t("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[t("span",{class:"pf-c-helper-text__item-icon"},[t("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),t("span",{class:"pf-c-helper-text__item-text"},"A verbose device download failure report will not be sent after task completes.")],-1)])))])):w("",!0)])])])])])}const Oi=j(Jn,[["render",Ti]]),zi={props:{status:{type:String,required:!0}},setup(r,{emit:e}){const i=C(0),o=C(null),g=C({checking:"checking",success:"success",error:"error"}),b=C("checking");Y(()=>{o.value=setInterval(s,10)});function s(){i.value>=100?(clearInterval(o.value),i.value=0):i.value++}return B(()=>{r.status===g.value.checking&&i.value<100?b.value="checking":r.status===g.value.success&&i.value===100?b.value="success":r.status===g.value.error&&i.value===100&&(b.value="error")}),B(()=>{b.value!="checking"&&e("verificationDone")}),{progressCount:i,progressStatus:b}}},Si={class:"pf-u-pt-lg"},Ci={key:0,class:"pf-c-progress",style:{"max-width":"75%"}},Di={class:"pf-c-progress__status","aria-hidden":"true"},Mi={class:"pf-c-progress__measure"},Ei={class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"10","aria-valuenow":"4","aria-valuetext":"Verifying Task Data"},Pi={key:1,class:"pf-c-progress pf-m-inside pf-m-success",style:{"max-width":"75%"}},Xi={key:2,class:"pf-c-progress pf-m-danger",style:{"max-width":"75%"}};function ji(r,e,i,o,g,b){return c(),v("div",Si,[o.progressStatus==="checking"?(c(),v("div",Ci,[e[0]||(e[0]=t("div",{class:"pf-c-progress__description"},"Task Verification",-1)),t("div",Di,[t("span",Mi,M(o.progressCount+"%"),1)]),t("div",Ei,[t("div",{class:"pf-c-progress__indicator",style:ye("width: "+o.progressCount+"%")},null,4)])])):w("",!0),o.progressStatus==="success"?(c(),v("div",Pi,e[1]||(e[1]=[t("div",{class:"pf-c-progress__description"},"Task Verification Success",-1),t("div",{class:"pf-c-progress__status","aria-hidden":"true"},[t("span",{class:"pf-c-progress__status-icon"},[t("i",{class:"fas fa-fw fa-check-circle","aria-hidden":"true"})])],-1),t("div",{class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100"},[t("div",{class:"pf-c-progress__indicator",style:{width:"100%"}},[t("span",{class:"pf-c-progress__measure"},"100%")])],-1)]))):w("",!0),o.progressStatus==="error"?(c(),v("div",Xi,e[2]||(e[2]=[W('<div class="pf-c-progress__description">Task Verification Failed</div><div class="pf-c-progress__status" aria-hidden="true"><span class="pf-c-progress__measure">100%</span><span class="pf-c-progress__status-icon"><i class="fas fa-fw fa-times-circle" aria-hidden="true"></i></span></div>',2),t("div",{class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100"},[t("div",{class:"pf-c-progress__indicator",style:"width: 100%"})],-1)]))):w("",!0)])}const Ai=j(zi,[["render",ji]]),Ri={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne,TaskFinalResultOutput:Oi,TaskVerifyProgress:Ai},setup(r){const e=C(!1),i=oe("create-notification"),o=C(null),g=C("checking"),b=C(!1),s=C(!1),{toClipboard:h}=Se();Y(()=>{f()});const f=async T=>{o.value="";try{await axios.post("/api/tasks/validate-task",r.model),g.value="success"}catch(k){k.response.status===422?(g.value="error",o.value=k.response.data.errors):(o.status=k.response.status,o.message=k.response.data.message,i({type:"danger",title:"Error",message:k.response.data.message}))}};return{copy:async()=>{try{await h(r.model),e.value=!0,setTimeout(()=>{e.value=!1},3e3),i({type:"success",title:"Copy Success",message:"Output copied to clipboard"})}catch(T){i({type:"danger",title:"Error",message:T})}},errors:o,progressCheckStatus:g,showRawOutput:b,verificationDone:s}}},Li={class:"pf-c-wizard__main-body"},Ui={key:1,class:"pf-u-pt-sm"},Fi={key:0,class:"pf-u-pt-md"},Ii={key:1,class:"pf-u-pt-md"},Wi={class:"pf-u-pt-sm"},Hi={key:0,class:"pf-c-code-block",style:{"max-width":"75%"}},Vi={class:"pf-c-code-block__header"},Ni={class:"pf-c-code-block__actions"},Gi={class:"pf-c-code-block__actions-item"},qi={class:"pf-c-code-block__content"},Bi={class:"pf-c-code-block__pre"},Yi={class:"pf-c-code-block__code"};function Ji(r,e,i,o,g,b){const s=x("task-wizard-task-not-selected"),h=x("task-verify-progress"),f=x("task-final-result-output");return c(),v("div",Li,[e[7]||(e[7]=t("h4",null,[t("strong",{class:"pf-u-color-300"},"Step 5 - Review")],-1)),i.wizardData.selectedTask.id===0?(c(),S(s,{key:0,onGoToPageOne:e[0]||(e[0]=l=>i.wizardData.currentPage=1)})):(c(),v("div",Ui,[A(h,{status:o.progressCheckStatus,onVerificationDone:e[1]||(e[1]=l=>o.verificationDone=!0)},null,8,["status"]),o.verificationDone&&o.errors?(c(),v("div",Fi,[(c(!0),v(V,null,J(o.errors,l=>(c(),v("p",{class:"pf-c-form__helper-text pf-m-error",key:l},[e[4]||(e[4]=t("span",{class:"pf-c-form__helper-text-icon"},[t("i",{class:"fas fa-exclamation-circle","aria-hidden":"true"})],-1)),L(" "+M(l[0]),1)]))),128))])):w("",!0),o.verificationDone&&o.errors?(c(),v("div",Ii,[t("button",{class:"pf-c-button pf-m-link",type:"button",onClick:e[2]||(e[2]=l=>o.showRawOutput=!o.showRawOutput)},"View Raw Output")])):w("",!0),t("div",Wi,[o.showRawOutput?(c(),v("div",Hi,[t("div",Vi,[e[6]||(e[6]=L(" Raw Output ")),t("div",Ni,[t("div",Gi,[t("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Copy to clipboard",onClick:e[3]||(e[3]=l=>o.copy())},e[5]||(e[5]=[t("i",{class:"fas fa-copy","aria-hidden":"true"},null,-1)]))])])]),t("div",qi,[t("pre",Bi,[t("code",Yi,M(i.model),1)])])])):w("",!0)]),o.verificationDone&&!o.errors?(c(),S(f,{key:2,model:i.model},null,8,["model"])):w("",!0)]))])}const $i=j(Ri,[["render",Ji]]),Zi={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:K,TaskWizardStep1:No,TaskWizardStep2:an,TaskWizardStep3:dn,TaskWizardStep4:bn,TaskWizardStep5:$i},setup(r,{emit:e}){const i=H({currentPage:1,selectedTask:{id:0,command:"",label:"",description:"",categoryLabel:""}}),o=H({id:0,command:"",label:"",description:"",categoryLabel:""});C(1),C(r.viewstate.editid===0?"add":"edit");const{errors:g,model:b,clearModel:s,updateModel:h,getModel:f,storeModel:l,isLoading:T}=de(r.viewstate.modelName,r.viewstate.modelObject);Y(()=>{f(r.viewstate.editid)});function k(_){Object.assign(b,r.viewstate.modelObject),Object.assign(i.selectedTask,_),b.task_command=_.command,g.value=""}const a=async()=>{await l(b),g.value===""&&(e("formsubmitted",r.viewstate.pagenamesingle+" added!"),Object.assign(i.selectedTask,o),Object.assign(b,r.viewstate.modelObject),u())};B(()=>{Array.isArray(b.device)&&b.device.length>0&&(g.value="")}),B(()=>{b.task_cron!=""&&(g.value="")});function n(){g.value="",i.currentPage>1&&i.currentPage--}function p(){if(i.currentPage===1&&b.task_command===""){g.value="Please select a task";return}if(i.currentPage===2&&b.task_name===""){g.value="Please enter a task name";return}if(i.currentPage===2&&b.task_desc===""){g.value="Please enter a task description";return}if(i.currentPage===3&&b.task_command==="rconfig:download-device"&&b.device.length===0){g.value="Please choose one or more devices";return}if(i.currentPage===3&&b.task_command==="rconfig:download-category"&&b.category.length===0){g.value="Please choose one or more categories";return}if(i.currentPage===3&&b.task_command==="rconfig:download-tag"&&b.tag.length===0){g.value="Please choose one or more tags";return}if(i.currentPage===4&&b.task_cron===""){g.value="Please enter schedule values";return}g.value="",i.currentPage===5||i.currentPage++}function d(_){i.currentPage=_}function u(){e("closeDrawer")}return{wizard:i,setSelectedTask:k,prevPage:n,nextPage:p,setPage:d,close:u,errors:g,model:b,saveTask:a,clearModel:s,isLoading:T}}},Ki={key:0,novalidate:"",class:"pf-c-form"},Qi={class:"pf-c-wizard",style:{height:"78vh"}},ea={class:"pf-c-wizard__header"},ta={class:"pf-c-wizard__description",id:"wiz-modal-demo-description"},oa={key:0},na={key:1},ia={key:2},aa={class:"pf-u-default-color-100"},sa={class:"pf-c-wizard__toggle","aria-label":"Wizard Toggle","aria-expanded":"false"},ra={class:"pf-c-wizard__toggle-icon"},la={fill:"currentColor",height:"1em",width:"1em",viewBox:"0 0 320 512","aria-hidden":"true",role:"img",style:{"vertical-align":"-0.125em"}},da={class:"pf-c-wizard__outer-wrap"},ca={class:"pf-c-wizard__inner-wrap"},pa={class:"pf-c-wizard__nav","aria-label":"Basic wizard steps"},fa={class:"pf-c-wizard__nav-list"},ua={class:"pf-c-wizard__nav-item"},ma={class:"pf-c-wizard__nav-item"},_a={class:"pf-c-wizard__nav-item"},va={class:"pf-c-wizard__nav-item"},ha={class:"pf-c-wizard__nav-item"},ga={key:0,class:"pf-c-alert pf-m-danger pf-m-inline taskWizardAlert","aria-label":"Inline danger alert"},ya={class:"pf-c-alert__title"},wa={key:1,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},ba={key:2,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},ka={key:3,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},xa={key:4,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Ta={key:5,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Oa={class:"pf-c-wizard__footer"},za=["disabled"],Sa={class:"pf-c-wizard__footer-cancel"};function Ca(r,e,i,o,g,b){const s=x("loading-spinner"),h=x("task-wizard-step-1"),f=x("task-wizard-step-2"),l=x("task-wizard-step-3"),T=x("task-wizard-step-4"),k=x("task-wizard-step-5");return c(),v(V,null,[A(s,{showSpinner:o.isLoading},null,8,["showSpinner"]),o.isLoading?w("",!0):(c(),v("form",Ki,[t("div",Qi,[t("div",ea,[t("button",{class:"pf-c-button pf-m-plain pf-c-wizard__close",type:"button",onClick:e[0]||(e[0]=(...a)=>o.close&&o.close(...a)),style:{"font-weight":"300","font-size":"medium"}},e[11]||(e[11]=[t("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)])),e[13]||(e[13]=t("h2",{"data-ouia-component-type":"PF4/Title","data-ouia-safe":"true","data-ouia-component-id":"OUIA-Generated-Title-4","aria-label":"Simple wizard in modal",id:"wiz-modal-demo-title",class:"pf-c-title pf-m-3xl pf-c-wizard__title"}," Scheduled Task Wizard ",-1)),t("p",ta,[o.wizard.selectedTask.id===0?(c(),v("span",oa,"Create a new scheduled task")):(c(),v("span",na,"Selected Task")),o.wizard.selectedTask.id>0?(c(),v("span",ia,[e[12]||(e[12]=L(": ")),t("span",aa,M(o.wizard.selectedTask.categoryLabel)+" - "+M(o.wizard.selectedTask.label),1)])):w("",!0)])]),t("button",sa,[e[15]||(e[15]=t("span",{class:"pf-c-wizard__toggle-list"},[t("span",{class:"pf-c-wizard__toggle-list-item"},[t("span",{class:"pf-c-wizard__toggle-num"},"1"),L(" Task Type")])],-1)),t("span",ra,[(c(),v("svg",la,e[14]||(e[14]=[t("path",{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},null,-1)])))])]),t("div",da,[t("div",ca,[t("nav",pa,[t("ol",fa,[t("li",ua,[t("button",{class:I(["pf-c-wizard__nav-link",{"pf-m-current":o.wizard.currentPage===1}]),onClick:e[1]||(e[1]=F(a=>o.setPage(1),["prevent"]))},"Task Type",2)]),t("li",ma,[t("button",{class:I(["pf-c-wizard__nav-link",{"pf-m-current":o.wizard.currentPage===2}]),onClick:e[2]||(e[2]=F(a=>o.setPage(2),["prevent"]))},"Task Information",2)]),t("li",_a,[t("button",{class:I(["pf-c-wizard__nav-link",{"pf-m-current":o.wizard.currentPage===3}]),onClick:e[3]||(e[3]=F(a=>o.setPage(3),["prevent"]))},"Task Configuration",2)]),t("li",va,[t("button",{class:I(["pf-c-wizard__nav-link",{"pf-m-current":o.wizard.currentPage===4}]),onClick:e[4]||(e[4]=F(a=>o.setPage(4),["prevent"]))},"Task Schedule",2)]),t("li",ha,[t("button",{class:I(["pf-c-wizard__nav-link",{"pf-m-current":o.wizard.currentPage===5}]),onClick:e[5]||(e[5]=F(a=>o.setPage(5),["prevent"]))},"Review",2)])])]),o.errors?(c(),v("div",ga,[e[17]||(e[17]=t("div",{class:"pf-c-alert__icon"},[t("i",{class:"fas fa-fw fa-exclamation-circle","aria-hidden":"true"})],-1)),t("p",ya,[e[16]||(e[16]=t("span",{class:"pf-screen-reader"},"Danger alert:",-1)),L(" "+M(o.errors),1)])])):w("",!0),o.wizard.currentPage===1?(c(),v("div",wa,[A(h,{wizardData:o.wizard,onSelectTask:e[6]||(e[6]=a=>o.setSelectedTask(a))},null,8,["wizardData"])])):w("",!0),o.wizard.currentPage===2?(c(),v("div",ba,[A(f,{wizardData:o.wizard,model:o.model},null,8,["wizardData","model"])])):w("",!0),o.wizard.currentPage===3?(c(),v("div",ka,[A(l,{wizardData:o.wizard,model:o.model},null,8,["wizardData","model"])])):w("",!0),o.wizard.currentPage===4?(c(),v("div",xa,[A(T,{wizardData:o.wizard,model:o.model},null,8,["wizardData","model"])])):w("",!0),o.wizard.currentPage===5?(c(),v("div",Ta,[A(k,{wizardData:o.wizard,model:o.model},null,8,["wizardData","model"])])):w("",!0)]),t("footer",Oa,[t("button",{class:I(["pf-c-button pf-m-secondary",{" pf-m-disabled":o.wizard.currentPage===1}]),disabled:o.wizard.currentPage===1,type:"button",onClick:e[7]||(e[7]=F((...a)=>o.prevPage&&o.prevPage(...a),["prevent"]))}," Back ",10,za),o.wizard.currentPage!=5?(c(),v("button",{key:0,class:"pf-c-button pf-m-primary",type:"submit",onClick:e[8]||(e[8]=F((...a)=>o.nextPage&&o.nextPage(...a),["prevent"]))},"Next")):w("",!0),o.wizard.currentPage===5?(c(),v("button",{key:1,class:"pf-c-button pf-m-primary",type:"button",onClick:e[9]||(e[9]=F((...a)=>o.saveTask&&o.saveTask(...a),["prevent"]))},"Save Task")):w("",!0),t("div",Sa,[t("button",{"aria-disabled":"false",class:"pf-c-button pf-m-link",type:"button",onClick:e[10]||(e[10]=(...a)=>o.close&&o.close(...a))},"Cancel")])])])])]))],64)}const Da=j(Zi,[["render",Ca]]),Ma={components:{TasksWizard:Da,PageHeader:Te,DataTable:be,SideDrawer:Oe,DeleteModal:xe,ConfirmationModal:Ue,TaskWizardModal:ft,TasksForm:Xo,ModalTasksRunHistory:st},setup(){const r=H({editid:0,pagename:"Tasks",pagedesc:"rConfig scheduled tasks",pagenamesingle:"Task",modelName:"tasks",openDrawerState:!1,openDrawerStateEdit:!1,drawerOuterWidth:"pf-m-width-100-on-xl pf-m-width-100-on-lg  pf-m-width-100 ",showDeleteModal:!1,showTaskRunHistoryModal:!1,sideDrawerComponentKey:1,sideDrawerComponentKeyEdit:2,pageOptionsState:{page:1,per_page:10},modelObject:{task_name:"",task_desc:"",task_command:"",task_categories:null,task_devices:null,task_tags:null,task_cron:"",task_email_notify:!0,download_report_notify:!0,verbose_download_report_notify:!1,is_system:0,created_at:null,updated_at:null,device:[],category:[],tag:[]},showConfirmModal:!1}),e=C(0),i=oe("create-notification"),o=C(!1),g=C(),{models:b,isLoading:s,dataTablePageChanged:h,closeDrawerState:f,deleteRow:l,formSubmitted:T,confirmDelete:k,destroyModel:a}=ze(r,r.modelName,r.modelObject);Y(()=>{h(r.pageOptionsState),_()});const n=H({headers:[{key:"id",label:"Task ID",sortable:!0},{key:"task_name",label:"Task Name",sortable:!1},{key:"cron_plain",label:"Frequency",sortable:!1},{key:"task_desc",label:"Description",sortable:!1},{key:"taskViewRuns",label:"Run history",sortable:!1,isTasksActionLink:!0,actionLink:{label:"view",action:"viewtaskHistory"}},{key:"finished",label:"Last run",sortable:!1}],data:b,isLoading:s});function p(m){r.editid=m.id,r.isClone=!!m.isClone,m.id===0?r.openDrawerState=!r.openDrawerState:r.openDrawerStateEdit=!r.openDrawerStateEdit}function d(m){r.editid=m,r.showConfirmModal=!0}function u(){axios.post("/api/tasks/run-manual-task",{id:r.editid}).then(m=>{i({type:"success",message:m.data.message,duration:3})}).catch(m=>{i({type:"danger",title:"Error",message:m.response.data.message})})}function _(){axios.get("/api/tasks/recent-failed-jobs-count").then(m=>{m.data.success===!0&&(g.value=m.data.data,g.value>0&&(o.value=!0))}).catch(m=>{i({type:"danger",title:"Error",message:m.response.data.message})})}function y(m){e.value=m,r.showTaskRunHistoryModal=!0}return{viewstate:r,dataTablePageChanged:h,openDrawer:p,closeDrawerState:f,deleteRow:l,confirmDelete:k,table:n,destroyModel:a,formSubmitted:T,showConfirmModal:d,runTaskNow:u,recentFailedJobs:g,showRecentFailedJobs:o,viewtaskHistory:y,historyTaskId:e}}},Ea={class:"pf-c-page__main",tabindex:"-1"},Pa={class:"pf-l-flex pf-m-grow pf-m-column pf-m-row-on-lg pf-m-justify-content-flex-end pf-m-justify-content-flex-start-on-lg pf-m-align-content-flex-end-on-lg",style:{"row-gap":"var(--pf-global--spacer--md)"}},Xa={class:"pf-l-flex__item",style:{"margin-bottom":"-0.25em"}},ja={class:"pf-c-label pf-m-red"},Aa={class:"pf-c-label__content"},Ra={class:"pf-c-page__main-section pf-m-no-padding"},La={class:"pf-c-drawer__main"};function Ua(r,e,i,o,g,b){const s=x("page-header"),h=x("data-table"),f=x("tasks-form"),l=x("side-drawer"),T=x("delete-modal"),k=x("tasks-wizard"),a=x("task-wizard-modal"),n=x("confirmation-modal"),p=x("modal-tasks-run-history");return c(),v(V,null,[t("main",Ea,[A(s,{pagename:o.viewstate.pagename,desc:o.viewstate.pagedesc},we({_:2},[o.showRecentFailedJobs?{name:"header-right-side",fn:U(()=>[t("div",Pa,[t("div",Xa,[t("span",ja,[t("span",Aa,M(o.recentFailedJobs)+" recent failed jobs ",1),e[11]||(e[11]=L("-")),e[12]||(e[12]=t("a",{href:"/horizon/dashboard",target:"_blank"},"view",-1))])])])]),key:"0"}:void 0]),1032,["pagename","desc"]),e[14]||(e[14]=t("div",{class:"pf-c-divider",role:"separator"},null,-1)),t("section",Ra,[t("div",{class:I(["pf-c-drawer",{"pf-m-expanded":o.viewstate.openDrawerState||o.viewstate.openDrawerStateEdit}])},[t("div",La,[A(h,{pagename:o.viewstate.pagenamesingle,tabledata:o.table,taskRunBtnEnabled:!0,onPagechanged:o.dataTablePageChanged,onOpenDrawer:e[0]||(e[0]=d=>o.openDrawer(d)),onDeleteRow:e[1]||(e[1]=d=>o.deleteRow(d)),onShowTaskRunConfirmModal:e[2]||(e[2]=d=>o.showConfirmModal(d)),onActionLink:e[3]||(e[3]=d=>o.viewtaskHistory(d))},null,8,["pagename","tabledata","onPagechanged"]),(c(),S(l,{pagename:o.viewstate.pagenamesingle,drawerState:o.viewstate.openDrawerStateEdit,editid:o.viewstate.editid,outerWidth:o.viewstate.drawerOuterWidth,onCloseDrawer:e[6]||(e[6]=d=>o.viewstate.openDrawerStateEdit=!1),key:o.viewstate.sideDrawerComponentKey},{subtext:U(()=>e[13]||(e[13]=[t("div",{class:"pf-l-flex__item"},"Please complete all fields",-1)])),form:U(()=>[(c(),S(f,{viewstate:o.viewstate,onCloseDrawer:e[4]||(e[4]=d=>o.viewstate.openDrawerStateEdit=!1),onFormsubmitted:e[5]||(e[5]=d=>o.formSubmitted(d)),key:o.viewstate.editid},null,8,["viewstate"]))]),_:1},8,["pagename","drawerState","editid","outerWidth"]))])],2)])]),o.viewstate.showDeleteModal?(c(),S(T,{key:0,editid:o.viewstate.editid,onCloseModal:e[7]||(e[7]=d=>o.viewstate.showDeleteModal=!1),onConfirmDelete:o.confirmDelete},null,8,["editid","onConfirmDelete"])):w("",!0),o.viewstate.openDrawerState?(c(),S(a,{key:1},{wizard:U(()=>[(c(),S(k,{viewstate:o.viewstate,onCloseDrawer:o.closeDrawerState,onFormsubmitted:e[8]||(e[8]=d=>o.formSubmitted(d)),key:o.viewstate.editid},null,8,["viewstate","onCloseDrawer"]))]),_:1})):w("",!0),o.viewstate.showConfirmModal?(c(),S(n,{key:2,onCloseModal:e[9]||(e[9]=d=>o.viewstate.showConfirmModal=!1),onAction1:o.runTaskNow},{title:U(()=>e[15]||(e[15]=[t("p",null,"Run task now?",-1)])),question:U(()=>e[16]||(e[16]=[t("p",null,"Are you sure you want to run this task now?",-1)])),action1:U(()=>e[17]||(e[17]=[t("p",null,"Run",-1)])),action2:U(()=>e[18]||(e[18]=[t("p",null,"Cancel",-1)])),_:1},8,["onAction1"])):w("",!0),o.viewstate.showTaskRunHistoryModal?(c(),S(p,{key:3,onClose:e[10]||(e[10]=d=>o.viewstate.showTaskRunHistoryModal=!1),task_id:o.historyTaskId},null,8,["task_id"])):w("",!0)],64)}const $a=j(Ma,[["render",Ua]]);export{$a as default};
