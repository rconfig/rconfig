var X=l=>{throw TypeError(l)};var ge=(l,t,n)=>t.has(l)||X("Cannot "+n);var U=(l,t,n)=>(ge(l,t,"read from private field"),n?n.call(l):t.get(l)),Y=(l,t,n)=>t.has(l)?X("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(l):t.set(l,n);import{g as D,d0 as _e,c3 as he,j as O,e as h,o as c,w as f,m as F,u as r,c9 as K,X as L,aR as j,c as V,H as I,al as H,am as be,cq as ae,cp as re,c7 as W,aM as se,cc as le,b as p,K as S,d1 as Q,d2 as we,cu as qe,ct as ke,aS as ne,cr as Ce,bq as $e,ac as oe,ae as ie,at as G,c1 as Se,af as Ee,r as N,ah as Re,ai as Ie,a as y,aj as Ve,d as $,t as z,ak as Be,cV as Z,bi as De,ao as Ae,ap as xe,aq as Pe,ar as je,aK as Me}from"./app-CFyiNjA_.js";import{u as ze,a as Oe,R as Fe,b as Ue}from"./AlertInfo.vue_vue_type_style_index_0_scoped_c93aa73f_lang-B22LvoIQ.js";import{_ as Ne}from"./useCopy-B5H-8rtJ.js";import{h as Ge}from"./HoverCardTrigger-jaxfvWbc.js";import{u as de,a as Te,i as Le,j as He,k as Ke}from"./useRowSelection-C7gcDUn6.js";function ee(l){return typeof l=="string"?`'${l}'`:new We().serialize(l)}const We=(function(){var t;class l{constructor(){Y(this,t,new Map)}compare(e,a){const o=typeof e,d=typeof a;return o==="string"&&d==="string"?e.localeCompare(a):o==="number"&&d==="number"?e-a:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(a,!0))}serialize(e,a){if(e===null)return"null";switch(typeof e){case"string":return a?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const a=Object.prototype.toString.call(e);if(a!=="[object Object]")return this.serializeBuiltInType(a.length<10?`unknown:${a}`:a.slice(8,-1),e);const o=e.constructor,d=o===Object||o===void 0?"":o.name;if(d!==""&&globalThis[d]===o)return this.serializeBuiltInType(d,e);if(typeof e.toJSON=="function"){const u=e.toJSON();return d+(u!==null&&typeof u=="object"?this.$object(u):`(${this.serialize(u)})`)}return this.serializeObjectEntries(d,Object.entries(e))}serializeBuiltInType(e,a){const o=this["$"+e];if(o)return o.call(this,a);if(typeof(a==null?void 0:a.entries)=="function")return this.serializeObjectEntries(e,a.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,a){const o=Array.from(a).sort((u,v)=>this.compare(u[0],v[0]));let d=`${e}{`;for(let u=0;u<o.length;u++){const[v,g]=o[u];d+=`${this.serialize(v,!0)}:${this.serialize(g)}`,u<o.length-1&&(d+=",")}return d+"}"}$object(e){let a=U(this,t).get(e);return a===void 0&&(U(this,t).set(e,`#${U(this,t).size}`),a=this.serializeObject(e),U(this,t).set(e,a)),a}$function(e){const a=Function.prototype.toString.call(e);return a.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${a.replace(/\s*\n\s*/g,"")}`}$Array(e){let a="[";for(let o=0;o<e.length;o++)a+=this.serialize(e[o]),o<e.length-1&&(a+=",");return a+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((a,o)=>this.compare(a,o)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}t=new WeakMap;for(const n of["Error","RegExp","URL"])l.prototype["$"+n]=function(e){return`${n}(${e})`};for(const n of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])l.prototype["$"+n]=function(e){return`${n}[${e.join(",")}]`};for(const n of["BigInt64Array","BigUint64Array"])l.prototype["$"+n]=function(e){return`${n}[${e.join("n,")}${e.length>0?"n":""}]`};return l})();function Je(l,t){return l===t||ee(l)===ee(t)}function ue(l){return D(()=>{var t;return _e(l)?!!((t=he(l))!=null&&t.closest("form")):!0})}var Xe=O({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){return(t,n)=>(c(),h(r(K),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:f(()=>[F(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),Ye=Xe,Qe=O({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(l){const t=l,{primitiveElement:n,currentElement:e}=ze(),a=D(()=>t.checked??t.value);return L(a,(o,d)=>{if(!e.value)return;const u=e.value,v=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(v,"value").set;if(m&&o!==d){const i=new Event("input",{bubbles:!0}),_=new Event("change",{bubbles:!0});m.call(u,o),u.dispatchEvent(i),u.dispatchEvent(_)}}),(o,d)=>(c(),h(Ye,j({ref_key:"primitiveElement",ref:n},{...t,...o.$attrs},{as:"input"}),null,16))}}),te=Qe,Ze=O({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(l){const t=l,n=D(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),e=D(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"||t.value===null||t.value===void 0?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((a,o)=>typeof a=="object"?Object.entries(a).map(([d,u])=>({name:`${t.name}[${o}][${d}]`,value:u})):{name:`${t.name}[${o}]`,value:a}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([a,o])=>({name:`${t.name}[${a}]`,value:o})):[]);return(a,o)=>(c(),V(H,null,[I(" We render single input if it's required "),n.value?(c(),h(te,j({key:a.name},{...t,...a.$attrs},{name:a.name,value:a.value}),null,16,["name","value"])):(c(!0),V(H,{key:1},be(e.value,d=>(c(),h(te,j({key:d.name},{ref_for:!0},{...t,...a.$attrs},{name:d.name,value:d.value}),null,16,["name","value"]))),128))],2112))}}),ce=Ze;const et="radio.select";function tt(l,t,n){Ge(et,n,{originalEvent:l,value:t})}var at=O({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(l,{emit:t}){const n=l,e=t,a=ae(n,"checked",e,{passive:n.checked===void 0}),{value:o}=re(n),{forwardRef:d,currentElement:u}=W(),v=ue(u),g=D(()=>{var i;return n.id&&u.value?((i=document.querySelector(`[for="${n.id}"]`))==null?void 0:i.innerText)??n.value:void 0});function m(i){n.disabled||tt(i,n.value,_=>{e("select",_),!(_!=null&&_.defaultPrevented)&&(a.value=!0,v.value&&_.stopPropagation())})}return(i,_)=>(c(),h(r(K),j(i.$attrs,{id:i.id,ref:r(d),role:"radio",type:i.as==="button"?"button":void 0,as:i.as,"aria-checked":r(a),"aria-label":g.value,"as-child":i.asChild,disabled:i.disabled?"":void 0,"data-state":r(a)?"checked":"unchecked","data-disabled":i.disabled?"":void 0,value:r(o),required:i.required,name:i.name,onClick:se(m,["stop"])}),{default:f(()=>[F(i.$slots,"default",{checked:r(a)}),r(v)&&i.name?(c(),h(r(ce),{key:0,type:"radio",tabindex:"-1",value:r(o),checked:!!r(a),name:i.name,disabled:i.disabled,required:i.required},null,8,["value","checked","name","disabled","required"])):I("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),rt=at;const[st,lt]=le("RadioGroupRoot");var nt=O({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(l,{emit:t}){const n=l,e=t,{forwardRef:a,currentElement:o}=W(),d=ae(n,"modelValue",e,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),{disabled:u,loop:v,orientation:g,name:m,required:i,dir:_}=re(n),b=Oe(_),k=ue(o);return lt({modelValue:d,changeModelValue:E=>{d.value=E},disabled:u,loop:v,orientation:g,name:m==null?void 0:m.value,required:i}),(E,q)=>(c(),h(r(Fe),{"as-child":"",orientation:r(g),dir:r(b),loop:r(v)},{default:f(()=>[p(r(K),{ref:r(a),role:"radiogroup","data-disabled":r(u)?"":void 0,"as-child":E.asChild,as:E.as,"aria-orientation":r(g),"aria-required":r(i),dir:r(b)},{default:f(()=>[F(E.$slots,"default",{modelValue:r(d)}),r(k)&&r(m)?(c(),h(r(ce),{key:0,required:r(i),disabled:r(u),value:r(d),name:r(m)},null,8,["required","disabled","value","name"])):I("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),ot=nt;const[it,dt]=le("RadioGroupItem");var ut=O({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(l,{emit:t}){const n=l,e=t,{forwardRef:a,currentElement:o}=W(),d=st(),u=D(()=>d.disabled.value||n.disabled),v=D(()=>d.required.value||n.required),g=D(()=>{var b;return Je((b=d.modelValue)==null?void 0:b.value,n.value)});dt({disabled:u,checked:g});const m=S(!1),i=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];Q("keydown",b=>{i.includes(b.key)&&(m.value=!0)}),Q("keyup",()=>{m.value=!1});function _(){setTimeout(()=>{var b;m.value&&((b=o.value)==null||b.click())},0)}return(b,k)=>(c(),h(r(Ue),{checked:g.value,disabled:u.value,"as-child":"",focusable:!u.value,active:g.value},{default:f(()=>[p(rt,j({...b.$attrs,...n},{ref:r(a),checked:g.value,required:v.value,disabled:u.value,"onUpdate:checked":k[0]||(k[0]=E=>r(d).changeModelValue(b.value)),onSelect:k[1]||(k[1]=E=>e("select",E)),onKeydown:k[2]||(k[2]=we(se(()=>{},["prevent"]),["enter"])),onFocus:_}),{default:f(()=>[F(b.$slots,"default",{checked:g.value,required:v.value,disabled:u.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),ct=ut,pt=O({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const{forwardRef:t}=W(),n=it();return(e,a)=>(c(),h(r(qe),{present:e.forceMount||r(n).checked.value},{default:f(()=>[p(r(K),j({ref:r(t),"data-state":r(n).checked.value?"checked":"unchecked","data-disabled":r(n).disabled.value?"":void 0,"as-child":e.asChild,as:e.as},e.$attrs),{default:f(()=>[F(e.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ft=pt;const mt={__name:"RadioGroup",props:{modelValue:{type:[String,Number,Object,null],required:!1},defaultValue:{type:[String,Number,Object,null],required:!1},disabled:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(l,{emit:t}){const n=l,e=t,a=D(()=>{const{class:d,...u}=n;return u}),o=ke(a,e);return(d,u)=>(c(),h(r(ot),j({class:r(ne)("grid gap-2",n.class)},r(o)),{default:f(()=>[F(d.$slots,"default")]),_:3},16,["class"]))}},vt={__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:[String,Number,Object,null],required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},setup(l){const t=l,n=D(()=>{const{class:a,...o}=t;return o}),e=Ce(n);return(a,o)=>(c(),h(r(ct),j(r(e),{class:r(ne)("peer aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:f(()=>[p(r(ft),{class:"flex items-center justify-center"},{default:f(()=>[p(r($e),{class:"h-3.5 w-3.5 text-primary"})]),_:1})]),_:1},16,["class"]))}},yt={class:"flex items-center rc-panel-heading"},gt={class:"grid gap-4 py-4"},_t={class:"grid items-center grid-cols-4 gap-4"},ht={key:2,class:"col-span-2 col-start-2 -mt-4 text-sm text-red-400"},bt={class:"grid items-center grid-cols-4 gap-4"},wt={class:"grid items-center grid-cols-4 gap-4"},qt={class:"col-span-3"},kt={class:"flex items-center space-x-2 cursor-pointer"},Ct={class:"grid items-center grid-cols-4 gap-4"},$t={key:2,class:"col-span-2 col-start-2 -mt-4 text-sm text-red-400"},St={class:"grid items-center grid-cols-4 gap-4"},Et={key:0,class:"col-span-2 col-start-2 -mt-4 text-sm text-red-400"},Rt={class:"grid items-center grid-cols-4 gap-4"},It={key:0,class:"col-span-2 col-start-2 -mt-4 text-sm text-red-400"},Vt={class:"grid items-center grid-cols-4 gap-4"},Bt={class:"grid items-center grid-cols-4 gap-4"},Dt={key:2,class:"grid items-center grid-cols-4 gap-4"},At={class:"col-span-3"},xt={key:0,class:"ml-2 text-sm text-gray-600"},Pt={key:3,class:"grid items-center grid-cols-4 gap-4"},jt={class:"col-span-3"},Mt={class:"pl-2 ml-auto"},zt={class:"rc-kdb-class2"},Ot={class:"pl-2 ml-auto"},Ft={class:"rc-kdb-class2"},Kt={__name:"CredentialsAddEditDialog",props:{editId:{type:Number,default:0},confirmRotation:{type:Boolean,default:!1}},emits:["save","showConfirmModal"],setup(l,{emit:t}){const{toastSuccess:n}=oe(),e=de(),{openDialog:a,closeDialog:o,isDialogOpen:d}=e,u=t,v=S([]),g=S("usernamePassword"),m=S(!1),i=S({cred_name:"",cred_description:"",cred_username:"",cred_password:"",cred_enable_password:"",ssh_key:"",ssh_key_passphrase:"",rotate_creds:!1,vault_enabled:0,cred_is_default:0}),_=l;function b(q){q.ctrlKey&&q.key==="Enter"&&k()}ie(async()=>{if(_.editId>0){m.value=!0;try{const q=await G.get(`/api/settings/credentials/${_.editId}`);i.value=q.data,q.data.ssh_key?g.value="privateKey":g.value="usernamePassword"}catch(q){console.error("Error loading credential:",q)}finally{m.value=!1}}window.addEventListener("keydown",b)}),Se(()=>{i.value.rotate_creds=_.confirmRotation}),Ee(()=>{window.removeEventListener("keydown",b)});function k(){let q=_.editId>0?`/${_.editId}`:"",s=_.editId>0?"patch":"post";const A={...i.value,selectedMethod:g.value};G[s]("/api/settings/credentials"+q,A).then(C=>{u("save",C.data),n("Credential Created","Credential has been created successfully"),o("DialogNewCred")}).catch(C=>{v.value=C.response.data.errors})}function E(q){q===!0&&u("showConfirmModal",q)}return(q,s)=>{const A=N("RcIcon"),C=N("Label"),x=N("Skeleton"),M=N("Input"),R=N("Button");return c(),h(r(xe),{open:r(d)("DialogNewCred")},{default:f(()=>[p(r(Re),{"as-child":""}),p(r(Ie),{class:"max-w-4xl",onEscapeKeyDown:s[10]||(s[10]=w=>r(o)("DialogNewCred")),onPointerDownOutside:s[11]||(s[11]=w=>r(o)("DialogNewCred")),onCloseClicked:s[12]||(s[12]=w=>r(o)("DialogNewCred"))},{default:f(()=>[p(r(Ne),null,{default:f(()=>[p(r(Ve),null,{default:f(()=>[y("h3",yt,[p(A,{name:"credentials",class:"mr-2"}),$(" "+z(l.editId>0?"Edit Credential":"Add Credential")+" "+z(l.editId>0?"(ID: "+l.editId+")":""),1)])]),_:1}),p(r(Be),null,{default:f(()=>[$(z(l.editId>0?"Edit the credential details below":"Add a new credential by filling in the details below"),1)]),_:1})]),_:1}),y("div",gt,[y("div",_t,[p(C,{for:"cred_name",class:"text-right"},{default:f(()=>[...s[13]||(s[13]=[y("span",{class:"inline-flex items-center gap-1"},[$(" Name "),y("span",{class:"text-red-400"},"*")],-1)])]),_:1}),m.value?(c(),h(x,{key:0,class:"h-8 col-span-3"})):(c(),h(M,{key:1,modelValue:i.value.cred_name,"onUpdate:modelValue":s[0]||(s[0]=w=>i.value.cred_name=w),id:"cred_name",class:"col-span-3",autocomplete:"off",disabled:l.editId>0},null,8,["modelValue","disabled"])),v.value.cred_name?(c(),V("span",ht,z(v.value.cred_name[0]),1)):I("",!0)]),y("div",bt,[p(C,{for:"cred_description",class:"text-right"},{default:f(()=>[...s[14]||(s[14]=[y("span",{class:"inline-flex items-center gap-1"}," Description ",-1)])]),_:1}),m.value?(c(),h(x,{key:0,class:"h-8 col-span-3"})):(c(),h(M,{key:1,modelValue:i.value.cred_description,"onUpdate:modelValue":s[1]||(s[1]=w=>i.value.cred_description=w),id:"cred_description",class:"col-span-3",disabled:l.editId>0},null,8,["modelValue","disabled"]))]),y("div",wt,[p(C,{class:"text-right"},{default:f(()=>[...s[15]||(s[15]=[$("Authentication Method",-1)])]),_:1}),y("div",qt,[m.value?(c(),h(x,{key:0,class:"h-6 w-64"})):(c(),h(r(mt),{key:1,modelValue:g.value,"onUpdate:modelValue":s[2]||(s[2]=w=>g.value=w),class:"flex space-x-6"},{default:f(()=>[y("label",kt,[p(r(vt),{value:"usernamePassword",id:"usernamePassword",class:"h-5 w-5 rounded-full focus:ring-2 focus:ring-blue-400 focus:outline-none data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-600"}),s[16]||(s[16]=y("span",{class:"text-sm font-medium rc-text-sm-muted"},"Username/Password",-1))])]),_:1},8,["modelValue"]))])]),y("div",Ct,[p(C,{for:"cred_username",class:"text-right"},{default:f(()=>[...s[17]||(s[17]=[$(" Username ",-1),y("span",{class:"text-red-400"},"*",-1)])]),_:1}),m.value?(c(),h(x,{key:0,class:"h-8 col-span-3"})):(c(),h(M,{key:1,modelValue:i.value.cred_username,"onUpdate:modelValue":s[3]||(s[3]=w=>i.value.cred_username=w),id:"cred_username",class:"col-span-3",autocomplete:"off"},null,8,["modelValue"])),v.value.cred_username?(c(),V("span",$t,z(v.value.cred_username[0]),1)):I("",!0)]),!m.value&&g.value==="usernamePassword"?(c(),V(H,{key:0},[y("div",St,[p(C,{for:"cred_password",class:"text-right"},{default:f(()=>[...s[18]||(s[18]=[$(" Password ",-1),y("span",{class:"text-red-400"},"*",-1)])]),_:1}),p(r(Z),{modelValue:i.value.cred_password,"onUpdate:modelValue":s[4]||(s[4]=w=>i.value.cred_password=w),id:"cred_password",mainDivClass:"col-span-3"},null,8,["modelValue"]),v.value.cred_password?(c(),V("span",Et,z(v.value.cred_password[0]),1)):I("",!0)]),y("div",Rt,[p(C,{for:"cred_enable_password",class:"text-right"},{default:f(()=>[...s[19]||(s[19]=[$(" Enable Password ",-1)])]),_:1}),p(r(Z),{modelValue:i.value.cred_enable_password,"onUpdate:modelValue":s[5]||(s[5]=w=>i.value.cred_enable_password=w),id:"cred_enable_password",mainDivClass:"col-span-3"},null,8,["modelValue"]),v.value.cred_enable_password?(c(),V("span",It,z(v.value.cred_enable_password[0]),1)):I("",!0)])],64)):I("",!0),m.value&&g.value==="usernamePassword"?(c(),V(H,{key:1},[y("div",Vt,[p(C,{for:"cred_password",class:"text-right"},{default:f(()=>[...s[20]||(s[20]=[$(" Password ",-1),y("span",{class:"text-red-400"},"*",-1)])]),_:1}),p(x,{class:"h-8 col-span-3"})]),y("div",Bt,[p(C,{for:"cred_enable_password",class:"text-right"},{default:f(()=>[...s[21]||(s[21]=[$(" Enable Password ",-1)])]),_:1}),p(x,{class:"h-8 col-span-3"})])],64)):I("",!0),!m.value&&l.editId>0?(c(),V("div",Dt,[p(C,{for:"rotate_creds",class:"text-right"},{default:f(()=>[...s[22]||(s[22]=[$(" Rotate Device Credentials ",-1)])]),_:1}),y("div",At,[p(r(De),{checked:i.value.rotate_creds,"onUpdate:checked":[s[6]||(s[6]=w=>i.value.rotate_creds=w),E],id:"rotate_creds"},null,8,["checked"]),i.value.rotate_creds?(c(),V("span",xt,"Device credentials will be rotated")):I("",!0)])])):I("",!0),m.value&&l.editId>0?(c(),V("div",Pt,[p(C,{for:"rotate_creds",class:"text-right"},{default:f(()=>[...s[23]||(s[23]=[$(" Rotate Device Credentials ",-1)])]),_:1}),y("div",jt,[p(x,{class:"h-6 w-16"})])])):I("",!0)]),p(r(Ae),null,{default:f(()=>[p(R,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:s[7]||(s[7]=w=>r(o)("DialogNewCred")),size:"sm"},{default:f(()=>[...s[24]||(s[24]=[$(" Cancel ",-1),y("div",{class:"pl-2 ml-auto"},[y("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1}),_.editId===0?(c(),h(R,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[8]||(s[8]=w=>k()),variant:"primary",disabled:m.value},{default:f(()=>[s[26]||(s[26]=$(" Save ",-1)),y("div",Mt,[y("kbd",zt,[s[25]||(s[25]=$(" Ctrl  ",-1)),p(A,{name:"enter",class:"ml-1"})])])]),_:1},8,["disabled"])):I("",!0),_.editId>0?(c(),h(R,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:s[9]||(s[9]=w=>k()),variant:"primary",disabled:m.value},{default:f(()=>[s[28]||(s[28]=$(" Update ",-1)),y("div",Ot,[y("kbd",Ft,[s[27]||(s[27]=$(" Ctrl  ",-1)),p(A,{name:"enter",class:"ml-1"})])])]),_:1},8,["disabled"])):I("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function Wt(l={}){const{autoMount:t=!0,skipInitialization:n=!1}=l,{toastSuccess:e,toastError:a}=oe(),o=S(0),d=S(1),u=S(1),v=S({}),g=S(!1),m=S(1),i=S({}),_=Te(),b=S(_.get("useCredentials","perPage",10)),k=S(""),E=S(!1),q=S("-id"),s=Pe("formatters"),A=de(),{toggleSort:C}=Le(q,R,"useCredentials"),{reload:x}=He(R),M=je();t&&!n&&ie(()=>{R()});async function R(P={}){var B;g.value=!0;try{const T=await G.get("/api/settings/credentials",{params:{page:u.value,perPage:b.value,sort:q.value,...v.value}});i.value=T.data,(B=M.currentRoute.value.params)!=null&&B.id&&J(i.value.data.find(ye=>ye.id===parseInt(M.currentRoute.value.params.id))),m.value=T.data.last_page}catch(T){console.error("Error fetching creds:",T),a("Error","Failed to fetch creds.")}finally{g.value=!1}}const w=()=>{o.value=0,d.value=Math.floor(Math.random()*1e3),A.openDialog("DialogNewCred")},J=P=>{o.value=P.id,d.value=Math.floor(Math.random()*1e3),A.openDialog("DialogNewCred")},pe=()=>{R(),d.value=Math.floor(Math.random()*1e3)},fe=async P=>{try{await G.delete(`/api/settings/credentials/${P}`),R(),e("Credential Deleted","The credential has been deleted successfully."),E.value=!1}catch(B){B.status===422?a("Error",B.response.data.message):(console.error("Error deleting Credential:",B),a("Error","Failed to delete Credential."))}},me=async P=>{try{await G.post("/api/settings/credentials/delete-many",{ids:P}),R(),e("Credentials Deleted","The creds have been deleted successfully."),E.value=!1,Ke.emit("deleteManyCredentialsSuccess")}catch(B){B.status===422?a("Error",B.response.data.message):(console.error("Error deleting Credentials:",B),a("Error","Failed to delete Credentials.")),E.value=!1}},ve=Me(()=>{v.value["filter[cred_name]"]=k.value,u.value=1,R()},500);return L(u,()=>{R()}),L(k,()=>{ve()}),L(b,P=>{_.set("useCredentials","perPage",P),R()}),{reload:x,fetchCreds:R,createCred:w,editCred:J,deleteCredential:fe,deleteManyCredentials:me,handleSave:pe,toggleSort:C,creds:i,currentPage:u,lastPage:m,perPage:b,searchTerm:k,sortParam:q,isLoading:g,editId:o,newCredModalKey:d,showConfirmDelete:E,formatters:s,dialogStore:A,pageSettings:_,router:M}}export{Kt as _,Wt as u};
