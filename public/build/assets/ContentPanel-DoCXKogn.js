import{F as _e,r as F,c as w,o as g,b as o,w as f,u as s,G as dn,a as u,H as fn,d as N,I as mn,s as D,bd as P,T as he,t as S,L as pn,br as gi,E as ne,x as E,g as it,z as Ne,Q as vi,bL as gn,D as J,S as hi,X as Se,n as Pe,P as We,e as I,J as Te,K as Le,p as Ye,j as Sn,k as In,bp as lt,m as En,v as ot,_ as st,bM as xi,bN as _i,$ as yi,l as Nn,A as wi,bc as at,bO as rt,be as ct,bf as ue,bq as ut,bP as bi,bg as dt,bQ as Ci,Y as ki,M as Ve,Z as ye,O as on,R as Fe,bR as ft,bS as Tn,bT as Di,bU as Ai,a0 as $i,a1 as Si,a2 as Ii,a3 as Ei,a4 as Ni,aa as Ln,a5 as Ti,a6 as Li,a9 as Fi,aF as Oi}from"./app-Cr5ZxVyh.js";import{C as vn}from"./calendar-BMz8ltcs.js";import{b as mt,C as Ri,a as Mi,u as pt,c as ji,d as Pi,m as Vi}from"./NavPills-Bh1WfId4.js";import{u as Bi,_ as zi,a as gt}from"./useTemplatesGithub-D3NuF0aZ.js";import{R as hn}from"./refresh-cw-BYFRxkXo.js";import{_ as Yi,a as Fn,b as ge,c as vt,d as Hi,e as ve,f as ht,g as xt,p as de,o as Ui,T as Gi}from"./pageSettings-BJW2cXfb.js";import{a as Ki}from"./package-check-CvZrBN-9.js";import{_ as qi}from"./CardFooter.vue_vue_type_script_setup_true_lang-VabczWln.js";import{_ as Wi,a as Qi,b as Xi,X as xn}from"./HoverCardTrigger-CtkCXr9J.js";import{u as _n}from"./useCopy-DKpC2Bfx.js";import{S as _t}from"./Spinner-DoN6oKSO.js";import{S as Zi,F as Ji,L as en,a as yt,H as wt,M as bt}from"./sun-moon-CazE3_5F.js";import{C as Ct}from"./copy-DGbmoCEB.js";import{T as el,M as nl,G as tl,a as il}from"./useCredentials-BYK5jtF6.js";import{_ as q}from"./RcToolTip.vue_vue_type_script_setup_true_lang-CPXXaM_I.js";import{T as ll}from"./terminal-DQGM4QfV.js";import{a as kt,_ as Ae}from"./ToggleGroupItem-D-XBuZGg.js";import{_ as ol}from"./GeneralPopover-CDkNuWtK.js";import{_ as On,a as Rn,b as Mn,c as jn,d as Pn}from"./SelectScrollDownButton-BnYEtRXQ.js";import{_ as Vn}from"./SelectGroup-D0mcYl3h.js";import{D as sl}from"./download-BrjCF5NS.js";/* empty css               */import"./square-terminal-DfsMT74P.js";import"./search-kG425soW.js";import"./square-Dr5KnvZ9.js";import"./BadgeList-D-82XViP.js";import"./TagMultiSelect-CmqQst57.js";import"./useMultiSelect-D1kHzzCM.js";import"./cloud-alert-lCOvBIZa.js";import"./plus-ByIXU4cC.js";import"./info-CjoC7kp4.js";import"./corner-down-left-D450JXrT.js";import"./AlertInfo.vue_vue_type_style_index_0_scoped_c93aa73f_lang-Du-nbBLd.js";const al={class:"p-2 mt-2"},rl={class:"grid gap-0.5"},cl={key:0,class:"space-y-2"},ul={key:0,class:"grid gap-2 text-sm"},dl={class:"grid gap-2"},fl={class:"flex items-center justify-between"},ml={class:"flex items-center gap-1 text-muted-foreground"},pl={key:0,class:"flex items-center gap-2"},gl={key:1,class:"flex items-center gap-2"},vl={class:"flex items-center justify-between"},hl={class:"flex items-center gap-1 text-muted-foreground"},xl={key:0,class:"flex items-center gap-2"},_l={key:1,class:"flex items-center gap-2"},yl={class:"flex items-center justify-between"},wl={class:"flex items-center gap-1 text-muted-foreground"},bl={key:0,class:"flex items-center gap-2"},Cl={key:1,class:"flex items-center gap-2"},kl={class:"flex items-center justify-between"},Dl={class:"flex items-center gap-1 text-muted-foreground"},Al={class:"flex items-center gap-2"},$l={class:"hidden xl:inline"},Sl={__name:"ConfigStatusPanel",props:{isLoading:Boolean,data:Object},emits:["refresh"],setup(e,{emit:n}){const t=_e("formatters");return(i,l)=>{const r=F("RcIcon");return g(),w("div",al,[o(s(pn),{class:"overflow-hidden"},{default:f(()=>[o(s(dn),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:f(()=>[u("div",rl,[o(s(fn),{class:"flex items-center gap-2 text-lg group"},{default:f(()=>[...l[0]||(l[0]=[N("Configuration Summary",-1)])]),_:1})])]),_:1}),o(s(mn),{class:"p-4 pt-0 text-sm"},{default:f(()=>[e.isLoading?(g(),w("div",cl,[o(s(P),{class:"w-1/2 h-4"}),o(s(P),{class:"w-full h-4"}),o(s(P),{class:"w-full h-4"}),o(s(P),{class:"w-full h-4"}),o(s(P),{class:"w-full h-4"}),o(s(P),{class:"w-full h-4"}),o(s(P),{class:"w-full h-4"}),o(s(P),{class:"w-full h-4"}),o(s(P),{class:"w-full h-4"})])):D("",!0),o(he,{name:"fade"},{default:f(()=>{var a,c,d,m,x,p,h,v;return[!e.isLoading&&e.data?(g(),w("div",ul,[u("dl",dl,[u("div",fl,[u("dt",ml,[o(r,{name:"status-green"}),l[1]||(l[1]=N(" Good Configs ",-1))]),e.data.config_summary?(g(),w("dd",pl,S(((a=e.data.config_summary)==null?void 0:a.download_status_1_count)??"--"),1)):(g(),w("dd",gl,S(((c=e.data)==null?void 0:c.config_good_count)??"--"),1))]),u("div",vl,[u("dt",hl,[o(r,{name:"status-red"}),l[2]||(l[2]=N(" Failed Configs ",-1))]),e.data.config_summary?(g(),w("dd",xl,S(((d=e.data.config_summary)==null?void 0:d.download_status_0_count)??"--"),1)):(g(),w("dd",_l,S(((m=e.data)==null?void 0:m.config_bad_count)??"--"),1))]),u("div",yl,[u("dt",wl,[o(r,{name:"status-yellow"}),l[3]||(l[3]=N(" Unknown Configs ",-1))]),e.data.config_summary?(g(),w("dd",bl,S(((x=e.data.config_summary)==null?void 0:x.download_status_2_count)??"--"),1)):(g(),w("dd",Cl,S(((p=e.data)==null?void 0:p.config_unknown_count)??"--"),1))]),u("div",kl,[u("dt",Dl,[o(s(vn),{size:"16",class:"text-indigo-400"}),l[4]||(l[4]=N(" Last Download ",-1))]),u("dd",Al,[u("span",null,S(s(t).formatDateOnly(e.data.last_config_at??((h=e.data.last_config)==null?void 0:h.updated_at))),1),u("span",$l,S(s(t).formatTimeOnly(e.data.last_config_at??((v=e.data.last_config)==null?void 0:v.updated_at))),1)])])])])):D("",!0)]}),_:1})]),_:1})]),_:1})])}}},Il=gi("comments",{state:()=>({commentCounters:{},initializedDevices:{}}),actions:{async initializeCommentsForDevice(e){if(!this.initializedDevices[e])try{const t=(await ne.get(`/api/device-comments/${e}`)).data;this.commentCounters[e]=t.length,this.initializedDevices[e]=!0}catch(n){console.error(`Failed to load comments for device ${e}:`,n)}},incrementCounter(e){this.commentCounters[e]||(this.commentCounters[e]=0),this.commentCounters[e]++},decrementCounter(e){this.commentCounters[e]&&this.commentCounters[e]--}},persist:{storage:localStorage,paths:["commentCounters","initializedDevices"]}}),El={class:"relative flex items-center justify-between border-b"},Nl={class:"flex items-start pt-2 pb-1 px-2 pt-1"},Dt={__name:"DetailsViewLeftNav",props:{selectedNav:String,deviceId:Number,context:{type:String,default:"device",validator:e=>["device","config"].includes(e)}},emits:["selectLeftNavView","closeNav"],setup(e,{emit:n}){const t=e,i=E(t.selectedNav),l=Il(),r=E(l.commentCounters[t.deviceId]||0),a=n,c=it(()=>[{label:"Details",to:"details",icon:"list-collapse"}]);Ne(()=>l.commentCounters[t.deviceId],x=>{r.value=x}),Ne(()=>t.selectedNav,x=>{i.value=x});function d(x){i.value=x,a("selectLeftNavView",x)}function m(){a("closeNav")}return(x,p)=>(g(),w("div",El,[u("div",Nl,[o(mt,{items:c.value,modelValue:i.value,"onUpdate:modelValue":p[0]||(p[0]=h=>i.value=h),"persist-key":"detailsViewLeftNav",onSelect:d},null,8,["items","modelValue"])]),o(vi,{class:"mr-2",onClose:p[1]||(p[1]=h=>m())})]))}},Tl={class:"relative flex items-center w-full border-b p-2 pb-1"},Ll={class:"flex justify-between w-full mb-0"},Fl={key:0,class:"gap-2 ml-auto mr-4 text-lg font-semibold tracking-tight group"},Ol={key:1,class:"gap-2 ml-auto mr-4 text-lg font-semibold tracking-tight group"},Rl={__name:"DetailsViewRightNav",props:{selectedNav:String},emits:["selectMainNavView","closeNav"],setup(e,{emit:n}){const t=E(null),i=E(null),l=gn(),r=e,a=n;J(()=>{const p=localStorage.getItem("DeviceDetailsMainNav");t.value=p||r.selectedNav});function c(p,h){t.value=p,i.value=h,a("selectMainNavView",p),localStorage.setItem("DeviceDetailsMainNav",p)}function d(){var p,h,v;(p=l.panelRef2)!=null&&p.isCollapsed?(h=l.panelRef2)==null||h.expand():(v=l.panelRef2)==null||v.collapse()}Ne(()=>{var p;return(p=l.panelRef2)==null?void 0:p.isCollapsed},()=>{updateBottomBorder()}),Ne(()=>r.selectedNav,p=>{c(p,document.querySelector(`[data-nav='${p}']`))});const m=it(()=>[{label:"Configs",to:"configs",icon:"command-group"},{label:"Notifications",to:"notifications",icon:"notification"}]);function x(p){t.value=p,a("selectMainNavView",p),localStorage.setItem("DeviceDetailsMainNav",p)}return(p,h)=>{var v;return g(),w("div",Tl,[o(hi,{onOpenNav:h[0]||(h[0]=b=>d()),navPanelBtnState:(v=s(l).panelRef2)==null?void 0:v.isCollapsed},null,8,["navPanelBtnState"]),u("div",Ll,[u("div",null,[o(mt,{items:m.value,modelValue:t.value,"onUpdate:modelValue":h[1]||(h[1]=b=>t.value=b),"persist-key":"DeviceDetailsMainNav",onSelect:x},null,8,["items","modelValue"])]),u("div",null,[t.value==="notifications"?(g(),w("h3",Fl," Device Last Events ")):D("",!0),t.value==="configs"?(g(),w("h3",Ol," Latest Configs ")):D("",!0)])])])}}},Ml={class:"p-2 overflow-none"},jl={class:"flex flex-row items-center justify-start gap-2 pt-1"},Pl={class:"inline-flex flex-row items-center h-[24px] rounded-md px-1.5 py-0.5 gap-1 shadow-[inset_0_0_0_1px_rgb(69,71,74)] bg-[#313337]"},Vl={class:"flex-[0_1_auto] min-w-0 overflow-hidden text-ellipsis whitespace-nowrap inline-flex line-clamp-1"},Bl={key:0,class:"mt-4 space-y-2"},zl={key:1,class:"mt-6 space-y-4"},Yl={class:"flex items-center justify-end mt-4 space-x-2"},Hl={__name:"DeviceConfigsViewPanelAll",props:{deviceId:Number},emits:["toggle-view"],setup(e,{emit:n}){const t=n,i=e,l=Se(),{openDialog:r,closeDialog:a,isDialogOpen:c}=l,d=E({}),m=E(!1);J(()=>{p()});function x(){axios.get("/api/configs/latest-by-deviceid/"+i.deviceId).then(v=>{d.value=v.data.data}).catch(v=>{console.log(v)})}function p(){m.value=!0,x(),setTimeout(()=>{m.value=!1},1e3)}function h(){t("toggle-view","latest")}return(v,b)=>{const k=F("Button"),_=F("Skeleton");return g(),w("div",null,[u("div",Ml,[u("div",jl,[u("span",Pl,[u("span",Vl,"All Config Downloads for Device ID: "+S(i.deviceId),1)]),b[0]||(b[0]=u("span",{class:"flex-1 bg-[rgb(49,51,55)] bg-[rgb(49,51,55)] flex-shrink-0 h-px w-full"},null,-1)),o(k,{type:"button",title:"Refresh",variant:"ghost",onClick:p,class:"p-2 h-7"},{default:f(()=>[o(s(hn),{class:Pe([m.value?"text-blue-500 animate-spin":"text-gray-600 hover:text-blue-500","w-4 h-4"])},null,8,["class"])]),_:1})]),m.value?(g(),w("div",Bl,[o(_,{class:"w-1/2 h-4"}),o(_,{class:"w-full h-4"}),o(_,{class:"w-full h-4"}),o(_,{class:"w-full h-4"}),o(_,{class:"w-full h-4"}),o(_,{class:"w-full h-4"}),o(_,{class:"w-full h-4"}),o(_,{class:"w-full h-4"}),o(_,{class:"w-full h-4"})])):D("",!0),m.value?D("",!0):(g(),w("div",zl,[o(Ri,{configsId:e.deviceId},null,8,["configsId"])])),u("div",Yl,[o(k,{variant:"outline",onClick:h,class:"text-center"},{default:f(()=>[...b[1]||(b[1]=[N(" Show Latest Configs ",-1)])]),_:1})])])])}}},Ul={class:"p-2 overflow-none"},Gl={class:"flex flex-row items-center justify-start gap-2 pt-1"},Kl={class:"inline-flex flex-row items-center h-[24px] rounded-md px-1.5 gap-1 shadow-[inset_0_0_0_1px_rgb(69,71,74)] bg-[#313337]"},ql={class:"flex-[0_1_auto] min-w-0 overflow-hidden text-ellipsis whitespace-nowrap inline-flex line-clamp-1 items-center"},Wl={key:0,class:"mt-4 space-y-2"},Ql={key:1,class:"mt-6 space-y-4"},Xl={class:"border-b"},Zl={class:"flex items-center justify-end mt-4 space-x-2"},Jl={__name:"DeviceConfigsViewPanelLatest",props:{deviceId:Number},emits:["toggle-view"],setup(e,{emit:n}){const t=n,i=e,l=Se(),{openDialog:r,closeDialog:a,isDialogOpen:c}=l,d=E({}),m=E(!1),x=_e("formatters"),p=We(),h=p.currentRoute.value.name;J(()=>{b()});function v(){ne.get("/api/configs/latest-by-deviceid/"+i.deviceId).then(C=>{d.value=C.data.data}).catch(C=>{console.log(C)})}function b(){m.value=!0,v(),setTimeout(()=>{m.value=!1},1e3)}function k(){t("toggle-view","all")}function _(C){p.push({name:"config-view",params:{id:parseInt(C)},query:{ref:h||"device-view",refId:i.deviceId}})}return(C,y)=>{const V=F("RcIcon"),T=F("Button"),B=F("Skeleton");return g(),w("div",null,[u("div",Ul,[u("div",Gl,[u("span",Kl,[u("span",ql,[o(V,{name:"status-green",class:"mr-2"}),y[0]||(y[0]=u("div",{class:"ml-2"},"Latest Configs",-1))])]),y[1]||(y[1]=u("span",{class:"flex-1 bg-[rgb(49,51,55)] flex-shrink-0 h-px w-full"},null,-1)),o(T,{type:"button",title:"Refresh",variant:"ghost",onClick:b,class:"p-2 h-7"},{default:f(()=>[o(s(hn),{size:16,class:Pe(m.value?"text-blue-500 animate-spin":"text-gray-600 hover:text-blue-500")},null,8,["class"])]),_:1})]),m.value?(g(),w("div",Wl,[o(B,{class:"w-1/2 h-4"}),o(B,{class:"w-full h-4"}),o(B,{class:"w-full h-4"}),o(B,{class:"w-full h-4"}),o(B,{class:"w-full h-4"}),o(B,{class:"w-full h-4"}),o(B,{class:"w-full h-4"}),o(B,{class:"w-full h-4"}),o(B,{class:"w-full h-4"})])):D("",!0),m.value?D("",!0):(g(),w("div",Ql,[o(s(xt),null,{default:f(()=>[o(s(Yi),null,{default:f(()=>[o(s(Fn),null,{default:f(()=>[o(s(ge),{class:"w-[2%]"},{default:f(()=>[...y[2]||(y[2]=[N("ID",-1)])]),_:1}),o(s(ge),{class:"w-[10%]"},{default:f(()=>[...y[3]||(y[3]=[N("Command",-1)])]),_:1}),o(s(ge),{class:"w-[10%]"},{default:f(()=>[...y[4]||(y[4]=[N("Filename",-1)])]),_:1}),o(s(ge),{class:"w-[10%]"},{default:f(()=>[...y[5]||(y[5]=[N("File size",-1)])]),_:1}),o(s(ge),{class:"w-[10%]"},{default:f(()=>[...y[6]||(y[6]=[N("Downloaded at",-1)])]),_:1}),o(s(ge),{class:"w-[10%]"},{default:f(()=>[...y[7]||(y[7]=[N("Status",-1)])]),_:1}),o(s(ge),{class:"w-[10%]"},{default:f(()=>[...y[8]||(y[8]=[N("Actions",-1)])]),_:1})]),_:1})]),_:1}),o(s(vt),null,{default:f(()=>[m.value?(g(),I(Hi,{key:0})):!m.value&&Object.keys(d.value).length?(g(!0),w(Te,{key:1},Le(d.value,O=>(g(),I(s(Fn),{key:O.id},{default:f(()=>[o(s(ve),null,{default:f(()=>[N(S(O.id),1)]),_:2},1024),o(s(ve),null,{default:f(()=>[N(S(O.command),1)]),_:2},1024),o(s(ve),null,{default:f(()=>[o(T,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:z=>_(O.id)},{default:f(()=>[u("span",Xl,S(O.config_filename),1)]),_:2},1032,["onClick"])]),_:2},1024),o(s(ve),null,{default:f(()=>[N(S(O.config_filesize?s(x).formatFileSize(O.config_filesize):""),1)]),_:2},1024),o(s(ve),null,{default:f(()=>[N(S(s(x).formatTime(O.created_at)),1)]),_:2},1024),o(s(ve),null,{default:f(()=>[O.download_status===0?(g(),I(V,{key:0,name:"status-red"})):D("",!0),O.download_status===1?(g(),I(V,{key:1,name:"status-green"})):D("",!0),O.download_status===2?(g(),I(V,{key:2,name:"status-yellow"})):D("",!0)]),_:2},1024),o(s(ve),{class:"flex items-center"},{default:f(()=>[o(s(Ye),null,{default:f(()=>[o(s(Sn),null,{default:f(()=>[o(s(In),{"as-child":""},{default:f(()=>[o(T,{variant:"ghost",onClick:z=>s(r)("peek-config-dialog-"+O.id)},{default:f(()=>[o(s(lt),{size:"16",class:"text-muted-foreground hover:text-blue-500"})]),_:1},8,["onClick"])]),_:2},1024),o(s(En),{class:"text-white bg-rcgray-800"},{default:f(()=>[...y[9]||(y[9]=[u("p",null,"Peek config",-1)])]),_:1})]),_:2},1024)]),_:2},1024),o(s(Ye),null,{default:f(()=>[o(s(Sn),null,{default:f(()=>[o(s(In),{"as-child":""},{default:f(()=>[o(T,{variant:"ghost",onClick:z=>_(O.id)},{default:f(()=>[o(s(Ki),{size:"16",class:"text-muted-foreground hover:text-blue-500"})]),_:1},8,["onClick"])]),_:2},1024),o(s(En),{class:"text-white bg-rcgray-800"},{default:f(()=>[...y[10]||(y[10]=[u("p",null,"Open config",-1)])]),_:1})]),_:2},1024)]),_:2},1024),s(c)("peek-config-dialog-"+O.id)?(g(),I(Mi,{key:0,editId:O.id},null,8,["editId"])):D("",!0)]),_:2},1024)]),_:2},1024))),128)):(g(),I(ht,{key:2}))]),_:1})]),_:1})])),u("div",Zl,[o(T,{variant:"outline",onClick:k,class:"text-center"},{default:f(()=>[...y[11]||(y[11]=[N("View all",-1)])]),_:1})])])])}}},eo={class:"p-2"},no={key:0,class:"flex justify-center items-center h-32"},to={__name:"DeviceConfigsViewPanel",props:{deviceId:Number},setup(e){const n=E("latest"),t=E(!1),i=()=>{const r=localStorage.getItem("DeviceConfigsActiveView");r&&["latest","all"].includes(r)?n.value=r:n.value="latest",t.value=!0},l=r=>{const c=["latest","all"].includes(r)?r:"latest";n.value=c,localStorage.setItem("DeviceConfigsActiveView",c)};return J(()=>{i()}),(r,a)=>(g(),w("div",eo,[t.value?(g(),I(he,{key:1,name:"fade",mode:"out-in"},{default:f(()=>[(g(),I(ot(n.value==="latest"?Jl:Hl),{deviceId:e.deviceId,onToggleView:l},null,40,["deviceId"]))]),_:1})):(g(),w("div",no,[...a[0]||(a[0]=[u("div",{class:"text-gray-500"},"Loading...",-1)])]))]))}},io={class:"flex flex-row items-center justify-between"},lo={class:"grid gap-0.5 flex-1"},oo={key:0,class:"mt-3 flex justify-start"},so={key:0,class:"flex items-center px-2 py-1 rounded-md bg-red-500/10 border border-red-500/20"},ao={key:1,class:"flex items-center px-2 py-1 rounded-md bg-green-500/10 border border-green-500/20"},ro={key:2,class:"flex items-center px-2 py-1 rounded-md bg-yellow-500/10 border border-yellow-500/20"},co={key:3,class:"flex items-center px-2 py-1 rounded-md bg-gray-500/10 border border-gray-500/20"},uo={key:0,class:"space-y-2"},fo={key:1,class:"grid gap-3"},mo={class:"grid gap-3"},po={class:"flex items-center justify-between"},go={class:"flex items-center gap-2"},vo={class:"flex items-center justify-between"},ho={class:"flex items-center gap-2"},xo={class:"flex items-center justify-between"},_o={class:"flex items-center gap-2"},yo={class:"flex items-center justify-between"},wo={class:"flex items-center gap-2"},bo={class:"flex items-center justify-between"},Co={class:"flex items-center gap-2"},ko={class:"flex items-center justify-between"},Do={class:"flex items-center gap-2"},Ao={class:"flex items-center justify-between"},$o={class:"flex items-center gap-2"},So={class:"flex max-w-full items-start gap-2"},Io={class:"flex flex-wrap justify-end gap-2 w-full"},Eo={class:"flex items-center justify-between"},No={class:"flex items-center gap-2"},To={key:0,class:"flex items-center gap-2 text-xs text-muted-foreground"},Bn="rconfig-device-details-collapsed",Lo={__name:"DeviceViewDetailsPanel",props:{isLoading:Boolean,deviceData:Object},emits:["refresh"],setup(e,{emit:n}){const t=_e("formatters"),i=E(!1);J(()=>{i.value=localStorage.getItem(Bn)==="true"}),Ne(i,r=>{localStorage.setItem(Bn,r.toString())});const l=()=>{i.value=!i.value};return(r,a)=>{const c=F("RcIcon"),d=F("Skeleton"),m=F("router-link");return g(),w("div",null,[o(s(pn),{class:"overflow-hidden"},{default:f(()=>[o(s(dn),{class:"py-2 px-4 bg-muted/50 cursor-pointer",onClick:l},{default:f(()=>[u("div",io,[u("div",lo,[o(s(fn),{class:"flex items-center gap-2 text-lg group"},{default:f(()=>[(g(),I(ot(i.value?s(xi):s(_i)),{class:"w-4 h-4"})),a[0]||(a[0]=u("div",null,"Device Details",-1))]),_:1})]),!e.isLoading&&e.deviceData?(g(),w("div",oo,[e.deviceData.status===0?(g(),w("div",so,[o(c,{name:"status-red",class:"mr-2"}),a[1]||(a[1]=u("span",{class:"text-red-700 dark:text-red-400 text-sm ml-2"},"Offline",-1))])):e.deviceData.status===1?(g(),w("div",ao,[o(c,{name:"status-green",class:"mr-2"}),a[2]||(a[2]=u("span",{class:"text-green-700 dark:text-green-400 text-sm ml-2"},"Online",-1))])):e.deviceData.status===2?(g(),w("div",ro,[o(c,{name:"status-yellow",class:"mr-2"}),a[3]||(a[3]=u("span",{class:"text-yellow-700 dark:text-yellow-400 text-sm ml-2"},"Warning",-1))])):e.deviceData.status===100?(g(),w("div",co,[o(c,{name:"status-gray",class:"mr-2"}),a[4]||(a[4]=u("span",{class:"text-gray-700 dark:text-gray-400 text-sm ml-2"},"Disabled",-1))])):D("",!0)])):D("",!0)])]),_:1}),o(he,{name:"fade"},{default:f(()=>[i.value?D("",!0):(g(),I(s(mn),{key:0,class:"p-4 pt-0 text-sm"},{default:f(()=>{var x,p,h;return[e.isLoading?(g(),w("div",uo,[o(d,{class:"w-1/2 h-4"}),o(d,{class:"w-full h-4"}),o(d,{class:"w-full h-4"}),o(d,{class:"w-full h-4"}),o(d,{class:"w-full h-4"}),o(d,{class:"w-full h-4"}),o(d,{class:"w-full h-4"}),o(d,{class:"w-full h-4"}),o(d,{class:"w-full h-4"})])):D("",!0),!e.isLoading&&e.deviceData?(g(),w("div",fo,[u("dl",mo,[u("div",po,[a[5]||(a[5]=u("dt",{class:"text-muted-foreground"},"Device ID",-1)),u("dd",go,S(e.deviceData.id),1)]),u("div",vo,[a[6]||(a[6]=u("dt",{class:"text-muted-foreground"},"Device Name",-1)),u("dd",ho,S(e.deviceData.device_name),1)]),u("div",xo,[a[7]||(a[7]=u("dt",{class:"text-muted-foreground"},"Device IP",-1)),u("dd",_o,S(e.deviceData.device_ip),1)]),u("div",yo,[a[8]||(a[8]=u("dt",{class:"text-muted-foreground"},"Command Group",-1)),u("dd",wo,[o(m,{to:`/commandgroups/${(x=e.deviceData.category[0])==null?void 0:x.id}`,class:"rc-text-link"},{default:f(()=>{var v,b,k;return[u("span",{class:Pe([(v=e.deviceData.category[0])!=null&&v.badgeColor?(b=e.deviceData.category[0])==null?void 0:b.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","w-fit flex items-center text-xs font-medium px-2.5 py-0.5 rounded-xl border"])},S((k=e.deviceData.category[0])==null?void 0:k.categoryName),3)]}),_:1},8,["to"])])]),u("div",bo,[a[9]||(a[9]=u("dt",{class:"text-muted-foreground"},"Vendor",-1)),u("dd",Co,[o(m,{to:`/vendors/${(p=e.deviceData.vendor[0])==null?void 0:p.id}`,class:"rc-text-link"},{default:f(()=>{var v;return[N(S((v=e.deviceData.vendor[0])==null?void 0:v.vendorName),1)]}),_:1},8,["to"])])]),u("div",ko,[a[10]||(a[10]=u("dt",{class:"text-muted-foreground"},"Model",-1)),u("dd",Do,S(e.deviceData.device_model),1)]),u("div",Ao,[a[11]||(a[11]=u("dt",{class:"text-muted-foreground"},"Template",-1)),u("dd",$o,[o(m,{to:{name:"template-view",params:{id:(h=e.deviceData.template[0])==null?void 0:h.id}},class:"rc-text-link"},{default:f(()=>{var v;return[N(S((v=e.deviceData.template[0])==null?void 0:v.templateName),1)]}),_:1},8,["to"])])]),u("div",So,[a[13]||(a[13]=u("dt",{class:"w-[6rem] text-muted-foreground shrink-0"},"Tags",-1)),u("dd",Io,[(g(!0),w(Te,null,Le(e.deviceData.tag,v=>(g(),w("div",{class:"flex items-center",key:v.id},[o(c,{name:"tag",class:"text-muted-foreground mr-1",height:12}),a[12]||(a[12]=N()),o(m,{to:`/tags/${v==null?void 0:v.id}`,class:"rc-text-link"},{default:f(()=>[N(S(v==null?void 0:v.tagname),1)]),_:2},1032,["to"])]))),128))])]),u("div",Eo,[a[14]||(a[14]=u("dt",{class:"text-muted-foreground"},"Created",-1)),u("dd",No,S(s(t).formatTime(e.deviceData.created_at)),1)])])])):D("",!0)]}),_:1}))]),_:1}),o(s(qi),{class:"flex flex-row items-center px-4 py-3 border-t bg-muted/50"},{default:f(()=>[!e.isLoading&&e.deviceData?(g(),w("div",To,[o(s(vn),{class:"w-4 h-4 mr-2 opacity-70"}),N(" Last Poll: "+S(s(t).formatTime(e.deviceData.last_seen)),1)])):D("",!0)]),_:1})]),_:1})])}}},Fo=st(Lo,[["__scopeId","data-v-52bd8c8f"]]),Oo={class:"flex justify-between space-x-4"},Ro={class:"space-y-1"},Mo={class:"text-sm font-semibold"},jo={class:"text-sm"},Po={class:"text-sm"},Vo={class:"javascript"},Bo={class:"flex pt-2 items-between"},zo={class:"text-xs text-muted-foreground"},Yo={__name:"DeviceNotificationHoverCard",props:{notification:{type:Object,required:!0}},setup(e){const{copyItem:n,activeCopyIcon:t}=_n(),i=_e("formatters");return(l,r)=>{const a=F("RcIcon"),c=F("Button"),d=yi("highlightjs");return g(),I(s(Xi),null,{default:f(()=>[o(s(Wi),{"as-child":""},{default:f(()=>[Nn(l.$slots,"default")]),_:3}),o(s(Qi),{class:"w-full",align:"start"},{default:f(()=>[u("div",Oo,[Nn(l.$slots,"leftIcon"),u("div",Ro,[u("h4",Mo,S(e.notification.log_name.charAt(0).toUpperCase()+e.notification.log_name.slice(1)),1),u("p",jo,S(e.notification.description),1),r[1]||(r[1]=u("p",{class:"pt-4 text-sm"},"Raw Data",-1)),u("div",Po,[wi((g(),w("pre",null,[u("code",Vo,S(e.notification),1)])),[[d]])]),u("div",Bo,[o(s(vn),{class:"w-4 h-4 mr-2 opacity-70"}),u("span",zo,"Event Date: "+S(s(i).formatTime(e.notification.created_at)),1),o(c,{class:"h-6 p-1 ml-auto",variant:"ghost",title:l.t("actions.copyRawData"),onClick:r[0]||(r[0]=m=>s(n)(e.notification.id,e.notification))},{default:f(()=>[o(a,{name:"copy-transition",isActive:s(t)[e.notification.id],size:16},null,8,["isActive"])]),_:1},8,["title"])])])])]),_:3})]),_:3})}}},Ho={class:"p-2"},Uo={class:"p-2 overflow-none"},Go={class:"flex flex-row items-center justify-start gap-2 pt-1"},Ko={key:0,class:"mt-4 space-y-2"},qo={key:1,class:"mt-6 space-y-4"},Wo={key:0},Qo={class:"w-full"},Xo={class:"pl-6 border-l border-l-4 rounded-md border-l-rcgray-600"},Zo={class:"flex justify-between"},Jo={key:0,class:"py-0.5 flex w-fit bg-green-100 text-green-800 text-xs font-medium me-2 px-1.5 py-0.5 rounded-lg dark:bg-blue-900 dark:text-blue-100"},es={class:"text-muted-foreground"},ns={class:"py-2 space-y-1 text-left"},ts={class:"text-sm text-white"},is={class:"flex items-center justify-between"},ls={class:"text-muted-foreground"},os={key:1},ss={class:"flex items-center justify-end mt-4 space-x-2"},as={__name:"LatestEventsPanel",props:{deviceId:Number},setup(e){const n=e,t=E([]),i=E(!1),l=_e("formatters");J(()=>{r()});function r(){i.value=!0,ne.get("/api/activitylogs/last5/"+parseInt(n.deviceId)).then(c=>{t.value=c.data,i.value=!1}).catch(c=>{console.log(c)})}function a(){i.value=!0,r(),setTimeout(()=>{i.value=!1},1e3)}return(c,d)=>{const m=F("Button"),x=F("Skeleton");return g(),w("div",Ho,[u("div",Uo,[u("div",Go,[d[0]||(d[0]=u("span",{class:"inline-flex flex-row items-center h-[24px] rounded-md px-1.5 gap-1 shadow-[inset_0_0_0_1px_rgb(69,71,74)] bg-[#313337]"},[u("span",{class:"flex-[0_1_auto] min-w-0 overflow-hidden text-ellipsis whitespace-nowrap inline-flex line-clamp-1"},"Last Events")],-1)),d[1]||(d[1]=u("span",{class:"flex-1 bg-[rgb(49,51,55)] bg-[rgb(49,51,55)] flex-shrink-0 h-px w-full"},null,-1)),o(m,{type:"button",title:"Refresh",variant:"ghost",onClick:a,class:"p-2 h-7"},{default:f(()=>[o(s(hn),{size:"16",class:Pe(i.value?"text-blue-500 animate-spin":"text-gray-600 hover:text-blue-500")},null,8,["class"])]),_:1})]),i.value?(g(),w("div",Ko,[o(x,{class:"w-1/2 h-4"}),o(x,{class:"w-full h-4"}),o(x,{class:"w-full h-4"}),o(x,{class:"w-full h-4"}),o(x,{class:"w-full h-4"}),o(x,{class:"w-full h-4"}),o(x,{class:"w-full h-4"}),o(x,{class:"w-full h-4"}),o(x,{class:"w-full h-4"})])):D("",!0),i.value?D("",!0):(g(),w("div",qo,[Object.keys(t.value).length>0?(g(),w("div",Wo,[(g(!0),w(Te,null,Le(t.value,(p,h)=>(g(),I(m,{class:"flex w-full h-full border bg-rcgray-800 cursor-default hover:bg-rcgray-600 items-left",key:h},{default:f(()=>[u("div",Qo,[u("div",Xo,[u("div",Zo,[p.log_name==="info"?(g(),w("span",Jo,S(p.log_name),1)):D("",!0),u("span",es,"Type: "+S(p.event_type),1)]),u("div",ns,[u("p",ts,S(p.description),1),u("div",is,[u("p",ls,S(s(l).formatTime(p.created_at)),1),o(Yo,{notification:p},{default:f(()=>[o(m,{title:c.t("actions.viewRawData"),alt:c.t("actions.viewRawData"),variant:"outline",class:"h-4 px-1 text-sm text-muted-foreground"},{default:f(()=>[o(s(lt),{size:"16"})]),_:1},8,["title","alt"])]),_:1},8,["notification"])])])])])]),_:2},1024))),128))])):(g(),w("div",os,[o(s(xt),null,{default:f(()=>[o(s(vt),null,{default:f(()=>[o(ht)]),_:1})]),_:1})]))])),u("div",ss,[o(m,{variant:"outline",class:"text-center"},{default:f(()=>[...d[2]||(d[2]=[N(" View All ",-1)])]),_:1})])])])}}},rs={__name:"ViewPaneDropdown",props:{rowData:{type:Object,required:!0},type:{type:String,default:"device"},showEditBtn:{type:Boolean,default:!0}},emits:["openDeviceEdit","onDelete","onPurge","openDeviceClone","onDisable","onEnable"],setup(e,{emit:n}){const t=We(),i=n,l=e;function r(){i("onDelete")}function a(){i("openDeviceEdit")}function c(){i("openDeviceClone")}function d(){i("onDisable")}function m(){i("onEnable")}function x(){t.push({name:"settings-data-purge"}),console.log("Purging failed configs for device:",l.rowData.id)}return(p,h)=>{const v=F("Button");return g(),w("div",null,[o(s(dt),null,{default:f(()=>[o(s(at),{"as-child":""},{default:f(()=>[o(v,{variant:"ghost",class:"h-8 ml-2"},{default:f(()=>[o(s(rt),{size:"16"})]),_:1})]),_:1}),o(s(ct),{class:"w-56",align:"end",side:"bottom"},{default:f(()=>[e.showEditBtn?(g(),I(s(ue),{key:0,class:"cursor-pointer hover:bg-rcgray-600 group",onClick:h[0]||(h[0]=b=>a())},{default:f(()=>[h[4]||(h[4]=u("span",null,"Edit Device",-1)),o(s(de),{class:"group"},{default:f(()=>[o(s(Zi),{size:"16",class:"text-rcgray-400 group-hover:text-rcgray-300"})]),_:1})]),_:1})):D("",!0),e.showEditBtn?(g(),I(s(ue),{key:1,class:"cursor-pointer hover:bg-rcgray-600 group",onClick:h[1]||(h[1]=b=>c())},{default:f(()=>[h[5]||(h[5]=u("span",null,"Clone Device",-1)),o(s(de),null,{default:f(()=>[o(s(Ct),{size:"16",class:"text-rcgray-400 group-hover:text-rcgray-300"})]),_:1})]),_:1})):D("",!0),e.rowData.status===100?(g(),I(s(ue),{key:2,class:"cursor-pointer hover:bg-rcgray-800",onClick:m},{default:f(()=>[h[6]||(h[6]=u("span",null,"Enable",-1)),o(s(de),null,{default:f(()=>[o(s(el),{size:"16",class:"text-green-400"})]),_:1})]),_:1})):D("",!0),e.rowData.status!=100?(g(),I(s(ue),{key:3,class:"cursor-pointer hover:bg-rcgray-800",onClick:d},{default:f(()=>[h[7]||(h[7]=u("span",null,"Disable",-1)),o(s(de),null,{default:f(()=>[o(s(nl),{size:"16",class:"text-red-300"})]),_:1})]),_:1})):D("",!0),e.showEditBtn?(g(),I(s(ue),{key:4,class:"cursor-pointer hover:bg-rcgray-600 group",onClick:h[2]||(h[2]=b=>x())},{default:f(()=>[h[8]||(h[8]=u("span",{class:"text-amber-500 group-hover:text-amber-400"},"Purge Failed Configs",-1)),o(s(de),null,{default:f(()=>[o(s(Ji),{size:"16",class:"text-amber-500 group-hover:text-amber-400"})]),_:1})]),_:1})):D("",!0),e.showEditBtn?(g(),I(s(ut),{key:5})):D("",!0),o(s(ue),{class:"cursor-pointer hover:bg-rcgray-600",onClick:h[3]||(h[3]=b=>r())},{default:f(()=>[h[9]||(h[9]=u("span",{class:"text-red-400"},"Delete",-1)),o(s(de),null,{default:f(()=>[o(s(bi),{size:"16",class:"text-red-500"})]),_:1})]),_:1})]),_:1})]),_:1})])}}};function cs(e,n){const t=_e("appDirPath",null),i=E(null),l=E(null),r=Ci(),a=E(!1),c=E("details"),d=E("notifications"),m=E(null),x=gn(),{copy:p}=ki(),{toastSuccess:h,toastError:v}=Ve(),b=Se(),{openDialog:k}=b,_=E({id:e.editId,label:"",icon:"network-device",isFavorite:!1,route:"/device/view/"+e.editId});J(()=>{C(e.editId),x.panelRef2=m.value,window.addEventListener("keydown",R=>{R.key==="Escape"&&z()}),i&&[...r.favorites].forEach(R=>{R.id===e.editId&&(_.value.isFavorite=!0)}),B()}),ye(()=>{window.removeEventListener("keydown",R=>{R.key==="Escape"&&z()})});function C(R){a.value=!0,ne.get(`/api/devices/${R}`).then(ie=>{i.value?Object.assign(i.value,ie.data):i.value=ie.data,a.value=!1})}function y(){i&&(_.value.id=i.value.id,_.value.label=i.value.device_name,_.value.route=`/device/view/${i.value.id}`,_.value.isFavorite=!_.value.isFavorite,r.toggleFavorite(_.value))}function V(R){R==="details"?c.value="details":R==="comments"?c.value="comments":c.value="details"}function T(R){const M=["notifications","configs"].includes(R)?R:"notifications";d.value=M,localStorage.setItem("DeviceDetailsMainNav",M)}function B(){const R=localStorage.getItem("DeviceDetailsMainNav");R&&["notifications","configs"].includes(R)?d.value=R:d.value="notifications"}function O(){n("close")}function z(){O()}function oe(R){try{p(R),h("Copied","Debug command copied to clipboard")}catch{v("Error","Failed to copy Debug command to clipboard")}}function ce(){l.value="Downloading...",h("Download Queued","Download started for device "+i.value.device_name),ne.post("/api/device/download-now",{device_id:i.value.id}).then(R=>{l.value="Queued...",h("Download Started","Download job for "+i.value.device_name+" was pushed to the queue."),te()}).catch(R=>{l.value="Queued...",v("Error","Failed to start download job for "+i.value.device_name),console.error("Error starting download job:",R)})}function te(){const R=setInterval(function(){ne.get("/api/tracked-jobs/"+i.value.id).then(ie=>{l.value=ie.data.data.status}),l.value==="finished"&&(h("Download Finished","Download finished for device "+i.value.device_name),clearInterval(R),setTimeout(()=>{l.value=null},3e3))},2e3)}function se(){m!=null&&m.value.isCollapsed?m==null||m.value.expand():m==null||m.value.collapse()}return{appDirPath:t,deviceData:i,downloadStatus:l,favoriteItem:_,isLoading:a,leftNavSelected:c,mainNavSelected:d,panelElement2:m,addToFavorites:y,closeNav:se,copyDebug:oe,downloadNow:ce,fetchDevice:C,selectLeftNavView:V,selectMainNavView:T}}const us={class:"flex flex-col flex-1 dark:bg-rcgray-900"},ds={key:0,class:"flex flex-row items-center justify-between h-12 gap-3 pl-4 pr-2"},fs={class:"flex items-center"},ms={class:"text-lg font-semibold rc-text-heading-gradient font-inter ml-2"},ps={class:"flex items-center"},gs={class:"button-container flex flex-row items-center"},vs={key:2,class:"ml-2 text-muted-foreground transition-all duration-300 ease-in-out",style:{"word-wrap":"normal"}},hs={key:3,class:"button-text"},xs={key:1},_s={key:2},ys={key:0,class:"flex items-center justify-center",style:{height:"60vh"}},ws={key:1},bs={__name:"DeviceViewPane",props:{editId:Number},emits:["close"],setup(e,{emit:n}){const t=n,i=e,{deviceData:l,downloadStatus:r,favoriteItem:a,isLoading:c,leftNavSelected:d,mainNavSelected:m,panelElement2:x,appDirPath:p,addToFavorites:h,closeNav:v,copyDebug:b,downloadNow:k,fetchDevice:_,selectLeftNavView:C,selectMainNavView:y}=cs(i,t),{handleSave:V,viewEditDialog:T,showConfirmDelete:B,deleteDevice:O,purgeDeviceConfigs:z,newDeviceModalKey:oe,disableDevice:ce,enableDevice:te}=Bi();We();const se=E(!1);function R(){O(i.editId),t("close")}function ie(){z(i.editId)}function M(){ce(i.editId,!1),setTimeout(()=>{_(i.editId)},300)}function U(){te(i.editId,!1),setTimeout(()=>{_(i.editId)},300)}function pe(){t("close")}return(we,L)=>{const le=F("Button"),X=F("RcIcon"),Be=F("ResizablePanel"),ze=F("ResizableHandle"),Xe=F("ResizablePanelGroup");return g(),w("main",us,[s(l)?(g(),w("div",ds,[u("div",fs,[o(le,{onClick:L[0]||(L[0]=j=>pe()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-600"},{default:f(()=>[o(s(xn),{size:"16",class:"hover:animate-pulse"})]),_:1}),u("span",ms,S(s(l).device_name),1),o(le,{variant:"ghost",class:"h-8 px-2 py-1.5 h-7 ml-2 animated-star",onClick:L[1]||(L[1]=j=>s(h)())},{default:f(()=>[s(a).isFavorite?D("",!0):(g(),I(X,{key:0,name:"star-unselected",class:"text-muted-foreground animated-star"})),s(a).isFavorite?(g(),I(X,{key:1,name:"star-selected",class:"text-muted-foreground animated-star"})):D("",!0)]),_:1})]),u("div",ps,[u("div",gs,[o(q,{delayDuration:50,content:"Copy debug command",side:"bottom"},{trigger:f(()=>[o(le,{class:"h-8 w-4 ml-2",onClick:L[2]||(L[2]=j=>s(b)("cd "+s(p)+" && php artisan rconfig:download-device "+i.editId+" -d")),variant:"outline",title:"Copy debug command"},{default:f(()=>[o(s(ll),{size:"16",class:"button-icon"}),L[14]||(L[14]=u("span",{class:"button-text"},"Copy debug command",-1))]),_:1})]),_:1}),o(q,{delayDuration:50,content:"Download now",side:"bottom"},{trigger:f(()=>[o(le,{class:Pe(s(r)?"h-8 ml-2 min-w-fit transition-all duration-300 ease-in-out":"h-8 ml-2 w-4"),onClick:L[3]||(L[3]=j=>s(k)()),variant:"outline",title:"Download now"},{default:f(()=>[s(r)?(g(),I(_t,{key:0,state:s(r)},null,8,["state"])):D("",!0),s(r)?D("",!0):(g(),I(X,{key:1,name:"folder-download-open",class:"button-icon"})),s(r)?(g(),w("span",vs,S(s(r)),1)):D("",!0),s(r)?D("",!0):(g(),w("span",hs,"Download now"))]),_:1},8,["class"])]),_:1})]),s(l)?(g(),I(rs,{key:0,rowData:s(l),onOnDisable:L[4]||(L[4]=j=>M()),onOnEnable:L[5]||(L[5]=j=>U()),onOnPurge:L[6]||(L[6]=j=>ie()),onOpenDeviceEdit:L[7]||(L[7]=j=>(s(T)(e.editId),se.value=!1)),onOpenDeviceClone:L[8]||(L[8]=j=>(s(T)(e.editId),se.value=!0)),onOnDelete:L[9]||(L[9]=j=>B.value=!0)},null,8,["rowData"])):D("",!0)])])):D("",!0),s(c)?(g(),w("div",xs,[L[15]||(L[15]=u("div",{class:"flex items-center justify-center",style:{height:"60vh"}},null,-1)),o(on,{class:"flex justify-center"})])):(g(),w("div",_s,[o(Xe,{direction:"horizontal"},{default:f(()=>[o(Be,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement2",ref:x,class:"min-h-[100vh] h-full flex flex-col overflow-y-auto"},{default:f(()=>[o(s(Fe),{class:"max-h-[83vh] w-full rounded-md border smooth-scroll overflow-y-auto"},{default:f(()=>[o(Dt,{onCloseNav:s(v),onSelectLeftNavView:s(C),selectedNav:s(d),deviceId:e.editId},null,8,["onCloseNav","onSelectLeftNavView","selectedNav","deviceId"]),s(d)==="details"?(g(),I(Sl,{key:0,class:"p-2 mt-2",isLoading:s(c),data:s(l)},null,8,["isLoading","data"])):D("",!0),s(d)==="details"?(g(),I(Fo,{key:1,class:"p-2",isLoading:s(c),deviceData:s(l)},null,8,["isLoading","deviceData"])):D("",!0)]),_:1})]),_:1},512),o(ze,{"with-handle":""}),o(Be,{class:"min-h-[100vh]"},{default:f(()=>[o(s(Fe),{class:"h-[100vh] w-full rounded-md border"},{default:f(()=>[s(c)?(g(),w("div",ys,[o(on,{class:"flex justify-center"})])):D("",!0),s(c)?D("",!0):(g(),w("div",ws,[o(Rl,{class:"p-2",onSelectMainNavView:s(y),selectedNav:s(m)},null,8,["onSelectMainNavView","selectedNav"]),!s(c)&&s(m)==="notifications"?(g(),I(as,{key:0,class:"p-2",style:{height:"60vh"},deviceId:e.editId},null,8,["deviceId"])):D("",!0),!s(c)&&s(m)==="configs"?(g(),I(to,{key:1,class:"p-2",deviceId:e.editId,style:{height:"60vh"}},null,8,["deviceId"])):D("",!0)]))]),_:1})]),_:1})]),_:1}),(g(),I(zi,{key:s(oe),onClose:L[10]||(L[10]=j=>se.value=!1),onSave:L[11]||(L[11]=j=>{s(V)(),s(_)(e.editId)}),isClone:se.value,editId:e.editId},null,8,["isClone","editId"])),o(Ui,{ids:[e.editId],showConfirmDelete:s(B),onClose:L[12]||(L[12]=j=>B.value=!1),onHandleDelete:L[13]||(L[13]=j=>R())},null,8,["ids","showConfirmDelete"])]))])}}},Cs=st(bs,[["__scopeId","data-v-35543d39"]]),ks={class:"grid gap-0.5 w-full"},Ds={class:"flex justify-between"},As={key:0,class:"flex items-center gap-2 text-xs text-muted-foreground"},$s={key:0,class:"space-y-2"},Ss={key:0,class:"grid gap-3"},Is={class:"grid gap-3"},Es={class:"flex items-center justify-between"},Ns={class:"flex items-center gap-2"},Ts={class:"flex items-center justify-between"},Ls={class:"flex items-center gap-2"},Fs={key:0},Os={key:2},Rs={class:"flex items-center justify-between"},Ms={class:"flex items-center gap-2"},js={class:"flex items-center justify-between"},Ps={class:"flex items-center gap-2"},Vs={key:0},Bs={key:2},zs={class:"flex items-center justify-between"},Ys={class:"flex items-center gap-2"},Hs={key:0},Us={key:2},Gs={class:"flex items-center justify-between"},Ks={class:"flex items-center gap-2"},qs={class:"flex items-center justify-between"},Ws={class:"flex items-center gap-2"},Qs={class:"flex items-center justify-between"},Xs={class:"flex items-center gap-2"},Zs={__name:"ConfigSummaryPanel",props:{isLoading:Boolean,configData:Object},setup(e){const n=_e("formatters");return _n(),(t,i)=>{const l=F("RcIcon"),r=F("Skeleton");return g(),w("div",null,[o(s(pn),{class:"overflow-hidden"},{default:f(()=>[o(s(dn),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:f(()=>[u("div",ks,[o(s(fn),{class:"gap-2 text-lg group"},{default:f(()=>[u("div",Ds,[i[1]||(i[1]=u("div",null,"Config Details",-1)),!e.isLoading&&e.configData?(g(),w("div",As,[i[0]||(i[0]=N(" Download Status: ",-1)),e.configData.download_status===1?(g(),I(l,{key:0,name:"status-green",class:"mr-2"})):e.configData.download_status===0?(g(),I(l,{key:1,name:"status-red",class:"mr-2"})):e.configData.download_status===2?(g(),I(l,{key:2,name:"status-yellow",class:"mr-2"})):D("",!0)])):D("",!0)])]),_:1})])]),_:1}),o(s(mn),{class:"p-4 pt-0 text-sm"},{default:f(()=>[e.isLoading?(g(),w("div",$s,[o(r,{class:"w-1/2 h-4"}),o(r,{class:"w-full h-4"}),o(r,{class:"w-full h-4"}),o(r,{class:"w-full h-4"}),o(r,{class:"w-full h-4"}),o(r,{class:"w-full h-4"}),o(r,{class:"w-full h-4"}),o(r,{class:"w-full h-4"}),o(r,{class:"w-full h-4"})])):D("",!0),o(he,{name:"fade"},{default:f(()=>[!e.isLoading&&e.configData?(g(),w("div",Ss,[u("dl",Is,[u("div",Es,[i[2]||(i[2]=u("dt",{class:"text-muted-foreground"},"Device ID",-1)),u("dd",Ns,S(e.configData.id),1)]),u("div",Ts,[i[3]||(i[3]=u("dt",{class:"text-muted-foreground"},"Device Name",-1)),u("dd",Ls,[e.configData.device_name&&e.configData.device_name.length>15?(g(),w("span",Fs,S(e.configData.device_name.substring(0,15)+"..."),1)):D("",!0),e.configData.device_name&&e.configData.device_name.length>15?(g(),I(q,{key:1,delayDuration:100,content:e.configData.device_name,side:"bottom"},{trigger:f(()=>[o(s(en),{size:"16",class:"text-rcgray-500"})]),_:1},8,["content"])):(g(),w("span",Os,S(e.configData.device_name),1))])]),u("div",Rs,[i[4]||(i[4]=u("dt",{class:"text-muted-foreground"},"Command Group",-1)),u("dd",Ms,S(e.configData.device_category),1)]),u("div",js,[i[5]||(i[5]=u("dt",{class:"text-muted-foreground"},"Command",-1)),u("dd",Ps,[e.configData.command&&e.configData.command.length>15?(g(),w("span",Vs,S(e.configData.command.substring(0,15)+"..."),1)):D("",!0),e.configData.command&&e.configData.command.length>15?(g(),I(q,{key:1,delayDuration:100,content:e.configData.command,side:"bottom"},{trigger:f(()=>[o(s(en),{size:"16",class:"text-rcgray-500"})]),_:1},8,["content"])):(g(),w("span",Bs,S(e.configData.command),1))])]),u("div",zs,[i[6]||(i[6]=u("dt",{class:"text-muted-foreground"},"Filename",-1)),u("dd",Ys,[e.configData.config_filename&&e.configData.config_filename.length>15?(g(),w("span",Hs,S(e.configData.config_filename.substring(0,15)+"..."),1)):D("",!0),e.configData.config_filename&&e.configData.config_filename.length>15?(g(),I(q,{key:1,delayDuration:100,content:e.configData.config_filename,side:"bottom"},{trigger:f(()=>[o(s(en),{size:"16",class:"text-rcgray-500"})]),_:1},8,["content"])):(g(),w("span",Us,S(e.configData.config_filename),1))])]),u("div",Gs,[i[7]||(i[7]=u("dt",{class:"text-muted-foreground"},"File Size",-1)),u("dd",Ks,S(s(n).formatFileSize(e.configData.config_filesize)),1)]),u("div",qs,[i[8]||(i[8]=u("dt",{class:"text-muted-foreground"},"Duration",-1)),u("dd",Ws,S(s(n).formatDuration(e.configData.start_time,e.configData.end_time)),1)]),u("div",Qs,[i[9]||(i[9]=u("dt",{class:"text-muted-foreground"},"Created",-1)),u("dd",Xs,S(s(n).formatTime(e.configData.created_at)),1)])])])):D("",!0)]),_:1})]),_:1})]),_:1})])}}};function Js(e){const{toastError:n}=Ve(),t=E([]),i=E(""),l=E(""),r=ft(),{openSheet:a}=r,c=E(null);function d(v){v.updateOptions({value:"Something went wrong - could not retrieve the configuration from the file system!"}),n("Error","Something went wrong - could not retrieve the configuration from the file system!")}async function m(v,b){var k,_;try{c.value=b;const{data:C}=await ne.get(`/api/configs/view-config/${v}`),y=((k=C==null?void 0:C.data)==null?void 0:k.content)??"",V=((_=C==null?void 0:C.data)==null?void 0:_.config_location)??null;if(i.value=V||"No file location provided",b.getModel().setValue(y||"No content available."),V){const T=p(V);switch(l.value=h(T),l.value){case"json":b.getModel().setLanguage("javascript");break;case"xml":b.getModel().setLanguage("xml");break;case"yaml":case"yml":b.getModel().setLanguage("yaml");break;default:b.getModel().setLanguage("plaintext");break}}else b.getModel().setLanguage("plaintext")}catch(C){console.error("Failed to load config:",C),b.updateOptions({value:"⚠️ Error: Unable to retrieve configuration from file system.",language:"plaintext"}),n("Error","Could not load the configuration. Please try again or check the logs.")}}function x(v,b){v.ctrlKey&&v.key==="Enter"&&b()}J(async()=>{window.addEventListener("keydown",v=>x(v,()=>saveDialog(e.configId,model,null,emit,()=>emit("close"))))}),ye(()=>{window.removeEventListener("keydown",x)});function p(v){if(!v)return"";const b=v.split(/[/\\]/);return b[b.length-1]}function h(v){return v.includes(".")?v.split(".").pop().toLowerCase():""}return{config_location:i,errors:t,getDefaultEditorCode:d,handleKeyDown:x,showConfiguration:m,openSheet:a}}const ea={class:"p-0 overflow-none"},na={key:0,class:"mt-4 space-y-2"},ta={key:1,class:"space-y-4"},ia={class:"p-0"},la={class:"flex flex-col"},oa={class:"flex items-center px-2 mb-1"},sa={class:"flex items-center gap-1"},aa={class:"flex items-center"},ra={class:"flex items-center gap-1 text-lg font-semibold rc-text-heading-gradient font-inter"},ca={class:"flex items-center gap-2 ml-auto"},ua={__name:"ConfigViewMainPanel",props:{configId:Number,selectedConfigVersion:Number,deviceId:Number,deviceName:String},setup(e){const n=e;let t=null;const i=Se(),{openDialog:l,isDialogOpen:r}=i,a=ft(),{openSheet:c,isSheetOpen:d}=a,{activeCopyIcon:m,isDownloaded:x,checkDarkModeIsSet:p,checkLineNumbersIsSet:h,checkMiniMapIsSet:v,checkStickyScrollIsSet:b,copyContent:k,copyPath:_,download:C,initEditor:y,toggleEditorDarkMode:V,toggleEditorLineNumbers:T,toggleEditorMinimap:B}=pt(ji),{config_location:O,getDefaultEditorCode:z,showConfiguration:oe}=Js(n),ce=E(!1),te=E([]);J(()=>{se(),R()}),ye(()=>{t&&t.dispose()});function se(){p()&&te.value.push("dark"),h()&&te.value.push("lineNumbers"),v()&&te.value.push("minimap"),b()&&te.value.push("stickyscroll")}function R(){t=y("code-editor__code-pre","rconfig"),n.configId===0?z(t):oe(n.configId,t)}return(ie,M)=>{const U=F("Skeleton"),pe=F("RcIcon"),we=F("Button"),L=F("Separator"),le=F("RcBadge");return g(),w("div",null,[u("div",ea,[ce.value?(g(),w("div",na,[o(U,{class:"w-1/2 h-4"}),o(U,{class:"w-full h-4"}),o(U,{class:"w-full h-4"}),o(U,{class:"w-full h-4"}),o(U,{class:"w-full h-4"}),o(U,{class:"w-full h-4"}),o(U,{class:"w-full h-4"}),o(U,{class:"w-full h-4"}),o(U,{class:"w-full h-4"})])):D("",!0),ce.value?D("",!0):(g(),w("div",ta,[u("div",ia,[u("div",la,[u("div",oa,[M[8]||(M[8]=u("div",{class:"flex items-center gap-2"},null,-1)),u("div",sa,[o(q,{delayDuration:100,content:"Copy Config Path",side:"bottom"},{trigger:f(()=>[o(we,{variant:"ghost",onClick:M[0]||(M[0]=X=>s(_)(s(O))),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(pe,{name:"copy-file-transition",isActive:s(m).getPath,size:16},null,8,["isActive"])]),_:1})]),_:1}),o(q,{delayDuration:100,content:"Copy Config",side:"bottom"},{trigger:f(()=>[o(we,{variant:"ghost",onClick:M[1]||(M[1]=X=>s(k)(s(t).getValue())),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(pe,{name:"copy-transition",isActive:s(m).getValue,size:16},null,8,["isActive"])]),_:1})]),_:1}),o(q,{delayDuration:100,content:"Download Configs",side:"bottom"},{trigger:f(()=>[o(we,{variant:"ghost",onClick:M[2]||(M[2]=X=>s(C)(s(O))),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(pe,{name:"copy-download-transition",isActive:s(x),size:16},null,8,["isActive"])]),_:1})]),_:1})]),o(L,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),u("div",aa,[u("span",ra,[M[7]||(M[7]=N(" Config ID: ",-1)),o(le,{variant:"info"},{default:f(()=>[N(S(n.configId),1)]),_:1})]),o(L,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"})]),u("div",ca,[o(s(Ye),null,{default:f(()=>[o(s(kt),{modelValue:te.value,"onUpdate:modelValue":M[6]||(M[6]=X=>te.value=X),type:"multiple"},{default:f(()=>[o(s(Ae),{value:"dark",onClick:M[3]||(M[3]=X=>s(V)()),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(q,{delayDuration:100,content:"Toggle Dark Mode",side:"bottom"},{trigger:f(()=>[o(s(yt),{size:"16",class:"focus:outline-none"})]),_:1})]),_:1}),o(s(Ae),{value:"lineNumbers",onClick:M[4]||(M[4]=X=>s(T)()),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(q,{delayDuration:100,content:"Toggle Line Numbers",side:"bottom"},{trigger:f(()=>[o(s(wt),{size:"16",class:"focus:outline-none"})]),_:1})]),_:1}),o(s(Ae),{value:"minimap",onClick:M[5]||(M[5]=X=>s(B)()),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(q,{delayDuration:100,content:"Toggle Map",side:"bottom"},{trigger:f(()=>[o(s(bt),{size:"16",class:"focus:outline-none"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),o(L,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),M[9]||(M[9]=u("span",null,"CONFIG",-1))]),o(L,{class:"relative w-full h-px shrink-0 bg-border"})]),M[10]||(M[10]=u("div",{class:"code-editor__code-pre",id:"code-editor__code-pre",style:{height:"calc(100vh - 237px)"}},null,-1))])]))])])}}},da={__name:"ConfigViewPaneDropdown",props:{editId:{type:Number,required:!0},showDelete:{type:Boolean,default:!0}},emits:["onDelete","onPurge"],setup(e,{emit:n}){const t=n,{copyItem:i}=_n(),{toastSuccess:l}=Ve(),r=e;function a(){t("onDelete")}function c(){i("",r.editId),l("Success","Copied to clipboard")}return(d,m)=>{const x=F("Button");return g(),w("div",null,[o(s(dt),null,{default:f(()=>[o(s(at),{"as-child":""},{default:f(()=>[o(x,{variant:"ghost",class:"h-8 ml-2"},{default:f(()=>[o(s(rt),{size:"16"})]),_:1})]),_:1}),o(s(ct),{class:"w-56",align:"end",side:"bottom"},{default:f(()=>[o(s(ue),{class:"cursor-pointer hover:bg-rcgray-600",onClick:m[0]||(m[0]=p=>c())},{default:f(()=>[m[2]||(m[2]=u("span",null,"Copy ID",-1)),o(s(de),null,{default:f(()=>[o(s(Ct),{size:"16"})]),_:1})]),_:1}),e.showDelete?(g(),I(s(ut),{key:0})):D("",!0),e.showDelete?(g(),I(s(ue),{key:1,class:"cursor-pointer hover:bg-rcgray-600",onClick:m[1]||(m[1]=p=>a())},{default:f(()=>[m[3]||(m[3]=u("span",{class:"text-red-400"},"Delete",-1)),o(s(de),null,{default:f(()=>[o(s(Gi),{size:"16",class:"text-red-400"})]),_:1})]),_:1})):D("",!0)]),_:1})]),_:1})])}}};function fa(e,n){const t=E(null),i=E(!1),l=E(null),r=E("details"),a=gn(),{toastError:c}=Ve();J(()=>{d(),a.panelRef2=l.value,window.addEventListener("keydown",v=>{v.key==="Escape"&&x()})}),ye(()=>{window.removeEventListener("keydown",v=>{v.key==="Escape"&&x()})});function d(){ne.get(`/api/configs/${e.configId}`).then(v=>{t.value=v.data,i.value=!1}).catch(v=>{console.error(v),c("Error","Something went wrong - could not retrieve the configuration from the file system!")})}function m(){n("close")}function x(){m()}function p(){l!=null&&l.value.isCollapsed?l==null||l.value.expand():l==null||l.value.collapse()}function h(v){r.value=v}return{configData:t,isLoading:i,panelElement2:l,leftNavSelected:r,closeNav:p,selectLeftNavView:h}}const ma={class:"flex flex-col flex-1 dark:bg-rcgray-900"},pa={class:"flex flex-row items-center justify-between h-12 gap-3 pl-4 pr-2"},ga={key:0,class:"flex items-center"},va={class:"text-lg font-semibold rc-text-heading-gradient font-inter ml-2"},ha={class:"flex items-center"},xa={class:""},_a={key:0,class:"flex items-center justify-center",style:{height:"60vh"}},ya={__name:"ConfigViewPane",props:{configId:[String,Number]},emits:["close"],setup(e,{emit:n}){const t=n,i=e,{configData:l,isLoading:r,panelElement2:a,leftNavSelected:c,closeNav:d,selectLeftNavView:m}=fa(i,t),{deleteConfig:x}=Pi(i),p=E(i.configId),h=E(!1);E(null);const v=E(null);function b(){x(i.configId),t("close")}function k(){t("close")}return(_,C)=>{const y=F("Button");return g(),w("main",ma,[u("div",pa,[s(l)?(g(),w("div",ga,[o(y,{onClick:C[0]||(C[0]=V=>k()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-600"},{default:f(()=>[o(s(xn),{size:"16",class:"hover:animate-pulse"})]),_:1}),u("span",va,S(s(l).config_filename),1)])):D("",!0),u("div",ha,[o(da,{editId:e.configId,onOnDelete:C[1]||(C[1]=V=>b())},null,8,["editId"])])]),u("div",xa,[o(s(Ai),{direction:"horizontal",class:""},{default:f(()=>[o(s(Tn),{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement2",ref:a,class:"min-h-[100vh] h-full flex flex-col overflow-y-auto"},{default:f(()=>[o(s(Fe),{class:"max-h-[83vh] w-full rounded-md border smooth-scroll overflow-y-auto"},{default:f(()=>[o(Dt,{onCloseNav:s(d),onSelectLeftNavView:s(m),selectedNav:s(c),deviceId:e.configId,context:"config"},null,8,["onCloseNav","onSelectLeftNavView","selectedNav","deviceId"]),s(c)==="details"?(g(),I(Zs,{key:0,class:"p-2",isLoading:s(r),configData:s(l)},null,8,["isLoading","configData"])):D("",!0)]),_:1})]),_:1},512),o(s(Di),{"with-handle":""}),o(s(Tn),{class:"min-h-[100vh] border-t"},{default:f(()=>[o(s(Fe),{class:"h-full border border-none rounded-md"},{default:f(()=>[s(r)?(g(),w("div",_a,[o(on,{class:"flex justify-center"})])):D("",!0),!s(r)&&s(l)&&!h.value?(g(),I(ua,{class:"p-2",deviceId:s(l).device_id,deviceName:s(l).device_name,configId:p.value,selectedConfigVersion:v.value,key:p.value,style:{height:"60vh"}},null,8,["deviceId","deviceName","configId","selectedConfigVersion"])):D("",!0)]),_:1})]),_:1})]),_:1})])])}}},wa={class:"grid gap-2 py-4"},ba={class:"grid items-center grid-cols-4 gap-4"},Ca={class:"grid items-center grid-cols-4 gap-4"},ka={key:0,class:"flex flex-col w-full space-y-2 text-sm text-muted-foreground"},Da={class:"pl-2 ml-auto"},Aa={class:"rc-kdb-class2"},$a={__name:"TemplateImportDialog",props:{editId:Number},emits:["setTemplateCode"],setup(e,{emit:n}){const{importingTemplates:t,getTemplateRepoFolders:i,vendorTemplateOptions:l,vendorOptionSelected:r,showFileOptions:a,listedFiles:c,fileOptionSelected:d,selectedTemplateCode:m}=gt(),x=Se(),{closeDialog:p,isDialogOpen:h}=x,v=n;E([]),E({});function b(_){_.ctrlKey&&_.key==="Enter"&&k()}J(()=>{i(),window.addEventListener("keydown",b)}),ye(()=>{window.removeEventListener("keydown",b)});function k(){v("setTemplateCode",m)}return(_,C)=>{const y=F("Button"),V=F("RcIcon");return g(),I(s(Li),{open:s(h)("DialogTemplateImport")},{default:f(()=>[o(s($i),{"as-child":""}),o(s(Si),{class:"w-full",onEscapeKeyDown:C[4]||(C[4]=T=>s(p)("DialogTemplateImport")),onPointerDownOutside:C[5]||(C[5]=T=>s(p)("DialogTemplateImport")),onCloseClicked:C[6]||(C[6]=T=>s(p)("DialogTemplateImport"))},{default:f(()=>[o(s(Ii),null,{default:f(()=>[o(s(Ei),null,{default:f(()=>[...C[7]||(C[7]=[N("Import Template from GitHub",-1)])]),_:1}),o(s(Ni),null,{default:f(()=>[...C[8]||(C[8]=[N("Choose a vendor and template file to import",-1)])]),_:1})]),_:1}),u("div",wa,[u("div",ba,[o(s(On),{modelValue:s(r),"onUpdate:modelValue":C[0]||(C[0]=T=>Ln(r)?r.value=T:null)},{default:f(()=>[o(s(Rn),{className:"w-[280px] flex h-9 items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start w-[180px]"},{default:f(()=>[o(s(Mn),{placeholder:"Select a vendor"})]),_:1}),o(s(jn),{position:"popper"},{default:f(()=>[o(s(Vn),null,{default:f(()=>[o(_t,{state:s(t),class:"items-center"},null,8,["state"]),(g(!0),w(Te,null,Le(s(l).data,T=>(g(),I(s(Pn),{key:T.name,value:T.path.toString()},{default:f(()=>[N(S(T.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),u("div",Ca,[s(a)?(g(),I(s(On),{key:0,modelValue:s(d),"onUpdate:modelValue":C[1]||(C[1]=T=>Ln(d)?d.value=T:null)},{default:f(()=>[o(s(Rn),{className:"w-[280px] flex h-9 items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start w-[180px]"},{default:f(()=>[o(s(Mn),{placeholder:"Select a template file"})]),_:1}),o(s(jn),{position:"popper"},{default:f(()=>[o(s(Vn),null,{default:f(()=>[(g(!0),w(Te,null,Le(s(c).data,T=>(g(),I(s(Pn),{key:T.name,value:T.path.toString()},{default:f(()=>[N(S(T.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])):D("",!0)])]),s(d)?(g(),w("div",ka," Click Apply to load the template into the editor ")):D("",!0),o(s(Ti),null,{default:f(()=>[o(y,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:C[2]||(C[2]=T=>s(p)("DialogTemplateImport")),size:"sm"},{default:f(()=>[...C[9]||(C[9]=[N(" Close ",-1),u("div",{class:"pl-2 ml-auto"},[u("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1}),s(m)?(g(),I(y,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:C[3]||(C[3]=T=>k()),variant:"primary"},{default:f(()=>[C[11]||(C[11]=N(" Apply ",-1)),u("div",Da,[u("kbd",Aa,[C[10]||(C[10]=N(" Ctrl  ",-1)),o(V,{name:"enter",class:"ml-1"})])])]),_:1})):D("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function At(e){return typeof e>"u"||e===null}function Sa(e){return typeof e=="object"&&e!==null}function Ia(e){return Array.isArray(e)?e:At(e)?[]:[e]}function Ea(e,n){var t,i,l,r;if(n)for(r=Object.keys(n),t=0,i=r.length;t<i;t+=1)l=r[t],e[l]=n[l];return e}function Na(e,n){var t="",i;for(i=0;i<n;i+=1)t+=e;return t}function Ta(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var La=At,Fa=Sa,Oa=Ia,Ra=Na,Ma=Ta,ja=Ea,H={isNothing:La,isObject:Fa,toArray:Oa,repeat:Ra,isNegativeZero:Ma,extend:ja};function $t(e,n){var t="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(t+='in "'+e.mark.name+'" '),t+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(t+=`

`+e.mark.snippet),i+" "+t):i}function Oe(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=$t(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Oe.prototype=Object.create(Error.prototype);Oe.prototype.constructor=Oe;Oe.prototype.toString=function(n){return this.name+": "+$t(this,n)};var Q=Oe;function nn(e,n,t,i,l){var r="",a="",c=Math.floor(l/2)-1;return i-n>c&&(r=" ... ",n=i-c+r.length),t-i>c&&(a=" ...",t=i+c-a.length),{str:r+e.slice(n,t).replace(/\t/g,"→")+a,pos:i-n+r.length}}function tn(e,n){return H.repeat(" ",n-e.length)+e}function Pa(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],l=[],r,a=-1;r=t.exec(e.buffer);)l.push(r.index),i.push(r.index+r[0].length),e.position<=r.index&&a<0&&(a=i.length-2);a<0&&(a=i.length-1);var c="",d,m,x=Math.min(e.line+n.linesAfter,l.length).toString().length,p=n.maxLength-(n.indent+x+3);for(d=1;d<=n.linesBefore&&!(a-d<0);d++)m=nn(e.buffer,i[a-d],l[a-d],e.position-(i[a]-i[a-d]),p),c=H.repeat(" ",n.indent)+tn((e.line-d+1).toString(),x)+" | "+m.str+`
`+c;for(m=nn(e.buffer,i[a],l[a],e.position,p),c+=H.repeat(" ",n.indent)+tn((e.line+1).toString(),x)+" | "+m.str+`
`,c+=H.repeat("-",n.indent+x+3+m.pos)+`^
`,d=1;d<=n.linesAfter&&!(a+d>=l.length);d++)m=nn(e.buffer,i[a+d],l[a+d],e.position-(i[a]-i[a+d]),p),c+=H.repeat(" ",n.indent)+tn((e.line+d+1).toString(),x)+" | "+m.str+`
`;return c.replace(/\n$/,"")}var Va=Pa,Ba=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],za=["scalar","sequence","mapping"];function Ya(e){var n={};return e!==null&&Object.keys(e).forEach(function(t){e[t].forEach(function(i){n[String(i)]=t})}),n}function Ha(e,n){if(n=n||{},Object.keys(n).forEach(function(t){if(Ba.indexOf(t)===-1)throw new Q('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(t){return t},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Ya(n.styleAliases||null),za.indexOf(this.kind)===-1)throw new Q('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var G=Ha;function zn(e,n){var t=[];return e[n].forEach(function(i){var l=t.length;t.forEach(function(r,a){r.tag===i.tag&&r.kind===i.kind&&r.multi===i.multi&&(l=a)}),t[l]=i}),t}function Ua(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,t;function i(l){l.multi?(e.multi[l.kind].push(l),e.multi.fallback.push(l)):e[l.kind][l.tag]=e.fallback[l.tag]=l}for(n=0,t=arguments.length;n<t;n+=1)arguments[n].forEach(i);return e}function sn(e){return this.extend(e)}sn.prototype.extend=function(n){var t=[],i=[];if(n instanceof G)i.push(n);else if(Array.isArray(n))i=i.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(t=t.concat(n.implicit)),n.explicit&&(i=i.concat(n.explicit));else throw new Q("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(r){if(!(r instanceof G))throw new Q("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(r.loadKind&&r.loadKind!=="scalar")throw new Q("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(r.multi)throw new Q("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(r){if(!(r instanceof G))throw new Q("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(sn.prototype);return l.implicit=(this.implicit||[]).concat(t),l.explicit=(this.explicit||[]).concat(i),l.compiledImplicit=zn(l,"implicit"),l.compiledExplicit=zn(l,"explicit"),l.compiledTypeMap=Ua(l.compiledImplicit,l.compiledExplicit),l};var St=sn,It=new G("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Et=new G("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Nt=new G("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Tt=new St({explicit:[It,Et,Nt]});function Ga(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Ka(){return null}function qa(e){return e===null}var Lt=new G("tag:yaml.org,2002:null",{kind:"scalar",resolve:Ga,construct:Ka,predicate:qa,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Wa(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function Qa(e){return e==="true"||e==="True"||e==="TRUE"}function Xa(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Ft=new G("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Wa,construct:Qa,predicate:Xa,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Za(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ja(e){return 48<=e&&e<=55}function er(e){return 48<=e&&e<=57}function nr(e){if(e===null)return!1;var n=e.length,t=0,i=!1,l;if(!n)return!1;if(l=e[t],(l==="-"||l==="+")&&(l=e[++t]),l==="0"){if(t+1===n)return!0;if(l=e[++t],l==="b"){for(t++;t<n;t++)if(l=e[t],l!=="_"){if(l!=="0"&&l!=="1")return!1;i=!0}return i&&l!=="_"}if(l==="x"){for(t++;t<n;t++)if(l=e[t],l!=="_"){if(!Za(e.charCodeAt(t)))return!1;i=!0}return i&&l!=="_"}if(l==="o"){for(t++;t<n;t++)if(l=e[t],l!=="_"){if(!Ja(e.charCodeAt(t)))return!1;i=!0}return i&&l!=="_"}}if(l==="_")return!1;for(;t<n;t++)if(l=e[t],l!=="_"){if(!er(e.charCodeAt(t)))return!1;i=!0}return!(!i||l==="_")}function tr(e){var n=e,t=1,i;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),i=n[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),n=n.slice(1),i=n[0]),n==="0")return 0;if(i==="0"){if(n[1]==="b")return t*parseInt(n.slice(2),2);if(n[1]==="x")return t*parseInt(n.slice(2),16);if(n[1]==="o")return t*parseInt(n.slice(2),8)}return t*parseInt(n,10)}function ir(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!H.isNegativeZero(e)}var Ot=new G("tag:yaml.org,2002:int",{kind:"scalar",resolve:nr,construct:tr,predicate:ir,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),lr=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function or(e){return!(e===null||!lr.test(e)||e[e.length-1]==="_")}function sr(e){var n,t;return n=e.replace(/_/g,"").toLowerCase(),t=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:t*parseFloat(n,10)}var ar=/^[-+]?[0-9]+e/;function rr(e,n){var t;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(H.isNegativeZero(e))return"-0.0";return t=e.toString(10),ar.test(t)?t.replace("e",".e"):t}function cr(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||H.isNegativeZero(e))}var Rt=new G("tag:yaml.org,2002:float",{kind:"scalar",resolve:or,construct:sr,predicate:cr,represent:rr,defaultStyle:"lowercase"}),Mt=Tt.extend({implicit:[Lt,Ft,Ot,Rt]}),jt=Mt,Pt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Vt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ur(e){return e===null?!1:Pt.exec(e)!==null||Vt.exec(e)!==null}function dr(e){var n,t,i,l,r,a,c,d=0,m=null,x,p,h;if(n=Pt.exec(e),n===null&&(n=Vt.exec(e)),n===null)throw new Error("Date resolve error");if(t=+n[1],i=+n[2]-1,l=+n[3],!n[4])return new Date(Date.UTC(t,i,l));if(r=+n[4],a=+n[5],c=+n[6],n[7]){for(d=n[7].slice(0,3);d.length<3;)d+="0";d=+d}return n[9]&&(x=+n[10],p=+(n[11]||0),m=(x*60+p)*6e4,n[9]==="-"&&(m=-m)),h=new Date(Date.UTC(t,i,l,r,a,c,d)),m&&h.setTime(h.getTime()-m),h}function fr(e){return e.toISOString()}var Bt=new G("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ur,construct:dr,instanceOf:Date,represent:fr});function mr(e){return e==="<<"||e===null}var zt=new G("tag:yaml.org,2002:merge",{kind:"scalar",resolve:mr}),yn=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function pr(e){if(e===null)return!1;var n,t,i=0,l=e.length,r=yn;for(t=0;t<l;t++)if(n=r.indexOf(e.charAt(t)),!(n>64)){if(n<0)return!1;i+=6}return i%8===0}function gr(e){var n,t,i=e.replace(/[\r\n=]/g,""),l=i.length,r=yn,a=0,c=[];for(n=0;n<l;n++)n%4===0&&n&&(c.push(a>>16&255),c.push(a>>8&255),c.push(a&255)),a=a<<6|r.indexOf(i.charAt(n));return t=l%4*6,t===0?(c.push(a>>16&255),c.push(a>>8&255),c.push(a&255)):t===18?(c.push(a>>10&255),c.push(a>>2&255)):t===12&&c.push(a>>4&255),new Uint8Array(c)}function vr(e){var n="",t=0,i,l,r=e.length,a=yn;for(i=0;i<r;i++)i%3===0&&i&&(n+=a[t>>18&63],n+=a[t>>12&63],n+=a[t>>6&63],n+=a[t&63]),t=(t<<8)+e[i];return l=r%3,l===0?(n+=a[t>>18&63],n+=a[t>>12&63],n+=a[t>>6&63],n+=a[t&63]):l===2?(n+=a[t>>10&63],n+=a[t>>4&63],n+=a[t<<2&63],n+=a[64]):l===1&&(n+=a[t>>2&63],n+=a[t<<4&63],n+=a[64],n+=a[64]),n}function hr(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Yt=new G("tag:yaml.org,2002:binary",{kind:"scalar",resolve:pr,construct:gr,predicate:hr,represent:vr}),xr=Object.prototype.hasOwnProperty,_r=Object.prototype.toString;function yr(e){if(e===null)return!0;var n=[],t,i,l,r,a,c=e;for(t=0,i=c.length;t<i;t+=1){if(l=c[t],a=!1,_r.call(l)!=="[object Object]")return!1;for(r in l)if(xr.call(l,r))if(!a)a=!0;else return!1;if(!a)return!1;if(n.indexOf(r)===-1)n.push(r);else return!1}return!0}function wr(e){return e!==null?e:[]}var Ht=new G("tag:yaml.org,2002:omap",{kind:"sequence",resolve:yr,construct:wr}),br=Object.prototype.toString;function Cr(e){if(e===null)return!0;var n,t,i,l,r,a=e;for(r=new Array(a.length),n=0,t=a.length;n<t;n+=1){if(i=a[n],br.call(i)!=="[object Object]"||(l=Object.keys(i),l.length!==1))return!1;r[n]=[l[0],i[l[0]]]}return!0}function kr(e){if(e===null)return[];var n,t,i,l,r,a=e;for(r=new Array(a.length),n=0,t=a.length;n<t;n+=1)i=a[n],l=Object.keys(i),r[n]=[l[0],i[l[0]]];return r}var Ut=new G("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Cr,construct:kr}),Dr=Object.prototype.hasOwnProperty;function Ar(e){if(e===null)return!0;var n,t=e;for(n in t)if(Dr.call(t,n)&&t[n]!==null)return!1;return!0}function $r(e){return e!==null?e:{}}var Gt=new G("tag:yaml.org,2002:set",{kind:"mapping",resolve:Ar,construct:$r}),wn=jt.extend({implicit:[Bt,zt],explicit:[Yt,Ht,Ut,Gt]}),me=Object.prototype.hasOwnProperty,He=1,Kt=2,qt=3,Ue=4,ln=1,Sr=2,Yn=3,Ir=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Er=/[\x85\u2028\u2029]/,Nr=/[,\[\]\{\}]/,Wt=/^(?:!|!!|![a-z\-]+!)$/i,Qt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Hn(e){return Object.prototype.toString.call(e)}function ae(e){return e===10||e===13}function xe(e){return e===9||e===32}function Z(e){return e===9||e===32||e===10||e===13}function ke(e){return e===44||e===91||e===93||e===123||e===125}function Tr(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function Lr(e){return e===120?2:e===117?4:e===85?8:0}function Fr(e){return 48<=e&&e<=57?e-48:-1}function Un(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Or(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Xt=new Array(256),Zt=new Array(256);for(var be=0;be<256;be++)Xt[be]=Un(be)?1:0,Zt[be]=Un(be);function Rr(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||wn,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Jt(e,n){var t={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return t.snippet=Va(t),new Q(n,t)}function $(e,n){throw Jt(e,n)}function Ge(e,n){e.onWarning&&e.onWarning.call(null,Jt(e,n))}var Gn={YAML:function(n,t,i){var l,r,a;n.version!==null&&$(n,"duplication of %YAML directive"),i.length!==1&&$(n,"YAML directive accepts exactly one argument"),l=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),l===null&&$(n,"ill-formed argument of the YAML directive"),r=parseInt(l[1],10),a=parseInt(l[2],10),r!==1&&$(n,"unacceptable YAML version of the document"),n.version=i[0],n.checkLineBreaks=a<2,a!==1&&a!==2&&Ge(n,"unsupported YAML version of the document")},TAG:function(n,t,i){var l,r;i.length!==2&&$(n,"TAG directive accepts exactly two arguments"),l=i[0],r=i[1],Wt.test(l)||$(n,"ill-formed tag handle (first argument) of the TAG directive"),me.call(n.tagMap,l)&&$(n,'there is a previously declared suffix for "'+l+'" tag handle'),Qt.test(r)||$(n,"ill-formed tag prefix (second argument) of the TAG directive");try{r=decodeURIComponent(r)}catch{$(n,"tag prefix is malformed: "+r)}n.tagMap[l]=r}};function fe(e,n,t,i){var l,r,a,c;if(n<t){if(c=e.input.slice(n,t),i)for(l=0,r=c.length;l<r;l+=1)a=c.charCodeAt(l),a===9||32<=a&&a<=1114111||$(e,"expected valid JSON character");else Ir.test(c)&&$(e,"the stream contains non-printable characters");e.result+=c}}function Kn(e,n,t,i){var l,r,a,c;for(H.isObject(t)||$(e,"cannot merge mappings; the provided source object is unacceptable"),l=Object.keys(t),a=0,c=l.length;a<c;a+=1)r=l[a],me.call(n,r)||(n[r]=t[r],i[r]=!0)}function De(e,n,t,i,l,r,a,c,d){var m,x;if(Array.isArray(l))for(l=Array.prototype.slice.call(l),m=0,x=l.length;m<x;m+=1)Array.isArray(l[m])&&$(e,"nested arrays are not supported inside keys"),typeof l=="object"&&Hn(l[m])==="[object Object]"&&(l[m]="[object Object]");if(typeof l=="object"&&Hn(l)==="[object Object]"&&(l="[object Object]"),l=String(l),n===null&&(n={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(r))for(m=0,x=r.length;m<x;m+=1)Kn(e,n,r[m],t);else Kn(e,n,r,t);else!e.json&&!me.call(t,l)&&me.call(n,l)&&(e.line=a||e.line,e.lineStart=c||e.lineStart,e.position=d||e.position,$(e,"duplicated mapping key")),l==="__proto__"?Object.defineProperty(n,l,{configurable:!0,enumerable:!0,writable:!0,value:r}):n[l]=r,delete t[l];return n}function bn(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):$(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Y(e,n,t){for(var i=0,l=e.input.charCodeAt(e.position);l!==0;){for(;xe(l);)l===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),l=e.input.charCodeAt(++e.position);if(n&&l===35)do l=e.input.charCodeAt(++e.position);while(l!==10&&l!==13&&l!==0);if(ae(l))for(bn(e),l=e.input.charCodeAt(e.position),i++,e.lineIndent=0;l===32;)e.lineIndent++,l=e.input.charCodeAt(++e.position);else break}return t!==-1&&i!==0&&e.lineIndent<t&&Ge(e,"deficient indentation"),i}function Qe(e){var n=e.position,t;return t=e.input.charCodeAt(n),!!((t===45||t===46)&&t===e.input.charCodeAt(n+1)&&t===e.input.charCodeAt(n+2)&&(n+=3,t=e.input.charCodeAt(n),t===0||Z(t)))}function Cn(e,n){n===1?e.result+=" ":n>1&&(e.result+=H.repeat(`
`,n-1))}function Mr(e,n,t){var i,l,r,a,c,d,m,x,p=e.kind,h=e.result,v;if(v=e.input.charCodeAt(e.position),Z(v)||ke(v)||v===35||v===38||v===42||v===33||v===124||v===62||v===39||v===34||v===37||v===64||v===96||(v===63||v===45)&&(l=e.input.charCodeAt(e.position+1),Z(l)||t&&ke(l)))return!1;for(e.kind="scalar",e.result="",r=a=e.position,c=!1;v!==0;){if(v===58){if(l=e.input.charCodeAt(e.position+1),Z(l)||t&&ke(l))break}else if(v===35){if(i=e.input.charCodeAt(e.position-1),Z(i))break}else{if(e.position===e.lineStart&&Qe(e)||t&&ke(v))break;if(ae(v))if(d=e.line,m=e.lineStart,x=e.lineIndent,Y(e,!1,-1),e.lineIndent>=n){c=!0,v=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=d,e.lineStart=m,e.lineIndent=x;break}}c&&(fe(e,r,a,!1),Cn(e,e.line-d),r=a=e.position,c=!1),xe(v)||(a=e.position+1),v=e.input.charCodeAt(++e.position)}return fe(e,r,a,!1),e.result?!0:(e.kind=p,e.result=h,!1)}function jr(e,n){var t,i,l;if(t=e.input.charCodeAt(e.position),t!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=l=e.position;(t=e.input.charCodeAt(e.position))!==0;)if(t===39)if(fe(e,i,e.position,!0),t=e.input.charCodeAt(++e.position),t===39)i=e.position,e.position++,l=e.position;else return!0;else ae(t)?(fe(e,i,l,!0),Cn(e,Y(e,!1,n)),i=l=e.position):e.position===e.lineStart&&Qe(e)?$(e,"unexpected end of the document within a single quoted scalar"):(e.position++,l=e.position);$(e,"unexpected end of the stream within a single quoted scalar")}function Pr(e,n){var t,i,l,r,a,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,t=i=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return fe(e,t,e.position,!0),e.position++,!0;if(c===92){if(fe(e,t,e.position,!0),c=e.input.charCodeAt(++e.position),ae(c))Y(e,!1,n);else if(c<256&&Xt[c])e.result+=Zt[c],e.position++;else if((a=Lr(c))>0){for(l=a,r=0;l>0;l--)c=e.input.charCodeAt(++e.position),(a=Tr(c))>=0?r=(r<<4)+a:$(e,"expected hexadecimal character");e.result+=Or(r),e.position++}else $(e,"unknown escape sequence");t=i=e.position}else ae(c)?(fe(e,t,i,!0),Cn(e,Y(e,!1,n)),t=i=e.position):e.position===e.lineStart&&Qe(e)?$(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}$(e,"unexpected end of the stream within a double quoted scalar")}function Vr(e,n){var t=!0,i,l,r,a=e.tag,c,d=e.anchor,m,x,p,h,v,b=Object.create(null),k,_,C,y;if(y=e.input.charCodeAt(e.position),y===91)x=93,v=!1,c=[];else if(y===123)x=125,v=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),y=e.input.charCodeAt(++e.position);y!==0;){if(Y(e,!0,n),y=e.input.charCodeAt(e.position),y===x)return e.position++,e.tag=a,e.anchor=d,e.kind=v?"mapping":"sequence",e.result=c,!0;t?y===44&&$(e,"expected the node content, but found ','"):$(e,"missed comma between flow collection entries"),_=k=C=null,p=h=!1,y===63&&(m=e.input.charCodeAt(e.position+1),Z(m)&&(p=h=!0,e.position++,Y(e,!0,n))),i=e.line,l=e.lineStart,r=e.position,$e(e,n,He,!1,!0),_=e.tag,k=e.result,Y(e,!0,n),y=e.input.charCodeAt(e.position),(h||e.line===i)&&y===58&&(p=!0,y=e.input.charCodeAt(++e.position),Y(e,!0,n),$e(e,n,He,!1,!0),C=e.result),v?De(e,c,b,_,k,C,i,l,r):p?c.push(De(e,null,b,_,k,C,i,l,r)):c.push(k),Y(e,!0,n),y=e.input.charCodeAt(e.position),y===44?(t=!0,y=e.input.charCodeAt(++e.position)):t=!1}$(e,"unexpected end of the stream within a flow collection")}function Br(e,n){var t,i,l=ln,r=!1,a=!1,c=n,d=0,m=!1,x,p;if(p=e.input.charCodeAt(e.position),p===124)i=!1;else if(p===62)i=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)ln===l?l=p===43?Yn:Sr:$(e,"repeat of a chomping mode identifier");else if((x=Fr(p))>=0)x===0?$(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?$(e,"repeat of an indentation width identifier"):(c=n+x-1,a=!0);else break;if(xe(p)){do p=e.input.charCodeAt(++e.position);while(xe(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!ae(p)&&p!==0)}for(;p!==0;){for(bn(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!a||e.lineIndent<c)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>c&&(c=e.lineIndent),ae(p)){d++;continue}if(e.lineIndent<c){l===Yn?e.result+=H.repeat(`
`,r?1+d:d):l===ln&&r&&(e.result+=`
`);break}for(i?xe(p)?(m=!0,e.result+=H.repeat(`
`,r?1+d:d)):m?(m=!1,e.result+=H.repeat(`
`,d+1)):d===0?r&&(e.result+=" "):e.result+=H.repeat(`
`,d):e.result+=H.repeat(`
`,r?1+d:d),r=!0,a=!0,d=0,t=e.position;!ae(p)&&p!==0;)p=e.input.charCodeAt(++e.position);fe(e,t,e.position,!1)}return!0}function qn(e,n){var t,i=e.tag,l=e.anchor,r=[],a,c=!1,d;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=r),d=e.input.charCodeAt(e.position);d!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,$(e,"tab characters must not be used in indentation")),!(d!==45||(a=e.input.charCodeAt(e.position+1),!Z(a))));){if(c=!0,e.position++,Y(e,!0,-1)&&e.lineIndent<=n){r.push(null),d=e.input.charCodeAt(e.position);continue}if(t=e.line,$e(e,n,qt,!1,!0),r.push(e.result),Y(e,!0,-1),d=e.input.charCodeAt(e.position),(e.line===t||e.lineIndent>n)&&d!==0)$(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return c?(e.tag=i,e.anchor=l,e.kind="sequence",e.result=r,!0):!1}function zr(e,n,t){var i,l,r,a,c,d,m=e.tag,x=e.anchor,p={},h=Object.create(null),v=null,b=null,k=null,_=!1,C=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),y=e.input.charCodeAt(e.position);y!==0;){if(!_&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,$(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),r=e.line,(y===63||y===58)&&Z(i))y===63?(_&&(De(e,p,h,v,b,null,a,c,d),v=b=k=null),C=!0,_=!0,l=!0):_?(_=!1,l=!0):$(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=i;else{if(a=e.line,c=e.lineStart,d=e.position,!$e(e,t,Kt,!1,!0))break;if(e.line===r){for(y=e.input.charCodeAt(e.position);xe(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Z(y)||$(e,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(De(e,p,h,v,b,null,a,c,d),v=b=k=null),C=!0,_=!1,l=!1,v=e.tag,b=e.result;else if(C)$(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=m,e.anchor=x,!0}else if(C)$(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=m,e.anchor=x,!0}if((e.line===r||e.lineIndent>n)&&(_&&(a=e.line,c=e.lineStart,d=e.position),$e(e,n,Ue,!0,l)&&(_?b=e.result:k=e.result),_||(De(e,p,h,v,b,k,a,c,d),v=b=k=null),Y(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===r||e.lineIndent>n)&&y!==0)$(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return _&&De(e,p,h,v,b,null,a,c,d),C&&(e.tag=m,e.anchor=x,e.kind="mapping",e.result=p),C}function Yr(e){var n,t=!1,i=!1,l,r,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&$(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(t=!0,a=e.input.charCodeAt(++e.position)):a===33?(i=!0,l="!!",a=e.input.charCodeAt(++e.position)):l="!",n=e.position,t){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(r=e.input.slice(n,e.position),a=e.input.charCodeAt(++e.position)):$(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Z(a);)a===33&&(i?$(e,"tag suffix cannot contain exclamation marks"):(l=e.input.slice(n-1,e.position+1),Wt.test(l)||$(e,"named tag handle cannot contain such characters"),i=!0,n=e.position+1)),a=e.input.charCodeAt(++e.position);r=e.input.slice(n,e.position),Nr.test(r)&&$(e,"tag suffix cannot contain flow indicator characters")}r&&!Qt.test(r)&&$(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch{$(e,"tag name is malformed: "+r)}return t?e.tag=r:me.call(e.tagMap,l)?e.tag=e.tagMap[l]+r:l==="!"?e.tag="!"+r:l==="!!"?e.tag="tag:yaml.org,2002:"+r:$(e,'undeclared tag handle "'+l+'"'),!0}function Hr(e){var n,t;if(t=e.input.charCodeAt(e.position),t!==38)return!1;for(e.anchor!==null&&$(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),n=e.position;t!==0&&!Z(t)&&!ke(t);)t=e.input.charCodeAt(++e.position);return e.position===n&&$(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function Ur(e){var n,t,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),n=e.position;i!==0&&!Z(i)&&!ke(i);)i=e.input.charCodeAt(++e.position);return e.position===n&&$(e,"name of an alias node must contain at least one character"),t=e.input.slice(n,e.position),me.call(e.anchorMap,t)||$(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],Y(e,!0,-1),!0}function $e(e,n,t,i,l){var r,a,c,d=1,m=!1,x=!1,p,h,v,b,k,_;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,r=a=c=Ue===t||qt===t,i&&Y(e,!0,-1)&&(m=!0,e.lineIndent>n?d=1:e.lineIndent===n?d=0:e.lineIndent<n&&(d=-1)),d===1)for(;Yr(e)||Hr(e);)Y(e,!0,-1)?(m=!0,c=r,e.lineIndent>n?d=1:e.lineIndent===n?d=0:e.lineIndent<n&&(d=-1)):c=!1;if(c&&(c=m||l),(d===1||Ue===t)&&(He===t||Kt===t?k=n:k=n+1,_=e.position-e.lineStart,d===1?c&&(qn(e,_)||zr(e,_,k))||Vr(e,k)?x=!0:(a&&Br(e,k)||jr(e,k)||Pr(e,k)?x=!0:Ur(e)?(x=!0,(e.tag!==null||e.anchor!==null)&&$(e,"alias node should not have any properties")):Mr(e,k,He===t)&&(x=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):d===0&&(x=c&&qn(e,_))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&$(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,h=e.implicitTypes.length;p<h;p+=1)if(b=e.implicitTypes[p],b.resolve(e.result)){e.result=b.construct(e.result),e.tag=b.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(me.call(e.typeMap[e.kind||"fallback"],e.tag))b=e.typeMap[e.kind||"fallback"][e.tag];else for(b=null,v=e.typeMap.multi[e.kind||"fallback"],p=0,h=v.length;p<h;p+=1)if(e.tag.slice(0,v[p].tag.length)===v[p].tag){b=v[p];break}b||$(e,"unknown tag !<"+e.tag+">"),e.result!==null&&b.kind!==e.kind&&$(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+b.kind+'", not "'+e.kind+'"'),b.resolve(e.result,e.tag)?(e.result=b.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):$(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||x}function Gr(e){var n=e.position,t,i,l,r=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Y(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(r=!0,a=e.input.charCodeAt(++e.position),t=e.position;a!==0&&!Z(a);)a=e.input.charCodeAt(++e.position);for(i=e.input.slice(t,e.position),l=[],i.length<1&&$(e,"directive name must not be less than one character in length");a!==0;){for(;xe(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!ae(a));break}if(ae(a))break;for(t=e.position;a!==0&&!Z(a);)a=e.input.charCodeAt(++e.position);l.push(e.input.slice(t,e.position))}a!==0&&bn(e),me.call(Gn,i)?Gn[i](e,i,l):Ge(e,'unknown document directive "'+i+'"')}if(Y(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Y(e,!0,-1)):r&&$(e,"directives end mark is expected"),$e(e,e.lineIndent-1,Ue,!1,!0),Y(e,!0,-1),e.checkLineBreaks&&Er.test(e.input.slice(n,e.position))&&Ge(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Qe(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Y(e,!0,-1));return}if(e.position<e.length-1)$(e,"end of the stream or a document separator is expected");else return}function ei(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var t=new Rr(e,n),i=e.indexOf("\0");for(i!==-1&&(t.position=i,$(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)Gr(t);return t.documents}function Kr(e,n,t){n!==null&&typeof n=="object"&&typeof t>"u"&&(t=n,n=null);var i=ei(e,t);if(typeof n!="function")return i;for(var l=0,r=i.length;l<r;l+=1)n(i[l])}function qr(e,n){var t=ei(e,n);if(t.length!==0){if(t.length===1)return t[0];throw new Q("expected a single document in the stream, but found more")}}var Wr=Kr,Qr=qr,ni={loadAll:Wr,load:Qr},ti=Object.prototype.toString,ii=Object.prototype.hasOwnProperty,kn=65279,Xr=9,Re=10,Zr=13,Jr=32,ec=33,nc=34,an=35,tc=37,ic=38,lc=39,oc=42,li=44,sc=45,Ke=58,ac=61,rc=62,cc=63,uc=64,oi=91,si=93,dc=96,ai=123,fc=124,ri=125,W={};W[0]="\\0";W[7]="\\a";W[8]="\\b";W[9]="\\t";W[10]="\\n";W[11]="\\v";W[12]="\\f";W[13]="\\r";W[27]="\\e";W[34]='\\"';W[92]="\\\\";W[133]="\\N";W[160]="\\_";W[8232]="\\L";W[8233]="\\P";var mc=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],pc=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function gc(e,n){var t,i,l,r,a,c,d;if(n===null)return{};for(t={},i=Object.keys(n),l=0,r=i.length;l<r;l+=1)a=i[l],c=String(n[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),d=e.compiledTypeMap.fallback[a],d&&ii.call(d.styleAliases,c)&&(c=d.styleAliases[c]),t[a]=c;return t}function vc(e){var n,t,i;if(n=e.toString(16).toUpperCase(),e<=255)t="x",i=2;else if(e<=65535)t="u",i=4;else if(e<=4294967295)t="U",i=8;else throw new Q("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+H.repeat("0",i-n.length)+n}var hc=1,Me=2;function xc(e){this.schema=e.schema||wn,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=H.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=gc(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Me:hc,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Wn(e,n){for(var t=H.repeat(" ",n),i=0,l=-1,r="",a,c=e.length;i<c;)l=e.indexOf(`
`,i),l===-1?(a=e.slice(i),i=c):(a=e.slice(i,l+1),i=l+1),a.length&&a!==`
`&&(r+=t),r+=a;return r}function rn(e,n){return`
`+H.repeat(" ",e.indent*n)}function _c(e,n){var t,i,l;for(t=0,i=e.implicitTypes.length;t<i;t+=1)if(l=e.implicitTypes[t],l.resolve(n))return!0;return!1}function qe(e){return e===Jr||e===Xr}function je(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==kn||65536<=e&&e<=1114111}function Qn(e){return je(e)&&e!==kn&&e!==Zr&&e!==Re}function Xn(e,n,t){var i=Qn(e),l=i&&!qe(e);return(t?i:i&&e!==li&&e!==oi&&e!==si&&e!==ai&&e!==ri)&&e!==an&&!(n===Ke&&!l)||Qn(n)&&!qe(n)&&e===an||n===Ke&&l}function yc(e){return je(e)&&e!==kn&&!qe(e)&&e!==sc&&e!==cc&&e!==Ke&&e!==li&&e!==oi&&e!==si&&e!==ai&&e!==ri&&e!==an&&e!==ic&&e!==oc&&e!==ec&&e!==fc&&e!==ac&&e!==rc&&e!==lc&&e!==nc&&e!==tc&&e!==uc&&e!==dc}function wc(e){return!qe(e)&&e!==Ke}function Ee(e,n){var t=e.charCodeAt(n),i;return t>=55296&&t<=56319&&n+1<e.length&&(i=e.charCodeAt(n+1),i>=56320&&i<=57343)?(t-55296)*1024+i-56320+65536:t}function ci(e){var n=/^\n* /;return n.test(e)}var ui=1,cn=2,di=3,fi=4,Ce=5;function bc(e,n,t,i,l,r,a,c){var d,m=0,x=null,p=!1,h=!1,v=i!==-1,b=-1,k=yc(Ee(e,0))&&wc(Ee(e,e.length-1));if(n||a)for(d=0;d<e.length;m>=65536?d+=2:d++){if(m=Ee(e,d),!je(m))return Ce;k=k&&Xn(m,x,c),x=m}else{for(d=0;d<e.length;m>=65536?d+=2:d++){if(m=Ee(e,d),m===Re)p=!0,v&&(h=h||d-b-1>i&&e[b+1]!==" ",b=d);else if(!je(m))return Ce;k=k&&Xn(m,x,c),x=m}h=h||v&&d-b-1>i&&e[b+1]!==" "}return!p&&!h?k&&!a&&!l(e)?ui:r===Me?Ce:cn:t>9&&ci(e)?Ce:a?r===Me?Ce:cn:h?fi:di}function Cc(e,n,t,i,l){e.dump=(function(){if(n.length===0)return e.quotingType===Me?'""':"''";if(!e.noCompatMode&&(mc.indexOf(n)!==-1||pc.test(n)))return e.quotingType===Me?'"'+n+'"':"'"+n+"'";var r=e.indent*Math.max(1,t),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-r),c=i||e.flowLevel>-1&&t>=e.flowLevel;function d(m){return _c(e,m)}switch(bc(n,c,e.indent,a,d,e.quotingType,e.forceQuotes&&!i,l)){case ui:return n;case cn:return"'"+n.replace(/'/g,"''")+"'";case di:return"|"+Zn(n,e.indent)+Jn(Wn(n,r));case fi:return">"+Zn(n,e.indent)+Jn(Wn(kc(n,a),r));case Ce:return'"'+Dc(n)+'"';default:throw new Q("impossible error: invalid scalar style")}})()}function Zn(e,n){var t=ci(e)?String(n):"",i=e[e.length-1]===`
`,l=i&&(e[e.length-2]===`
`||e===`
`),r=l?"+":i?"":"-";return t+r+`
`}function Jn(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function kc(e,n){for(var t=/(\n+)([^\n]*)/g,i=(function(){var m=e.indexOf(`
`);return m=m!==-1?m:e.length,t.lastIndex=m,et(e.slice(0,m),n)})(),l=e[0]===`
`||e[0]===" ",r,a;a=t.exec(e);){var c=a[1],d=a[2];r=d[0]===" ",i+=c+(!l&&!r&&d!==""?`
`:"")+et(d,n),l=r}return i}function et(e,n){if(e===""||e[0]===" ")return e;for(var t=/ [^ ]/g,i,l=0,r,a=0,c=0,d="";i=t.exec(e);)c=i.index,c-l>n&&(r=a>l?a:c,d+=`
`+e.slice(l,r),l=r+1),a=c;return d+=`
`,e.length-l>n&&a>l?d+=e.slice(l,a)+`
`+e.slice(a+1):d+=e.slice(l),d.slice(1)}function Dc(e){for(var n="",t=0,i,l=0;l<e.length;t>=65536?l+=2:l++)t=Ee(e,l),i=W[t],!i&&je(t)?(n+=e[l],t>=65536&&(n+=e[l+1])):n+=i||vc(t);return n}function Ac(e,n,t){var i="",l=e.tag,r,a,c;for(r=0,a=t.length;r<a;r+=1)c=t[r],e.replacer&&(c=e.replacer.call(t,String(r),c)),(re(e,n,c,!1,!1)||typeof c>"u"&&re(e,n,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=l,e.dump="["+i+"]"}function nt(e,n,t,i){var l="",r=e.tag,a,c,d;for(a=0,c=t.length;a<c;a+=1)d=t[a],e.replacer&&(d=e.replacer.call(t,String(a),d)),(re(e,n+1,d,!0,!0,!1,!0)||typeof d>"u"&&re(e,n+1,null,!0,!0,!1,!0))&&((!i||l!=="")&&(l+=rn(e,n)),e.dump&&Re===e.dump.charCodeAt(0)?l+="-":l+="- ",l+=e.dump);e.tag=r,e.dump=l||"[]"}function $c(e,n,t){var i="",l=e.tag,r=Object.keys(t),a,c,d,m,x;for(a=0,c=r.length;a<c;a+=1)x="",i!==""&&(x+=", "),e.condenseFlow&&(x+='"'),d=r[a],m=t[d],e.replacer&&(m=e.replacer.call(t,d,m)),re(e,n,d,!1,!1)&&(e.dump.length>1024&&(x+="? "),x+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),re(e,n,m,!1,!1)&&(x+=e.dump,i+=x));e.tag=l,e.dump="{"+i+"}"}function Sc(e,n,t,i){var l="",r=e.tag,a=Object.keys(t),c,d,m,x,p,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new Q("sortKeys must be a boolean or a function");for(c=0,d=a.length;c<d;c+=1)h="",(!i||l!=="")&&(h+=rn(e,n)),m=a[c],x=t[m],e.replacer&&(x=e.replacer.call(t,m,x)),re(e,n+1,m,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&Re===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,p&&(h+=rn(e,n)),re(e,n+1,x,!0,p)&&(e.dump&&Re===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,l+=h));e.tag=r,e.dump=l||"{}"}function tt(e,n,t){var i,l,r,a,c,d;for(l=t?e.explicitTypes:e.implicitTypes,r=0,a=l.length;r<a;r+=1)if(c=l[r],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof n=="object"&&n instanceof c.instanceOf)&&(!c.predicate||c.predicate(n))){if(t?c.multi&&c.representName?e.tag=c.representName(n):e.tag=c.tag:e.tag="?",c.represent){if(d=e.styleMap[c.tag]||c.defaultStyle,ti.call(c.represent)==="[object Function]")i=c.represent(n,d);else if(ii.call(c.represent,d))i=c.represent[d](n,d);else throw new Q("!<"+c.tag+'> tag resolver accepts not "'+d+'" style');e.dump=i}return!0}return!1}function re(e,n,t,i,l,r,a){e.tag=null,e.dump=t,tt(e,t,!1)||tt(e,t,!0);var c=ti.call(e.dump),d=i,m;i&&(i=e.flowLevel<0||e.flowLevel>n);var x=c==="[object Object]"||c==="[object Array]",p,h;if(x&&(p=e.duplicates.indexOf(t),h=p!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&n>0)&&(l=!1),h&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(x&&h&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),c==="[object Object]")i&&Object.keys(e.dump).length!==0?(Sc(e,n,e.dump,l),h&&(e.dump="&ref_"+p+e.dump)):($c(e,n,e.dump),h&&(e.dump="&ref_"+p+" "+e.dump));else if(c==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!a&&n>0?nt(e,n-1,e.dump,l):nt(e,n,e.dump,l),h&&(e.dump="&ref_"+p+e.dump)):(Ac(e,n,e.dump),h&&(e.dump="&ref_"+p+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&Cc(e,e.dump,n,r,d);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Q("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(m=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?m="!"+m:m.slice(0,18)==="tag:yaml.org,2002:"?m="!!"+m.slice(18):m="!<"+m+">",e.dump=m+" "+e.dump)}return!0}function Ic(e,n){var t=[],i=[],l,r;for(un(e,t,i),l=0,r=i.length;l<r;l+=1)n.duplicates.push(t[i[l]]);n.usedDuplicates=new Array(r)}function un(e,n,t){var i,l,r;if(e!==null&&typeof e=="object")if(l=n.indexOf(e),l!==-1)t.indexOf(l)===-1&&t.push(l);else if(n.push(e),Array.isArray(e))for(l=0,r=e.length;l<r;l+=1)un(e[l],n,t);else for(i=Object.keys(e),l=0,r=i.length;l<r;l+=1)un(e[i[l]],n,t)}function Ec(e,n){n=n||{};var t=new xc(n);t.noRefs||Ic(e,t);var i=e;return t.replacer&&(i=t.replacer.call({"":i},"",i)),re(t,0,i,!0,!0)?t.dump+`
`:""}var Nc=Ec,Tc={dump:Nc};function Dn(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Lc=G,Fc=St,Oc=Tt,Rc=Mt,Mc=jt,jc=wn,Pc=ni.load,Vc=ni.loadAll,Bc=Tc.dump,zc=Q,Yc={binary:Yt,float:Rt,map:Nt,null:Lt,pairs:Ut,set:Gt,timestamp:Bt,bool:Ft,int:Ot,merge:zt,omap:Ht,seq:Et,str:It},Hc=Dn("safeLoad","load"),Uc=Dn("safeLoadAll","loadAll"),Gc=Dn("safeDump","dump"),Kc={Type:Lc,Schema:Fc,FAILSAFE_SCHEMA:Oc,JSON_SCHEMA:Rc,CORE_SCHEMA:Mc,DEFAULT_SCHEMA:jc,load:Pc,loadAll:Vc,dump:Bc,YAMLException:zc,types:Yc,safeLoad:Hc,safeLoadAll:Uc,safeDump:Gc};function qc(e,n){const{toastSuccess:t,toastError:i}=Ve(),l=E([]),r=E(""),a=E(!1),c=E({cm_lock:!1,code:"",templateName:"",description:""});function d(k){ne.get("/api/get-default-template").then(_=>{var y,V,T;r.value=_.data,k.setValue(_.data);const C=m(_.data);c.value.templateName=((y=C.main)==null?void 0:y.name)||"Default Template",c.value.description=((V=C.main)==null?void 0:V.desc)||((T=C.main)==null?void 0:T.description)||"This is the default template for inventory items."}).catch(_=>{k.updateOptions({value:"Something went wrong - could not retrieve the default template from the file system!"}),i("Error","Something went wrong - could not retrieve the default template from the file system!")})}function m(k){try{return Kc.load(k)}catch(_){return console.error("Error parsing YAML:",_),{}}}function x(k){ne.post("/api/reformat-template",{fileName:c.fileName}).then(_=>{r.value=_.data,k.setValue(_.data)}).catch(_=>{var C,y;console.log(_),i("Error","Something went wrong - "+((y=(C=_.response)==null?void 0:C.data)==null?void 0:y.message)||"could not reformat the template code!")})}function p(k,_,C){a.value=!0,ne.get("/api/templates/"+k).then(y=>{C.fileName=y.data.fileName,r.value=y.data.code,_.getModel().setValue(y.data.code),a.value=!1}).catch(y=>{_.updateOptions({value:"Something went wrong - could not retrieve the template from the file system!"}),i("Error","Something went wrong - could not retrieve the template from the file system!")})}function h(k,_,C,y,V){_.value.code=C.getValue();let T=k>0?`/${k}`:"",B=k>0?"patch":"post";ne[B]("/api/templates"+T,{templateName:_.value.templateName,description:_.value.description,code:_.value.code,fileName:_.value.fileName}).then(O=>{y("save",O.data),t("Template saved","The template has been saved successfully."),V()}).catch(O=>{var z,oe;l.value=O.response.data.errors,i("Error","There was an error saving the template. "+(((oe=(z=O.response)==null?void 0:z.data)==null?void 0:oe.message)||"")),console.error("Error saving template:",O)})}function v(k,_){k.ctrlKey&&k.key==="Enter"&&_()}function b(k){k>0&&ne.get(`/api/templates/${k}`).then(_=>{c.value=_.data})}return J(()=>{b(e.editId),window.addEventListener("keydown",k=>v(k,()=>h(e.editId,c,null,n,()=>n("close"))))}),ye(()=>{window.removeEventListener("keydown",v)}),{code:r,errors:l,isLoading:a,fetchTemplateData:b,getDefaultTemplate:d,handleKeyDown:v,model:c,parseYaml:m,reformatTemplateCode:x,saveDialog:h,showTemplate:p}}const Wc={class:"flex justify-between p-2 border-b"},Qc={class:"items-center content-center text-muted-foreground"},Xc={class:""},Zc={key:0,class:"grid gap-4 px-4 py-4"},Jc={class:"grid items-center grid-cols-4 gap-4"},eu={class:"grid items-center grid-cols-4 gap-4"},nu={class:"grid items-center grid-cols-4 gap-4 mb-2"},tu={class:"grid items-center grid-cols-4 gap-4"},iu={class:"flex justify-end pt-4 gap-2"},lu={key:1,class:"pb-4 px-4 mt-4"},ou={key:0},su={class:"grid gap-4"},au={key:0,class:"text-sm text-red-400 mt-1 block"},ru={key:0,class:"text-sm text-red-400 mt-1 block"},cu={key:0,class:"text-sm text-red-400"},uu={class:"flex justify-end my-4 gap-2 hidden md:flex"},du={class:"pl-2 ml-auto"},fu={class:"rc-kdb-class2"},mu={class:"pl-2 ml-auto"},pu={class:"rc-kdb-class2"},gu={class:"pt-2 hidden md:block"},vu={class:"flex flex-col"},hu={class:"flex items-center p-2"},xu={key:0,class:"gap-1 flex items-center"},_u={key:1,class:"flex gap-1"},yu={key:2,class:"flex items-center gap-2 ml-auto"},wu={key:3,class:"flex items-center gap-2 ml-auto"},bu={class:"flex gap-1"},Cu={key:4},ku={class:"relative"},Du={key:0,class:"absolute inset-0 z-10 w-full p-4",style:{height:"calc(100vh - 190px)"}},Au={__name:"TemplateAddEditPane",props:{editId:Number},emits:["save","close"],setup(e,{emit:n}){const t=e;let i=null;const l=n,{activeCopyIcon:r,checkDarkModeIsSet:a,checkLineNumbersIsSet:c,checkMiniMapIsSet:d,checkStickyScrollIsSet:m,copyContent:x,download:p,initEditor:h,toggleEditorDarkMode:v,toggleEditorLineNumbers:b,toggleEditorMinimap:k}=pt(Vi),{openImportDialog:_,getTemplateRepoFolders:C,hasVendorTemplateOptions:y}=gt(),{code:V,errors:T,isLoading:B,getDefaultTemplate:O,model:z,parseYaml:oe,reformatTemplateCode:ce,saveDialog:te,showTemplate:se}=qc(t,l),R=Se(),{isDialogOpen:ie,closeDialog:M}=R,U=E([]);J(()=>{pe(),C(),we(),window.addEventListener("keydown",j=>{j.key==="Escape"&&X()})}),ye(()=>{window.removeEventListener("keydown",j=>{j.key==="Escape"&&X()})});function pe(){a()&&U.value.push("dark"),c()&&U.value.push("lineNumbers"),d()&&U.value.push("minimap"),m()&&U.value.push("stickyscroll")}function we(){try{i=h("code-editor__code-pre","yaml"),t.editId===0?O(i):se(t.editId,i,z),i.onDidChangeModelContent(()=>{const j=i.getValue();V.value=j,L(j)})}catch(j){console.error("Error initializing editor:",j)}}const L=Fi(j=>{try{const A=oe(j);if(A&&A.main){A.main.name&&A.main.name!==z.templateName&&(z.value.templateName=A.main.name);const ee=A.main.desc||A.main.description;ee&&ee!==z.description&&(z.value.description=ee)}}catch(A){console.log("Error parsing YAML while watching for changes:",A)}},500);function le(){l("close"),i&&(i.dispose(),i=null)}function X(){le()}function Be(){ce(i)}function ze(){te(t.editId,z,i,l,le)}function Xe(j){i.getModel().setValue(j.value),M("DialogTemplateImport")}return(j,A)=>{const ee=F("Button"),Ze=F("Label"),Ie=F("Separator"),An=F("Input"),Je=F("RcIcon"),$n=F("ResizablePanel"),mi=F("ResizableHandle"),pi=F("ResizablePanelGroup");return g(),w("div",null,[u("div",Wc,[o(ee,{onClick:A[0]||(A[0]=K=>le()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-600"},{default:f(()=>[o(s(xn),{size:"16",class:"hover:animate-pulse"})]),_:1}),u("h2",Qc,S(e.editId===0?"Add Template":"Edit Template")+" "+S(e.editId===0?"":"("+e.editId+")"),1),A[13]||(A[13]=u("div",{class:"flex justify-end"},null,-1))]),o(pi,{direction:"horizontal",class:""},{default:f(()=>[o($n,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref:"panelElement44",class:"h-[90vh]"},{default:f(()=>[u("div",Xc,[s(B)?(g(),w("div",Zc,[u("div",Jc,[o(s(P),{class:"h-4 w-24 justify-self-end"}),o(s(P),{class:"h-10 col-span-3"})]),u("div",eu,[o(s(P),{class:"h-4 w-20 justify-self-end"}),o(s(P),{class:"h-10 col-span-3"})]),u("div",nu,[A[14]||(A[14]=u("div",{class:"justify-self-end"},null,-1)),o(s(P),{class:"h-3 w-40"})]),u("div",tu,[o(s(P),{class:"h-4 w-32 justify-self-end"}),o(s(P),{class:"h-10 w-40"})]),u("div",iu,[o(s(P),{class:"h-8 w-16"}),o(s(P),{class:"h-8 w-16"})])])):(g(),w("div",lu,[s(y)?(g(),w("div",ou,[o(Ze,{for:"description",class:"block mb-2"},{default:f(()=>[...A[15]||(A[15]=[N("Imported Templates",-1)])]),_:1}),o(ee,{type:"close",onClick:A[1]||(A[1]=K=>s(_)()),class:"px-2 py-1 text-sm hover:bg-gray-700",variant:"outline"},{default:f(()=>[o(s(tl),{size:"16",class:"mr-2"}),A[16]||(A[16]=N(" Choose Template to Import ",-1))]),_:1})])):D("",!0),s(y)?(g(),I(Ie,{key:1,class:"relative w-full h-px shrink-0 bg-border mb-4 my-4"})):D("",!0),u("div",su,[u("div",null,[o(Ze,{for:"templateName",class:"block mb-2"},{default:f(()=>[...A[17]||(A[17]=[N(" Template Name ",-1),u("span",{class:"text-red-600"},"*",-1)])]),_:1}),o(An,{modelValue:s(z).templateName,"onUpdate:modelValue":A[2]||(A[2]=K=>s(z).templateName=K),id:"templateName",autocomplete:"off",class:"w-full",disabled:""},null,8,["modelValue"]),s(T).templateName?(g(),w("span",au,S(s(T).templateName[0]),1)):D("",!0)]),u("div",null,[o(Ze,{for:"description",class:"block mb-2"},{default:f(()=>[...A[18]||(A[18]=[N("Description",-1)])]),_:1}),o(An,{modelValue:s(z).description,"onUpdate:modelValue":A[3]||(A[3]=K=>s(z).description=K),id:"description",autocomplete:"off",class:"w-full",disabled:""},null,8,["modelValue"]),s(T).description?(g(),w("span",ru,S(s(T).description[0]),1)):D("",!0)]),A[19]||(A[19]=u("div",{class:"mb-2"},[u("span",{class:"rc-text-xs-muted"},"Template name and description will be updated from YAML after editing")],-1)),s(T).code?(g(),w("span",cu,S(s(T).code[0]),1)):D("",!0)]),u("div",uu,[o(ee,{type:"close",variant:"outline",class:"px-2 py-1 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:A[4]||(A[4]=K=>le()),size:"sm"},{default:f(()=>[...A[20]||(A[20]=[N(" Cancel ",-1),u("div",{class:"pl-2 ml-auto"},[u("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1}),t.editId===0?(g(),I(ee,{key:0,type:"submit",class:"px-2 py-1 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ze,variant:"primary"},{default:f(()=>[A[22]||(A[22]=N(" Save ",-1)),u("div",du,[u("kbd",fu,[A[21]||(A[21]=N(" Ctrl  ",-1)),o(Je,{name:"enter",class:"ml-1"})])])]),_:1})):(g(),I(ee,{key:1,type:"submit",class:"px-2 py-1 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:ze,variant:"primary"},{default:f(()=>[A[24]||(A[24]=N(" Update ",-1)),u("div",mu,[u("kbd",pu,[A[23]||(A[23]=N(" Ctrl  ",-1)),o(Je,{name:"enter",class:"ml-1"})])])]),_:1}))]),o(Ie,{class:"relative w-full h-px shrink-0 bg-border mb-4 mt-2"}),u("div",gu,[o(ee,{type:"close",variant:"outline",class:"px-2 py-1 text-sm hover:bg-gray-700 hover:animate-pulse mr-2",onClick:A[5]||(A[5]=K=>Be()),size:"sm"},{default:f(()=>[...A[25]||(A[25]=[N(" Reformat Code ",-1)])]),_:1}),o(ol,{title:"Updated Template Format",description:"From V8.0.0, templates use a cleaner layout. This format is backward-compatible with older versions. Use the Reformat button to update the template in the editor if it hasn’t been reformatted yet.",hasLink:!1,align:"start"},{trigger:f(()=>[o(ee,{variant:"link",size:"sm",class:"text-blue-400 hover:text-blue-300 p-0"},{default:f(()=>[o(s(il),{class:"h-3.5 w-3.5"})]),_:1})]),_:1})])]))])]),_:1},512),o(mi,{"with-handle":""}),o($n,{class:"h-[90vh]"},{default:f(()=>[o(s(Fe),{class:"border border-none rounded-md"},{default:f(()=>[u("div",vu,[u("div",hu,[A[26]||(A[26]=u("div",{class:"flex items-center gap-2"},null,-1)),s(B)?(g(),w("div",_u,[o(s(P),{class:"h-8 w-8"}),o(s(P),{class:"h-8 w-8"})])):(g(),w("div",xu,[o(q,{delayDuration:100,content:"Copy Content",side:"bottom"},{trigger:f(()=>[o(ee,{variant:"ghost",onClick:A[6]||(A[6]=K=>s(x)(s(i).getValue())),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(Je,{name:"copy-transition",isActive:s(r).getValue,size:16},null,8,["isActive"])]),_:1})]),_:1}),o(q,{delayDuration:100,content:"Download Template",side:"bottom"},{trigger:f(()=>[o(ee,{variant:"ghost",onClick:A[7]||(A[7]=K=>s(p)(s(z).fileName)),class:"px-2 py-1 ml-1 rc-btn-shadow"},{default:f(()=>[o(s(sl),{size:"16"})]),_:1})]),_:1})])),o(Ie,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),s(B)?(g(),w("div",wu,[u("div",bu,[o(s(P),{class:"h-8 w-8"}),o(s(P),{class:"h-8 w-8"}),o(s(P),{class:"h-8 w-8"}),o(s(P),{class:"h-8 w-8"})])])):(g(),w("div",yu,[o(s(Ye),null,{default:f(()=>[o(s(kt),{modelValue:U.value,"onUpdate:modelValue":A[11]||(A[11]=K=>U.value=K),type:"multiple"},{default:f(()=>[o(s(Ae),{value:"dark",onClick:A[8]||(A[8]=K=>s(v)()),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(q,{delayDuration:100,content:"Toggle Dark Mode",side:"bottom"},{trigger:f(()=>[o(s(yt),{size:"16",class:"focus:outline-none"})]),_:1})]),_:1}),o(s(Ae),{value:"lineNumbers",onClick:A[9]||(A[9]=K=>s(b)()),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(q,{delayDuration:100,content:"Toggle Line Numbers",side:"bottom"},{trigger:f(()=>[o(s(wt),{size:"16",class:"focus:outline-none"})]),_:1})]),_:1}),o(s(Ae),{value:"minimap",onClick:A[10]||(A[10]=K=>s(k)()),class:"px-2 py-1 rc-btn-shadow"},{default:f(()=>[o(q,{delayDuration:100,content:"Toggle Map",side:"bottom"},{trigger:f(()=>[o(s(bt),{size:"16",class:"focus:outline-none"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])),o(Ie,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),s(B)?(g(),I(s(P),{key:5,class:"h-4 w-8"})):(g(),w("span",Cu,"YAML"))]),o(Ie,{class:"relative w-full h-px shrink-0 bg-border"})]),u("div",ku,[s(B)?(g(),w("div",Du,[o(s(P),{class:"w-full h-full"})])):D("",!0),A[27]||(A[27]=u("div",{class:"code-editor__code-pre",id:"code-editor__code-pre",style:{height:"calc(100vh - 190px)"}},null,-1))])]),_:1})]),_:1})]),_:1}),s(ie)("DialogTemplateImport")?(g(),I($a,{key:0,onSetTemplateCode:A[12]||(A[12]=K=>Xe(K))})):D("",!0)])}}},$u={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},ad={__name:"ContentPanel",props:{},emits:["close"],setup(e,{emit:n}){const t=Oi(),i=We(),l=E(0),r=E(null),a=E(null);J(()=>{l.value=parseInt(t.params.id,10),r.value=t.name,a.value=t.query.ref||null});function c(){r.value=null,i.push({name:"devices"})}function d(){r.value=null,i.push({name:"templates"})}function m(){i.back()}return(x,p)=>(g(),w("div",$u,[o(he,{name:"fade"},{default:f(()=>[r.value==="device-view"?(g(),I(Cs,{key:0,editId:l.value,onClose:p[0]||(p[0]=h=>c())},null,8,["editId"])):D("",!0)]),_:1}),o(he,{name:"fade"},{default:f(()=>[r.value==="template-view"?(g(),I(Au,{key:0,editId:l.value,onClose:p[1]||(p[1]=h=>d())},null,8,["editId"])):D("",!0)]),_:1}),o(he,{name:"fade"},{default:f(()=>[r.value==="config-view"?(g(),I(ya,{key:0,configId:l.value,onClose:p[2]||(p[2]=h=>m())},null,8,["configId"])):D("",!0)]),_:1})]))}};export{ad as default};
