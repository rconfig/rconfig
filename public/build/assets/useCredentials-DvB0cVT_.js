var Y=l=>{throw TypeError(l)};var he=(l,t,n)=>t.has(l)||Y("Cannot "+n);var G=(l,t,n)=>(he(l,t,"read from private field"),n?n.call(l):t.get(l)),Q=(l,t,n)=>t.has(l)?Y("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(l):t.set(l,n);import{h as L,g as A,bY as _e,bf as be,i as O,e as _,o as c,w as f,l as F,u as s,bk as W,z as H,ag as P,c as V,s as R,J as K,K as ke,bB as se,bA as re,bi as J,ab as le,bn as ne,b as p,x as E,bZ as X,b_ as we,bF as qe,bE as Ce,ah as oe,bC as $e,M as ie,X as de,D as ue,E as N,bd as Ee,Z as Se,r as U,a0 as Ie,a1 as Re,a as y,a2 as Ve,a3 as Me,d as $,t as z,a4 as Ae,bW as ee,aG as Be,a5 as De,a6 as xe,F as Pe,P as je,a9 as ze}from"./app-BdO4bxZX.js";import{u as Oe,a as Fe,R as Ge,b as Ue}from"./AlertInfo.vue_vue_type_style_index_0_scoped_c93aa73f_lang-Co5w612u.js";import{h as Ne}from"./HoverCardTrigger-rrbO4vnC.js";import{C as Le,i as Te,j as He,k as Ke,l as We}from"./pageSettings-CagbRkPA.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=L("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=L("message-circle-question-mark",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=L("monitor-off",[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=L("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=L("tv-minimal-play",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}]]);function te(l){return typeof l=="string"?`'${l}'`:new Je().serialize(l)}const Je=(function(){var t;class l{constructor(){Q(this,t,new Map)}compare(e,a){const o=typeof e,d=typeof a;return o==="string"&&d==="string"?e.localeCompare(a):o==="number"&&d==="number"?e-a:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(a,!0))}serialize(e,a){if(e===null)return"null";switch(typeof e){case"string":return a?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const a=Object.prototype.toString.call(e);if(a!=="[object Object]")return this.serializeBuiltInType(a.length<10?`unknown:${a}`:a.slice(8,-1),e);const o=e.constructor,d=o===Object||o===void 0?"":o.name;if(d!==""&&globalThis[d]===o)return this.serializeBuiltInType(d,e);if(typeof e.toJSON=="function"){const u=e.toJSON();return d+(u!==null&&typeof u=="object"?this.$object(u):`(${this.serialize(u)})`)}return this.serializeObjectEntries(d,Object.entries(e))}serializeBuiltInType(e,a){const o=this["$"+e];if(o)return o.call(this,a);if(typeof(a==null?void 0:a.entries)=="function")return this.serializeObjectEntries(e,a.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,a){const o=Array.from(a).sort((u,v)=>this.compare(u[0],v[0]));let d=`${e}{`;for(let u=0;u<o.length;u++){const[v,g]=o[u];d+=`${this.serialize(v,!0)}:${this.serialize(g)}`,u<o.length-1&&(d+=",")}return d+"}"}$object(e){let a=G(this,t).get(e);return a===void 0&&(G(this,t).set(e,`#${G(this,t).size}`),a=this.serializeObject(e),G(this,t).set(e,a)),a}$function(e){const a=Function.prototype.toString.call(e);return a.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${a.replace(/\s*\n\s*/g,"")}`}$Array(e){let a="[";for(let o=0;o<e.length;o++)a+=this.serialize(e[o]),o<e.length-1&&(a+=",");return a+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((a,o)=>this.compare(a,o)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}t=new WeakMap;for(const n of["Error","RegExp","URL"])l.prototype["$"+n]=function(e){return`${n}(${e})`};for(const n of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])l.prototype["$"+n]=function(e){return`${n}[${e.join(",")}]`};for(const n of["BigInt64Array","BigUint64Array"])l.prototype["$"+n]=function(e){return`${n}[${e.join("n,")}${e.length>0?"n":""}]`};return l})();function Ze(l,t){return l===t||te(l)===te(t)}function ce(l){return A(()=>{var t;return _e(l)?!!((t=be(l))!=null&&t.closest("form")):!0})}var Ye=O({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){return(t,n)=>(c(),_(s(W),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:f(()=>[F(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),Qe=Ye,Xe=O({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(l){const t=l,{primitiveElement:n,currentElement:e}=Oe(),a=A(()=>t.checked??t.value);return H(a,(o,d)=>{if(!e.value)return;const u=e.value,v=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(v,"value").set;if(m&&o!==d){const i=new Event("input",{bubbles:!0}),h=new Event("change",{bubbles:!0});m.call(u,o),u.dispatchEvent(i),u.dispatchEvent(h)}}),(o,d)=>(c(),_(Qe,P({ref_key:"primitiveElement",ref:n},{...t,...o.$attrs},{as:"input"}),null,16))}}),ae=Xe,et=O({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(l){const t=l,n=A(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),e=A(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"||t.value===null||t.value===void 0?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((a,o)=>typeof a=="object"?Object.entries(a).map(([d,u])=>({name:`${t.name}[${o}][${d}]`,value:u})):{name:`${t.name}[${o}]`,value:a}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([a,o])=>({name:`${t.name}[${a}]`,value:o})):[]);return(a,o)=>(c(),V(K,null,[R(" We render single input if it's required "),n.value?(c(),_(ae,P({key:a.name},{...t,...a.$attrs},{name:a.name,value:a.value}),null,16,["name","value"])):(c(!0),V(K,{key:1},ke(e.value,d=>(c(),_(ae,P({key:d.name},{ref_for:!0},{...t,...a.$attrs},{name:d.name,value:d.value}),null,16,["name","value"]))),128))],2112))}}),pe=et;const tt="radio.select";function at(l,t,n){Ne(tt,n,{originalEvent:l,value:t})}var st=O({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(l,{emit:t}){const n=l,e=t,a=se(n,"checked",e,{passive:n.checked===void 0}),{value:o}=re(n),{forwardRef:d,currentElement:u}=J(),v=ce(u),g=A(()=>{var i;return n.id&&u.value?((i=document.querySelector(`[for="${n.id}"]`))==null?void 0:i.innerText)??n.value:void 0});function m(i){n.disabled||at(i,n.value,h=>{e("select",h),!(h!=null&&h.defaultPrevented)&&(a.value=!0,v.value&&h.stopPropagation())})}return(i,h)=>(c(),_(s(W),P(i.$attrs,{id:i.id,ref:s(d),role:"radio",type:i.as==="button"?"button":void 0,as:i.as,"aria-checked":s(a),"aria-label":g.value,"as-child":i.asChild,disabled:i.disabled?"":void 0,"data-state":s(a)?"checked":"unchecked","data-disabled":i.disabled?"":void 0,value:s(o),required:i.required,name:i.name,onClick:le(m,["stop"])}),{default:f(()=>[F(i.$slots,"default",{checked:s(a)}),s(v)&&i.name?(c(),_(s(pe),{key:0,type:"radio",tabindex:"-1",value:s(o),checked:!!s(a),name:i.name,disabled:i.disabled,required:i.required},null,8,["value","checked","name","disabled","required"])):R("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),rt=st;const[lt,nt]=ne("RadioGroupRoot");var ot=O({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(l,{emit:t}){const n=l,e=t,{forwardRef:a,currentElement:o}=J(),d=se(n,"modelValue",e,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),{disabled:u,loop:v,orientation:g,name:m,required:i,dir:h}=re(n),b=Fe(h),q=ce(o);return nt({modelValue:d,changeModelValue:S=>{d.value=S},disabled:u,loop:v,orientation:g,name:m==null?void 0:m.value,required:i}),(S,w)=>(c(),_(s(Ge),{"as-child":"",orientation:s(g),dir:s(b),loop:s(v)},{default:f(()=>[p(s(W),{ref:s(a),role:"radiogroup","data-disabled":s(u)?"":void 0,"as-child":S.asChild,as:S.as,"aria-orientation":s(g),"aria-required":s(i),dir:s(b)},{default:f(()=>[F(S.$slots,"default",{modelValue:s(d)}),s(q)&&s(m)?(c(),_(s(pe),{key:0,required:s(i),disabled:s(u),value:s(d),name:s(m)},null,8,["required","disabled","value","name"])):R("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),it=ot;const[dt,ut]=ne("RadioGroupItem");var ct=O({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(l,{emit:t}){const n=l,e=t,{forwardRef:a,currentElement:o}=J(),d=lt(),u=A(()=>d.disabled.value||n.disabled),v=A(()=>d.required.value||n.required),g=A(()=>{var b;return Ze((b=d.modelValue)==null?void 0:b.value,n.value)});ut({disabled:u,checked:g});const m=E(!1),i=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];X("keydown",b=>{i.includes(b.key)&&(m.value=!0)}),X("keyup",()=>{m.value=!1});function h(){setTimeout(()=>{var b;m.value&&((b=o.value)==null||b.click())},0)}return(b,q)=>(c(),_(s(Ue),{checked:g.value,disabled:u.value,"as-child":"",focusable:!u.value,active:g.value},{default:f(()=>[p(rt,P({...b.$attrs,...n},{ref:s(a),checked:g.value,required:v.value,disabled:u.value,"onUpdate:checked":q[0]||(q[0]=S=>s(d).changeModelValue(b.value)),onSelect:q[1]||(q[1]=S=>e("select",S)),onKeydown:q[2]||(q[2]=we(le(()=>{},["prevent"]),["enter"])),onFocus:h}),{default:f(()=>[F(b.$slots,"default",{checked:g.value,required:v.value,disabled:u.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),pt=ct,ft=O({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const{forwardRef:t}=J(),n=dt();return(e,a)=>(c(),_(s(qe),{present:e.forceMount||s(n).checked.value},{default:f(()=>[p(s(W),P({ref:s(t),"data-state":s(n).checked.value?"checked":"unchecked","data-disabled":s(n).disabled.value?"":void 0,"as-child":e.asChild,as:e.as},e.$attrs),{default:f(()=>[F(e.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),mt=ft;const vt={__name:"RadioGroup",props:{modelValue:{type:[String,Number,Object,null],required:!1},defaultValue:{type:[String,Number,Object,null],required:!1},disabled:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(l,{emit:t}){const n=l,e=t,a=A(()=>{const{class:d,...u}=n;return u}),o=Ce(a,e);return(d,u)=>(c(),_(s(it),P({class:s(oe)("grid gap-2",n.class)},s(o)),{default:f(()=>[F(d.$slots,"default")]),_:3},16,["class"]))}},yt={__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:[String,Number,Object,null],required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},setup(l){const t=l,n=A(()=>{const{class:a,...o}=t;return o}),e=$e(n);return(a,o)=>(c(),_(s(pt),P(s(e),{class:s(oe)("peer aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:f(()=>[p(s(mt),{class:"flex items-center justify-center"},{default:f(()=>[p(s(Le),{class:"h-3.5 w-3.5 text-primary"})]),_:1})]),_:1},16,["class"]))}},gt={class:"flex items-center rc-panel-heading"},ht={class:"grid gap-4 py-4"},_t={class:"grid items-center grid-cols-4 gap-4"},bt={key:2,class:"col-span-2 col-start-2 -mt-4 text-sm text-red-400"},kt={class:"grid items-center grid-cols-4 gap-4"},wt={class:"grid items-center grid-cols-4 gap-4"},qt={class:"col-span-3"},Ct={class:"flex items-center space-x-2 cursor-pointer"},$t={class:"grid items-center grid-cols-4 gap-4"},Et={key:2,class:"col-span-2 col-start-2 -mt-4 text-sm text-red-400"},St={class:"grid items-center grid-cols-4 gap-4"},It={key:0,class:"col-span-2 col-start-2 -mt-4 text-sm text-red-400"},Rt={class:"grid items-center grid-cols-4 gap-4"},Vt={key:0,class:"col-span-2 col-start-2 -mt-4 text-sm text-red-400"},Mt={class:"grid items-center grid-cols-4 gap-4"},At={class:"grid items-center grid-cols-4 gap-4"},Bt={key:2,class:"grid items-center grid-cols-4 gap-4"},Dt={class:"col-span-3"},xt={key:0,class:"ml-2 text-sm text-gray-600"},Pt={key:3,class:"grid items-center grid-cols-4 gap-4"},jt={class:"col-span-3"},zt={class:"pl-2 ml-auto"},Ot={class:"rc-kdb-class2"},Ft={class:"pl-2 ml-auto"},Gt={class:"rc-kdb-class2"},Qt={__name:"CredentialsAddEditDialog",props:{editId:{type:Number,default:0},confirmRotation:{type:Boolean,default:!1}},emits:["save","showConfirmModal"],setup(l,{emit:t}){const{toastSuccess:n}=ie(),e=de(),{openDialog:a,closeDialog:o,isDialogOpen:d}=e,u=t,v=E([]),g=E("usernamePassword"),m=E(!1),i=E({cred_name:"",cred_description:"",cred_username:"",cred_password:"",cred_enable_password:"",ssh_key:"",ssh_key_passphrase:"",rotate_creds:!1,vault_enabled:0,cred_is_default:0}),h=l;function b(w){w.ctrlKey&&w.key==="Enter"&&q()}ue(async()=>{if(h.editId>0){m.value=!0;try{const w=await N.get(`/api/settings/credentials/${h.editId}`);i.value=w.data,w.data.ssh_key?g.value="privateKey":g.value="usernamePassword"}catch(w){console.error("Error loading credential:",w)}finally{m.value=!1}}window.addEventListener("keydown",b)}),Ee(()=>{i.value.rotate_creds=h.confirmRotation}),Se(()=>{window.removeEventListener("keydown",b)});function q(){let w=h.editId>0?`/${h.editId}`:"",r=h.editId>0?"patch":"post";const B={...i.value,selectedMethod:g.value};N[r]("/api/settings/credentials"+w,B).then(C=>{u("save",C.data),n("Credential Created","Credential has been created successfully"),o("DialogNewCred")}).catch(C=>{v.value=C.response.data.errors})}function S(w){w===!0&&u("showConfirmModal",w)}return(w,r)=>{const B=U("RcIcon"),C=U("Label"),D=U("Skeleton"),j=U("Input"),I=U("Button");return c(),_(s(xe),{open:s(d)("DialogNewCred")},{default:f(()=>[p(s(Ie),{"as-child":""}),p(s(Re),{class:"max-w-4xl",onEscapeKeyDown:r[10]||(r[10]=k=>s(o)("DialogNewCred")),onPointerDownOutside:r[11]||(r[11]=k=>s(o)("DialogNewCred")),onCloseClicked:r[12]||(r[12]=k=>s(o)("DialogNewCred"))},{default:f(()=>[p(s(Ve),null,{default:f(()=>[p(s(Me),null,{default:f(()=>[y("h3",gt,[p(B,{name:"credentials",class:"mr-2"}),$(" "+z(l.editId>0?"Edit Credential":"Add Credential")+" "+z(l.editId>0?"(ID: "+l.editId+")":""),1)])]),_:1}),p(s(Ae),null,{default:f(()=>[$(z(l.editId>0?"Edit the credential details below":"Add a new credential by filling in the details below"),1)]),_:1})]),_:1}),y("div",ht,[y("div",_t,[p(C,{for:"cred_name",class:"text-right"},{default:f(()=>[...r[13]||(r[13]=[y("span",{class:"inline-flex items-center gap-1"},[$(" Name "),y("span",{class:"text-red-400"},"*")],-1)])]),_:1}),m.value?(c(),_(D,{key:0,class:"h-8 col-span-3"})):(c(),_(j,{key:1,modelValue:i.value.cred_name,"onUpdate:modelValue":r[0]||(r[0]=k=>i.value.cred_name=k),id:"cred_name",class:"col-span-3",autocomplete:"off",disabled:l.editId>0},null,8,["modelValue","disabled"])),v.value.cred_name?(c(),V("span",bt,z(v.value.cred_name[0]),1)):R("",!0)]),y("div",kt,[p(C,{for:"cred_description",class:"text-right"},{default:f(()=>[...r[14]||(r[14]=[y("span",{class:"inline-flex items-center gap-1"}," Description ",-1)])]),_:1}),m.value?(c(),_(D,{key:0,class:"h-8 col-span-3"})):(c(),_(j,{key:1,modelValue:i.value.cred_description,"onUpdate:modelValue":r[1]||(r[1]=k=>i.value.cred_description=k),id:"cred_description",class:"col-span-3",disabled:l.editId>0},null,8,["modelValue","disabled"]))]),y("div",wt,[p(C,{class:"text-right"},{default:f(()=>[...r[15]||(r[15]=[$("Authentication Method",-1)])]),_:1}),y("div",qt,[m.value?(c(),_(D,{key:0,class:"h-6 w-64"})):(c(),_(s(vt),{key:1,modelValue:g.value,"onUpdate:modelValue":r[2]||(r[2]=k=>g.value=k),class:"flex space-x-6"},{default:f(()=>[y("label",Ct,[p(s(yt),{value:"usernamePassword",id:"usernamePassword",class:"h-5 w-5 rounded-full focus:ring-2 focus:ring-blue-400 focus:outline-none data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-600"}),r[16]||(r[16]=y("span",{class:"text-sm font-medium rc-text-sm-muted"},"Username/Password",-1))])]),_:1},8,["modelValue"]))])]),y("div",$t,[p(C,{for:"cred_username",class:"text-right"},{default:f(()=>[...r[17]||(r[17]=[$(" Username ",-1),y("span",{class:"text-red-400"},"*",-1)])]),_:1}),m.value?(c(),_(D,{key:0,class:"h-8 col-span-3"})):(c(),_(j,{key:1,modelValue:i.value.cred_username,"onUpdate:modelValue":r[3]||(r[3]=k=>i.value.cred_username=k),id:"cred_username",class:"col-span-3",autocomplete:"off"},null,8,["modelValue"])),v.value.cred_username?(c(),V("span",Et,z(v.value.cred_username[0]),1)):R("",!0)]),!m.value&&g.value==="usernamePassword"?(c(),V(K,{key:0},[y("div",St,[p(C,{for:"cred_password",class:"text-right"},{default:f(()=>[...r[18]||(r[18]=[$(" Password ",-1),y("span",{class:"text-red-400"},"*",-1)])]),_:1}),p(s(ee),{modelValue:i.value.cred_password,"onUpdate:modelValue":r[4]||(r[4]=k=>i.value.cred_password=k),id:"cred_password",mainDivClass:"col-span-3"},null,8,["modelValue"]),v.value.cred_password?(c(),V("span",It,z(v.value.cred_password[0]),1)):R("",!0)]),y("div",Rt,[p(C,{for:"cred_enable_password",class:"text-right"},{default:f(()=>[...r[19]||(r[19]=[$(" Enable Password ",-1)])]),_:1}),p(s(ee),{modelValue:i.value.cred_enable_password,"onUpdate:modelValue":r[5]||(r[5]=k=>i.value.cred_enable_password=k),id:"cred_enable_password",mainDivClass:"col-span-3"},null,8,["modelValue"]),v.value.cred_enable_password?(c(),V("span",Vt,z(v.value.cred_enable_password[0]),1)):R("",!0)])],64)):R("",!0),m.value&&g.value==="usernamePassword"?(c(),V(K,{key:1},[y("div",Mt,[p(C,{for:"cred_password",class:"text-right"},{default:f(()=>[...r[20]||(r[20]=[$(" Password ",-1),y("span",{class:"text-red-400"},"*",-1)])]),_:1}),p(D,{class:"h-8 col-span-3"})]),y("div",At,[p(C,{for:"cred_enable_password",class:"text-right"},{default:f(()=>[...r[21]||(r[21]=[$(" Enable Password ",-1)])]),_:1}),p(D,{class:"h-8 col-span-3"})])],64)):R("",!0),!m.value&&l.editId>0?(c(),V("div",Bt,[p(C,{for:"rotate_creds",class:"text-right"},{default:f(()=>[...r[22]||(r[22]=[$(" Rotate Device Credentials ",-1)])]),_:1}),y("div",Dt,[p(s(Be),{checked:i.value.rotate_creds,"onUpdate:checked":[r[6]||(r[6]=k=>i.value.rotate_creds=k),S],id:"rotate_creds"},null,8,["checked"]),i.value.rotate_creds?(c(),V("span",xt,"Device credentials will be rotated")):R("",!0)])])):R("",!0),m.value&&l.editId>0?(c(),V("div",Pt,[p(C,{for:"rotate_creds",class:"text-right"},{default:f(()=>[...r[23]||(r[23]=[$(" Rotate Device Credentials ",-1)])]),_:1}),y("div",jt,[p(D,{class:"h-6 w-16"})])])):R("",!0)]),p(s(De),null,{default:f(()=>[p(I,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:r[7]||(r[7]=k=>s(o)("DialogNewCred")),size:"sm"},{default:f(()=>[...r[24]||(r[24]=[$(" Cancel ",-1),y("div",{class:"pl-2 ml-auto"},[y("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1}),h.editId===0?(c(),_(I,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:r[8]||(r[8]=k=>q()),variant:"primary",disabled:m.value},{default:f(()=>[r[26]||(r[26]=$(" Save ",-1)),y("div",zt,[y("kbd",Ot,[r[25]||(r[25]=$(" Ctrl  ",-1)),p(B,{name:"enter",class:"ml-1"})])])]),_:1},8,["disabled"])):R("",!0),h.editId>0?(c(),_(I,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:r[9]||(r[9]=k=>q()),variant:"primary",disabled:m.value},{default:f(()=>[r[28]||(r[28]=$(" Update ",-1)),y("div",Ft,[y("kbd",Gt,[r[27]||(r[27]=$(" Ctrl  ",-1)),p(B,{name:"enter",class:"ml-1"})])])]),_:1},8,["disabled"])):R("",!0)]),_:1})]),_:1})]),_:1},8,["open"])}}};function Xt(l={}){const{autoMount:t=!0,skipInitialization:n=!1}=l,{toastSuccess:e,toastError:a}=ie(),o=E(0),d=E(1),u=E(1),v=E({}),g=E(!1),m=E(1),i=E({}),h=Te(),b=E(h.get("useCredentials","perPage",10)),q=E(""),S=E(!1),w=E("-id"),r=Pe("formatters"),B=de(),{toggleSort:C}=He(w,I,"useCredentials"),{reload:D}=Ke(I),j=je();t&&!n&&ue(()=>{I()});async function I(x={}){var M;g.value=!0;try{const T=await N.get("/api/settings/credentials",{params:{page:u.value,perPage:b.value,sort:w.value,...v.value}});i.value=T.data,(M=j.currentRoute.value.params)!=null&&M.id&&Z(i.value.data.find(ge=>ge.id===parseInt(j.currentRoute.value.params.id))),m.value=T.data.last_page}catch(T){console.error("Error fetching creds:",T),a("Error","Failed to fetch creds.")}finally{g.value=!1}}const k=()=>{o.value=0,d.value=Math.floor(Math.random()*1e3),B.openDialog("DialogNewCred")},Z=x=>{o.value=x.id,d.value=Math.floor(Math.random()*1e3),B.openDialog("DialogNewCred")},fe=()=>{I(),d.value=Math.floor(Math.random()*1e3)},me=async x=>{try{await N.delete(`/api/settings/credentials/${x}`),I(),e("Credential Deleted","The credential has been deleted successfully."),S.value=!1}catch(M){M.status===422?a("Error",M.response.data.message):(console.error("Error deleting Credential:",M),a("Error","Failed to delete Credential."))}},ve=async x=>{try{await N.post("/api/settings/credentials/delete-many",{ids:x}),I(),e("Credentials Deleted","The creds have been deleted successfully."),S.value=!1,We.emit("deleteManyCredentialsSuccess")}catch(M){M.status===422?a("Error",M.response.data.message):(console.error("Error deleting Credentials:",M),a("Error","Failed to delete Credentials.")),S.value=!1}},ye=ze(()=>{v.value["filter[cred_name]"]=q.value,u.value=1,I()},500);return H(u,()=>{I()}),H(q,()=>{ye()}),H(b,x=>{h.set("useCredentials","perPage",x),I()}),{reload:D,fetchCreds:I,createCred:k,editCred:Z,deleteCredential:me,deleteManyCredentials:ve,handleSave:fe,toggleSort:C,creds:i,currentPage:u,lastPage:m,perPage:b,searchTerm:q,sortParam:w,isLoading:g,editId:o,newCredModalKey:d,showConfirmDelete:S,formatters:r,dialogStore:B,pageSettings:h,router:j}}export{Kt as G,Jt as M,Zt as S,Yt as T,Qt as _,Wt as a,Xt as u};
