import{i as Ee,g as me,aj as Nt,e as c,o as l,u as e,cb as Ft,ah as Lt,af as Ot,w as s,l as Ct,M as we,W as Pe,x as P,D as ue,E as X,Y as $e,r as j,b as t,$ as wt,a0 as Je,a,a1 as Ye,a2 as Qe,t as A,c as E,s as h,d as v,a5 as We,a6 as Ze,J as ee,K as oe,O as Te,z as ie,a9 as ft,aa as se,ab as le,n as Ce,p as $t,j as Dt,k as St,m as Vt,bG as zt,F as Pt,bq as nt,bs as ot,bt as _e,bD as jt,bE as pt,bu as dt,U as Re,aB as re,V as Ue,cc as at,bS as lt,Q as Me,S as Ae,_ as rt,aH as It,bO as vt,C as Kt,a3 as Gt,cd as tt,aF as qt,aG as Ht,bP as Jt,aO as Yt,br as bt,a8 as Qt,ce as Wt}from"./app-BeH5VA0B.js";import{i as gt,j as yt,k as xt,l as De,u as Be,m as Ne,_ as Fe,a as be,b as q,c as Le,d as Oe,e as G,n as Xe,f as ze,g as je,h as Ke,o as Se,p as ke,P as Zt,T as Xt,q as es,r as ts}from"./pageSettings-cSW5S5tC.js";import{_ as Ve}from"./BadgeList-DWIVFGSx.js";import{_ as _t,u as ss,b as as,a as ls}from"./TagMultiSelect-DAHWt-A-.js";import{S as He}from"./Spinner-BZY38eEM.js";import{_ as ns}from"./GeneralPopover-Cp8vZyFb.js";import{_ as st}from"./RcToolTip.vue_vue_type_script_setup_true_lang-DRalBHmQ.js";import{a as os,_ as mt}from"./ToggleGroupItem-D5yw9YiP.js";import{a as ds,T as Et,M as Tt,G as rs}from"./useCredentials-ZXrtc4af.js";import{F as is,S as Rt,C as us,a as cs,b as ms,c as ht,d as ps}from"./shredder-BoUZ_5RA.js";import{S as fs}from"./square-terminal-C2RIX6xO.js";import{B as vs}from"./bell-CzyNq1Ig.js";import{u as gs}from"./useCopy-D7wfK-FG.js";import{C as ys}from"./copy-Dbp3s6BH.js";import{b as xs,c as _s,d as ks,u as bs,_ as hs,a as Cs,e as ws,f as $s}from"./useTemplatesGithub-00CmvLHf.js";import{X as Ds,_ as Ss,a as Vs,b as Ps,c as Is,d as Es}from"./HoverCardTrigger-kfKu-G5T.js";/* empty css               */import"./useMultiSelect-BUZu71zg.js";import"./cloud-alert-qGfTWqOU.js";import"./search-D53CaN6I.js";import"./plus-CwFD4D8q.js";import"./info-DmRK4mZK.js";import"./corner-down-left-5Kvr_-pG.js";const Ts=Ee({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(y){const U=y,w=me(()=>{const{class:S,...n}=U;return n}),k=Nt(w);return(S,n)=>(l(),c(e(Ft),Lt(e(k),{class:e(Ot)("px-2 py-1.5 text-sm font-semibold",y.inset&&"pl-8",U.class)}),{default:s(()=>[Ct(S.$slots,"default")]),_:3},16,["class"]))}}),Rs={class:"flex items-center"},Us={class:"ml-2"},Ms={class:"grid gap-2 p-4"},As={class:"grid items-center grid-cols-4 gap-2"},Bs={key:0,class:"col-span-3"},Ns={key:2,class:"col-span-3 col-start-2 text-sm text-red-400"},Fs={class:"grid items-center grid-cols-4 gap-2"},Ls={key:0,class:"col-span-3"},Os={class:"grid items-center grid-cols-4 gap-2"},zs={key:0,class:"col-span-3"},js={key:2,class:"col-span-3 col-start-2 text-sm text-red-400"},Ks={class:"pl-2 ml-auto"},Gs={class:"rc-kdb-class2"},qs={__name:"CommandAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:U}){const{toastSuccess:w}=we(),k=Pe(),{openDialog:S,closeDialog:n,isDialogOpen:M}=k,g=U,_=P([]),V=P(!1),b=P({command:"",description:"",category:[]}),T=y;function f(p){p.ctrlKey&&p.key==="Enter"&&m()}ue(()=>{T.editId>0&&(V.value=!0,X.get(`/api/commands/${T.editId}`).then(p=>{b.value=p.data,b.value.categoryArray=p.data.category.map(i=>i.id)}).catch(p=>{console.error("Error loading command:",p)}).finally(()=>{V.value=!1})),window.addEventListener("keydown",f)}),$e(()=>{window.removeEventListener("keydown",f)});function m(){const p=T.editId>0?`/${T.editId}`:"",i=T.editId>0?"patch":"post";X[i]("/api/commands"+p,b.value).then(C=>{g("save",C.data),w("Command saved","The command has been saved successfully."),n("DialogNewCommand")}).catch(C=>{var u,d;_.value=((d=(u=C.response)==null?void 0:u.data)==null?void 0:d.errors)||{}})}return(p,i)=>{const C=j("RcIcon"),u=j("Label"),d=j("Skeleton"),R=j("Input"),O=j("Button");return l(),c(e(Ze),{open:e(M)("DialogNewCommand")},{default:s(()=>[t(e(wt),{"as-child":""}),t(e(Je),{class:"p-0 sm:max-w-fit",onEscapeKeyDown:i[4]||(i[4]=r=>e(n)("DialogNewCommand")),onPointerDownOutside:i[5]||(i[5]=r=>e(n)("DialogNewCommand")),onCloseClicked:i[6]||(i[6]=r=>e(n)("DialogNewCommand"))},{default:s(()=>[t(e(Ye),{class:"rc-dialog-header"},{default:s(()=>[t(e(Qe),{class:"text-sm text-rcgray-200"},{default:s(()=>[a("div",Rs,[t(C,{name:"commands"}),a("span",Us,A(y.editId>0?"Edit":"Add")+" Command "+A(y.editId>0?"(ID: "+y.editId+")":""),1)])]),_:1})]),_:1}),a("div",Ms,[a("div",As,[t(u,{for:"command",class:"text-right"},{default:s(()=>[...i[7]||(i[7]=[v(" Command Name ",-1),a("span",{class:"text-red-400"},"*",-1)])]),_:1}),V.value?(l(),E("div",Bs,[t(d,{class:"h-6 w-full"})])):(l(),c(R,{key:1,modelValue:b.value.command,"onUpdate:modelValue":i[0]||(i[0]=r=>b.value.command=r),id:"command",class:"col-span-3"},null,8,["modelValue"])),_.value.command&&!V.value?(l(),E("span",Ns,A(_.value.command[0]),1)):h("",!0)]),a("div",Fs,[t(u,{for:"description",class:"text-right"},{default:s(()=>[...i[8]||(i[8]=[v("Description",-1)])]),_:1}),V.value?(l(),E("div",Ls,[t(d,{class:"h-6 w-full"})])):(l(),c(R,{key:1,modelValue:b.value.description,"onUpdate:modelValue":i[1]||(i[1]=r=>b.value.description=r),id:"description",class:"col-span-3"},null,8,["modelValue"]))]),a("div",Os,[t(u,{class:"text-right"},{default:s(()=>[...i[9]||(i[9]=[v(" Command Group ",-1),a("span",{class:"text-red-400"},"*",-1)])]),_:1}),V.value?(l(),E("div",zs,[t(d,{class:"h-6 w-full"})])):(l(),c(_t,{key:1,modelValue:b.value.category,"onUpdate:modelValue":i[2]||(i[2]=r=>b.value.category=r)},null,8,["modelValue"])),_.value.categoryArray&&!V.value?(l(),E("span",js,A(_.value.categoryArray[0]),1)):h("",!0)])]),t(e(We),{class:"rc-dialog-footer bg-rcgray-800"},{default:s(()=>[t(O,{type:"button",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:i[3]||(i[3]=r=>e(n)("DialogNewCommand")),size:"sm"},{default:s(()=>[...i[10]||(i[10]=[v(" Close ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1}),t(O,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:m,variant:"primary"},{default:s(()=>[v(A(T.editId===0?"Save":"Update")+" ",1),a("div",Ks,[a("kbd",Gs,[i[11]||(i[11]=v(" Ctrl  ",-1)),t(C,{name:"enter",class:"ml-1"})])])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}},Hs={class:"flex items-center"},Js={class:"grid gap-4 p-4"},Ys={class:"max-h-40 overflow-y-auto rounded-lg border border-border bg-background/80 backdrop-blur-sm p-2"},Qs={class:"space-y-1.5"},Ws={class:"text-foreground"},Zs={class:"grid gap-2"},Xs={key:0,class:"text-sm text-red-400 bg-red-900/20 border border-red-700 rounded p-2"},ea={key:1,class:"pl-2 ml-auto"},ta={class:"rc-kdb-class2"},sa={__name:"CommandsBulkUpdateModal",props:{data:{type:Array,required:!0},isOpen:{type:Boolean,default:!1}},emits:["close","updated"],setup(y,{emit:U}){const{toastSuccess:w,toastError:k}=we(),S=Pe(),{closeDialog:n,isDialogOpen:M}=S,g=y,_=U,V=P(""),b=P([]),T=P(!1),f=P([]);async function m(u={}){T.value=!0;try{const d=await X.get("/api/categories?per_page=1000",{});f.value=d.data}catch(d){console.error("Error fetching categories:",d),k("Error","Failed to fetch categories.")}finally{T.value=!1}}function p(u){u.ctrlKey&&u.key==="Enter"&&C(),u.key==="Escape"&&n("DialogBulkUpdateCommands")}ue(()=>{m(),window.addEventListener("keydown",p)}),$e(()=>{window.removeEventListener("keydown",p)});function i(u){_(u==="updated"?"updated":"close")}async function C(){var u,d;if(b.value.length===0){V.value="You must select at least one command group.";return}T.value=!0,V.value="";try{await X.post("/api/commands/bulk-update-categories",{categories:b.value,commands:g.data}),w("Command groups updated",`Successfully updated ${g.data.length} command(s) with new command groups.`),i("updated")}catch(R){const O=((d=(u=R.response)==null?void 0:u.data)==null?void 0:d.message)||"Failed to update command groups";V.value=O,k("Update failed",O)}finally{T.value=!1}}return(u,d)=>{const R=j("RcIcon"),O=j("Label"),r=j("Button");return l(),c(e(Ze),{open:e(M)("DialogBulkUpdateCommands")},{default:s(()=>[t(e(Je),{class:"p-0 sm:max-w-2xl",onEscapeKeyDown:i,onPointerDownOutside:i,onCloseClicked:i},{default:s(()=>[t(e(Ye),{class:"rc-dialog-header"},{default:s(()=>[t(e(Qe),{class:"text-sm text-rcgray-200"},{default:s(()=>[a("div",Hs,[t(R,{name:"commands"}),d[1]||(d[1]=a("span",{class:"ml-2"},"Update Command Groups",-1))])]),_:1})]),_:1}),a("div",Js,[d[5]||(d[5]=a("p",{class:"text-sm text-rcgray-300"},"The commands below will be updated with the selected command groups.",-1)),a("div",Ys,[a("ul",Qs,[(l(!0),E(ee,null,oe(y.data,H=>(l(),E("li",{key:H.id||H.command,class:"flex items-center text-xs font-mono text-muted-foreground bg-muted/60 hover:bg-muted px-3 py-1.5 rounded transition-colors"},[d[2]||(d[2]=a("span",{class:"text-green-400 mr-2"},"$",-1)),a("span",Ws,A(H.command),1)]))),128))])]),a("div",Zs,[t(O,{class:"text-sm font-medium text-rcgray-200"},{default:s(()=>[...d[3]||(d[3]=[v(" Command Groups ",-1),a("span",{class:"text-red-400"},"*",-1)])]),_:1}),t(_t,{modelValue:b.value,"onUpdate:modelValue":d[0]||(d[0]=H=>b.value=H),id:"selectedCategoryObj"},null,8,["modelValue"]),d[4]||(d[4]=a("p",{class:"text-xs text-rcgray-400"},"You must associate one or multiple command groups to the chosen commands.",-1))]),V.value?(l(),E("div",Xs,A(V.value),1)):h("",!0)]),t(e(We),{class:"rc-dialog-footer bg-rcgray-800"},{default:s(()=>[t(r,{type:"button",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:i,size:"sm"},{default:s(()=>[...d[6]||(d[6]=[v(" Cancel ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1}),t(r,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:C,variant:"primary",disabled:T.value||b.value.length===0},{default:s(()=>[T.value?(l(),c(He,{key:0,class:"w-4 h-4 mr-2"})):h("",!0),d[8]||(d[8]=v(" Confirm ",-1)),T.value?h("",!0):(l(),E("div",ea,[a("kbd",ta,[d[7]||(d[7]=v(" Ctrl  ",-1)),t(R,{name:"enter",class:"ml-1"})])]))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])}}};function aa(){const y=P(1),U=gt(),w=P(U.get("useCommands","perPage",10)),k=P("-id"),S=P(""),n=P({}),M=Pe(),g=P(0),_=P(!1),V=P(1),b=P(1),T=P(1),f=P([]),m=P(!1),{openDialog:p,closeDialog:i}=M,{toastSuccess:C,toastError:u}=we(),{reload:d}=xt(r),{toggleSort:R}=yt(k,r,"useCommands"),O=Te();async function r(W={}){_.value=!0;try{const ae=await X.get("/api/commands",{params:{page:y.value,perPage:w.value,sort:k.value,...n.value}});f.value=ae.data,V.value=ae.data.last_page}catch(ae){console.error("Error fetching commands:",ae),u("Error","Failed to fetch commands.")}finally{_.value=!1}}const H=W=>{g.value=0,b.value=Math.random(),p("DialogNewCommand")};function $(W){g.value=W,b.value=Math.random(),p("DialogNewCommand")}const Z=async W=>{try{await X.delete(`/api/commands/${W}`),r(),C("Command Deleted","The command has been deleted successfully."),m.value=!1}catch(ae){ae.status===422?u("Error",ae.response.data.message):(console.error("Error deleting Command Group:",ae),u("Error","Failed to delete Command Group."))}},K=async W=>{try{await X.post("/api/commands/delete-many",{ids:W}),r(),C("Commands Deleted","The commands have been deleted successfully."),m.value=!1,De.emit("deleteManyCommandsSuccess")}catch(ae){ae.status===422?u("Error",ae.response.data.message):(console.error("Error deleting Command Group:",ae),u("Error","Failed to delete Command Group."))}},o=W=>{g.value=W,b.value=Math.random(),p("DialogNewCommand")},N=()=>{T.value=Math.random(),p("DialogBulkUpdateCommands")},D=()=>{T.value=Math.random(),i("DialogBulkUpdateCommands")},z=()=>{r(),T.value=Math.random(),i("DialogBulkUpdateCommands"),C("Bulk Update","Commands updated successfully.")},Q=()=>{r(),b.value=Math.random()};function B(W){W.altKey&&W.key==="n"&&(W.preventDefault(),p("DialogNewCommand"))}const de=ft(()=>{n.value["filter[q]"]=S.value,y.value=1,r()},500);ie(y,()=>{r()}),ie(S,()=>{de()}),ie(w,W=>{U.set("useCommands","perPage",w.value),r()});function Y(){O.push({name:"device-configprops"})}function J(){O.push({name:"command-compare-options"})}function L(W,ae,ge){const pe=!ge;W.eoc_enabled=pe,X.post(`/api/commands/set-eoc-state/${ae}`,{state:pe}).then(()=>C("Success","CIC check updated")).catch(F=>{var ce,ne;W.eoc_enabled=ge,console.log(F),u("Error",((ne=(ce=F.response)==null?void 0:ce.data)==null?void 0:ne.message)||"Failed to update CIC")})}function Ge(W,ae,ge){const pe=!ge;W.change_notification=pe,X.post(`/api/commands/toggle-change-notification/${ae}`,{change_notification:pe}).then(()=>{C("Success","Change notification setting updated")}).catch(F=>{var ce,ne;W.change_notification=ge,console.log(F),u("Error",((ne=(ce=F.response)==null?void 0:ce.data)==null?void 0:ne.message)||"Failed to update change notification")})}function he(W,ae,ge){const pe=!ge;W.save_config=pe,X.post(`/api/commands/set-save_config-state/${ae}`,{state:pe}).then(()=>{C("Success","Save config setting updated")}).catch(F=>{var ce,ne;W.save_config=ge,console.log(F),u("Error",((ne=(ce=F.response)==null?void 0:ce.data)==null?void 0:ne.message)||"Failed to update save config")})}return{commands:f,currentPage:y,editId:g,isLoading:_,lastPage:V,newCommandModalKey:b,newBulkUpdateCommandsKey:T,perPage:w,searchTerm:S,showConfirmDelete:m,sortParam:k,createCommand:H,deleteCommand:Z,deleteManyCommands:K,fetchCommands:r,handleKeyDown:B,handleSave:Q,navToConfigProps:Y,navToCompareOptions:J,openDialog:p,reload:d,toggleSort:R,updateCommand:$,viewEditDialog:o,openBulkUpdateDialog:N,handleCloseBulkUpdate:D,handleUpdateBulkCommands:z,updateCICEnabled:L,updateChangeNotification:Ge,updateSaveConfig:he}}const la={class:"flex flex-col h-full gap-1 text-center"},na={class:"flex items-center justify-between p-4"},oa={class:"flex items-center"},da={class:"flex items-center justify-end"},ra={class:"px-6"},ia={key:0,class:"fixed bottom-5 left-1/2 transform -translate-x-1/2 z-50 flex items-center gap-4 bg-rcgray-900 text-white border border-rcgray-600 shadow-xl px-4 py-1.5 rounded-lg"},ua={class:"text-sm"},ca={class:"hidden md:inline-flex mr-1"},ma={__name:"Main",setup(y){const{commands:U,currentPage:w,editId:k,isLoading:S,lastPage:n,newCommandModalKey:M,newBulkUpdateCommandsKey:g,perPage:_,searchTerm:V,showConfirmDelete:b,sortParam:T,createCommand:f,deleteCommand:m,deleteManyCommands:p,fetchCommands:i,handleKeyDown:C,handleSave:u,navToConfigProps:d,navToCompareOptions:R,reload:O,toggleSort:r,viewEditDialog:H,openBulkUpdateDialog:$,handleCloseBulkUpdate:Z,handleUpdateBulkCommands:K,updateCICEnabled:o,updateChangeNotification:N,updateSaveConfig:D}=aa(),{selectedRows:z,selectAll:Q,toggleSelectAll:B,toggleSelectRow:de}=Be(U);ue(()=>{i(),window.addEventListener("keydown",C),De.on("deleteManyCommandsSuccess",()=>{z.value=[],Q.value=!1})}),$e(()=>{window.removeEventListener("keydown",C)});const Y=me(()=>{var J;return(((J=U.value)==null?void 0:J.data)||[]).filter(L=>z.value.includes(L.id))});return(J,L)=>{const Ge=j("Input"),he=j("RcIcon"),W=j("Button"),ae=j("Separator"),ge=j("Checkbox"),pe=j("RcBadge");return l(),E("div",la,[a("div",na,[a("div",oa,[t(Ge,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter commands...",modelValue:e(V),"onUpdate:modelValue":L[0]||(L[0]=F=>se(V)?V.value=F:null)},null,8,["modelValue"]),e(V)?(l(),c(Ne,{key:0,"onUpdate:modelValue":L[1]||(L[1]=F=>V.value="")})):h("",!0)]),a("div",da,[t(W,{class:"px-2 py-1 mr-2 text-sm hover:animate-pulse flex items-center",size:"sm",variant:"outline",onClick:e(d)},{default:s(()=>[t(he,{name:"configprop",class:"lg:mr-2"}),L[13]||(L[13]=a("span",{class:"hidden lg:inline-flex"},"Config Properties",-1))]),_:1},8,["onClick"]),t(W,{class:"px-2 py-1 text-sm hover:animate-pulse flex items-center",size:"sm",variant:"outline",onClick:e(R)},{default:s(()=>[t(he,{name:"config-compare",class:"lg:mr-2"}),L[14]||(L[14]=a("span",{class:"hidden lg:inline-flex"},"Compare Options",-1))]),_:1},8,["onClick"]),t(ae,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),t(W,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:le(e(f),["prevent"]),variant:"primary"},{default:s(()=>[...L[15]||(L[15]=[v(" New Command ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1},8,["onClick"]),t(he,{name:"refresh",class:"w-4 h-4 mx-4 text-muted-foreground cursor-pointer hover:text-rcgray-200",onClick:L[2]||(L[2]=F=>e(O)())})])]),a("div",ra,[t(e(je),null,{default:s(()=>[t(e(Fe),null,{default:s(()=>[t(e(be),null,{default:s(()=>[t(e(q),{class:"w-[2%]"},{default:s(()=>[t(ge,{id:"selectAll",modelValue:e(Q),"onUpdate:modelValue":L[3]||(L[3]=F=>se(Q)?Q.value=F:null),checked:e(Q),onClick:L[4]||(L[4]=F=>e(B)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:s(()=>[t(W,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:L[5]||(L[5]=F=>e(r)("id"))},{default:s(()=>[t(he,{name:"sort",sortParam:e(T),field:"id"},null,8,["sortParam"]),L[16]||(L[16]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:s(()=>[t(W,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:L[6]||(L[6]=F=>e(r)("command"))},{default:s(()=>[t(he,{name:"sort",sortParam:e(T),field:"command"},null,8,["sortParam"]),L[17]||(L[17]=a("span",{class:"ml-2"},"Command",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:s(()=>[...L[18]||(L[18]=[v("Description",-1)])]),_:1}),t(e(q),{class:"w-[40%]"},{default:s(()=>[...L[19]||(L[19]=[v("Command Groups",-1)])]),_:1}),t(e(q),{class:"w-[40%]"},{default:s(()=>[...L[20]||(L[20]=[v("Config Properties",-1)])]),_:1}),t(e(q),{class:"w-[40%]"},{default:s(()=>[L[21]||(L[21]=v(" Options ",-1)),t(ns,{title:"Command Options",description:"Each command has multiple options. You can toggle CIC checks, choose whether to save unchanged configs, and enable or disable change notifications.",href:J.$rconfigDocsUrl+"/devices/commands/",linkText:"Command Docs",align:"end"},{trigger:s(()=>[t(W,{variant:"link",size:"sm",class:"text-blue-400 hover:text-blue-300 p-0"},{default:s(()=>[t(e(ds),{class:"h-3.5 w-3.5 ml-1"})]),_:1})]),_:1},8,["href"])]),_:1}),t(e(q),{class:"w-[10%]"},{default:s(()=>[...L[22]||(L[22]=[v("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(Le),null,{default:s(()=>[e(S)?(l(),c(Oe,{key:0})):e(S)?(l(),c(ze,{key:2})):(l(!0),E(ee,{key:1},oe(e(U).data,(F,ce)=>(l(),c(e(be),{key:F.id},{default:s(()=>[t(e(G),{class:"text-start"},{default:s(()=>[t(ge,{class:"cursor-pointer",id:"select-"+F.id,checked:!!e(z).includes(F.id),onClick:ne=>e(de)(F.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(F.id),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(F.command),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(F.description),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Ve,{items:F.category,displayField:"categoryName",linkField:"view_url",maxVisible:8,hoverCardFields:["id","categoryName"]},null,8,["items"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>{var ne;return[v(A(((ne=F.config_properties)==null?void 0:ne.length)||0),1)]}),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(e(os),{type:"multiple",class:"flex gap-1"},{default:s(()=>[t(e(mt),{value:"cic","data-state":F.eoc_enabled?"on":"off",onClick:ne=>e(o)(F,F.id,F.eoc_enabled),class:"rounded p-1 px-2 transition-colors rc-btn-shadow data-[state=on]:bg-blue-500 data-[state=off]:bg-gray-800 hover:data-[state=off]:bg-gray-700 hover:data-[state=on]:bg-blue-400"},{default:s(()=>[t(st,{delayDuration:100,content:F.eoc_enabled?"CIC Enabled: On":"CIC Enabled: Off",side:"bottom"},{trigger:s(()=>[t(e(is),{class:Ce(["h-4 w-4 focus:outline-none",F.eoc_enabled?"text-black":"text-blue-300"])},null,8,["class"])]),_:2},1032,["content"])]),_:2},1032,["data-state","onClick"]),t(e(mt),{value:"keep","data-state":F.save_config?"on":"off",onClick:ne=>e(D)(F,F.id,F.save_config),class:"rounded p-1 px-2 transition-colors rc-btn-shadow data-[state=on]:bg-emerald-500 data-[state=off]:bg-gray-800 hover:data-[state=off]:bg-gray-700 hover:data-[state=on]:bg-emerald-400"},{default:s(()=>[t(st,{delayDuration:100,content:F.save_config?"Keep Unchanged Config: On":"Keep Unchanged Config: Off",side:"bottom"},{trigger:s(()=>[t(e(fs),{class:Ce(["h-4 w-4 focus:outline-none",F.save_config?"text-black":"text-emerald-300"])},null,8,["class"])]),_:2},1032,["content"])]),_:2},1032,["data-state","onClick"]),t(e(mt),{value:"notify","data-state":F.change_notification?"on":"off",onClick:ne=>e(N)(F,F.id,F.change_notification),class:"rounded p-1 px-2 transition-colors rc-btn-shadow data-[state=on]:bg-amber-400 data-[state=off]:bg-gray-800 hover:data-[state=off]:bg-gray-700 hover:data-[state=on]:bg-amber-300"},{default:s(()=>[t(st,{delayDuration:100,content:F.change_notification?"Change Notifications: On":"Change Notifications: Off",side:"bottom"},{trigger:s(()=>[t(e(vs),{class:Ce(["h-4 w-4 focus:outline-none",F.change_notification?"text-black":"text-amber-300"])},null,8,["class"])]),_:2},1032,["content"])]),_:2},1032,["data-state","onClick"])]),_:2},1024)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Xe,{rowData:F,onOnEdit:ne=>e(H)(F.id),onOnDelete:ne=>e(m)(F.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(z).length?(l(),E("div",ia,[a("span",ua,[t(pe,{variant:"primary",class:"mr-1"},{default:s(()=>[v(A(e(z).length),1)]),_:1}),L[23]||(L[23]=v(" command(s) selected ",-1))]),t(W,{class:"text-sm px-1.5 py-0 hover:animate-pulse h-8",variant:"outline",onClick:e($)},{default:s(()=>[t(he,{name:"command-group",class:"inline-block mr-0 md:mr-2 ml-0",size:"14"}),L[24]||(L[24]=a("span",{class:"hidden md:inline-flex"},"Bulk assign command group",-1))]),_:1},8,["onClick"]),t(W,{class:"text-sm px-1.5 py-0 bg-red-600 hover:bg-red-700 hover:animate-pulse h-8",onClick:L[7]||(L[7]=le(F=>b.value=!0,["prevent"])),variant:"primary"},{default:s(()=>[t(e(Rt),{class:"inline-block mr-0 md:mr-2 ml-0",size:"14"}),a("span",ca,"Delete "+A(e(z).length),1)]),_:1})])):h("",!0),t(Ke,{currentPage:e(w),lastPage:e(n),perPage:e(_),"onUpdate:currentPage":L[8]||(L[8]=F=>w.value=F),"onUpdate:perPage":L[9]||(L[9]=F=>_.value=F),totalRecords:e(U).total,isLoading:e(S)},null,8,["currentPage","lastPage","perPage","totalRecords","isLoading"]),(l(),c(qs,{onSave:L[10]||(L[10]=F=>e(u)()),key:e(M),editId:e(k)},null,8,["editId"])),(l(),c(sa,{key:e(g),editId:e(k),data:Y.value,onClose:e(Z),onUpdated:e(K)},null,8,["editId","data","onClose","onUpdated"])),t(Se,{ids:e(z),showConfirmDelete:e(b),onClose:L[11]||(L[11]=F=>b.value=!1),onHandleDelete:L[12]||(L[12]=F=>e(p)(e(z)))},null,8,["ids","showConfirmDelete"])])])}}},pa={class:"text-xs text-gray-500 line-clamp-1 mt-1 ml-1"},fa={class:"max-w-xs"},va={key:1,class:"text-xs text-gray-500"},ga={__name:"CategoryCell",props:{categoryName:{type:String,required:!0},categoryDescription:{type:String,required:!0},badgeColor:{type:String,default:""},defaultBadgeClass:{type:String,default:"bg-gray-600 text-gray-200 border-gray-500"},wordLimit:{type:Number,default:10},delayDuration:{type:Number,default:800},skipDelayDuration:{type:Number,default:500}},setup(y){const U=y,w=me(()=>U.categoryDescription&&U.categoryDescription.split(" ").length>U.wordLimit);return(k,S)=>(l(),c(e(G),{class:"text-start"},{default:s(()=>[a("span",{class:Ce([y.badgeColor||y.defaultBadgeClass,"w-fit flex items-center text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"])},A(y.categoryName),3),w.value?(l(),c(e($t),{key:0,"delay-duration":y.delayDuration,"skip-delay-duration":y.skipDelayDuration},{default:s(()=>[t(e(Dt),null,{default:s(()=>[t(e(St),{"as-child":""},{default:s(()=>[a("span",pa,A(y.categoryDescription),1)]),_:1}),t(e(Vt),{side:"bottom"},{default:s(()=>[a("p",fa,A(y.categoryDescription),1)]),_:1})]),_:1})]),_:1},8,["delay-duration","skip-delay-duration"])):(l(),E("span",va,A(y.categoryDescription),1))]),_:1}))}},ya={class:"flex flex-col h-full gap-1 text-center"},xa={class:"flex items-center justify-between p-4"},_a={class:"flex items-center"},ka={class:"flex items-center justify-end"},ba={class:"px-6"},ha={__name:"Main",setup(y){const{reload:U,editId:w,categories:k,currentPage:S,perPage:n,searchTerm:M,lastPage:g,isLoading:_,fetchCommandGroups:V,viewEditDialog:b,createCommandGroup:T,deleteCommandGroup:f,deleteManyCommandGroups:m,handleSave:p,showConfirmDelete:i,handleKeyDown:C,newCommandGroupsModalKey:u,toggleSort:d,sortParam:R}=ss(),{selectedRows:O,selectAll:r,toggleSelectAll:H,toggleSelectRow:$}=Be(k),Z=Te();return ue(()=>{var K,o;V(),(o=(K=Z.currentRoute)==null?void 0:K.value.params)!=null&&o.id&&(w.value=parseInt(Z.currentRoute.value.params.id),b(w.value)),window.addEventListener("keydown",C),De.on("deleteManyCommandGroupsSuccess",()=>{O.value=[],r.value=!1})}),$e(()=>{window.removeEventListener("keydown",C)}),(K,o)=>{const N=j("Input"),D=j("Button"),z=j("RcIcon"),Q=j("Checkbox");return l(),E("div",ya,[o[20]||(o[20]=a("div",{class:"hidden text-yellow-200 text-teal-100 bg-yellow-700 bg-teal-700 border-yellow-500 border-teal-500 bg-stone-700 text-stone-200 border-stone-500 bg-lime-700 text-lime-200 border-lime-500 bg-sky-700 text-sky-100 border-sky-500 bg-violet-700 text-violet-200 border-violet-500 bg-fuchsia-700 text-fuchsia-200 border-fuchsia-500"},null,-1)),a("div",xa,[a("div",_a,[t(N,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter Command Groups...",modelValue:e(M),"onUpdate:modelValue":o[0]||(o[0]=B=>se(M)?M.value=B:null)},null,8,["modelValue"]),e(M)?(l(),c(Ne,{key:0,"onUpdate:modelValue":o[1]||(o[1]=B=>M.value="")})):h("",!0)]),a("div",ka,[e(O).length?(l(),c(D,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:o[2]||(o[2]=le(B=>i.value=!0,["prevent"])),variant:"primary"},{default:s(()=>[v(" Delete Selected "+A(e(O).length)+" Command Group(s) ",1)]),_:1})):h("",!0),t(D,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:le(e(T),["prevent"]),variant:"primary"},{default:s(()=>[...o[13]||(o[13]=[v(" New Command Group ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1},8,["onClick"]),t(z,{name:"refresh",class:"w-4 h-4 mx-4 text-muted-foreground cursor-pointer hover:text-rcgray-200",onClick:o[3]||(o[3]=B=>e(U)())})])]),a("div",ba,[t(e(je),null,{default:s(()=>[t(e(Fe),null,{default:s(()=>[t(e(be),null,{default:s(()=>[t(e(q),{class:"w-[2%]"},{default:s(()=>[t(Q,{id:"selectAll",modelValue:e(r),"onUpdate:modelValue":o[4]||(o[4]=B=>se(r)?r.value=B:null),checked:e(r),onClick:o[5]||(o[5]=B=>e(H)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:s(()=>[t(D,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:o[6]||(o[6]=B=>e(d)("id"))},{default:s(()=>[t(z,{name:"sort",sortParam:e(R),field:"id"},null,8,["sortParam"]),o[14]||(o[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[10%]"},{default:s(()=>[t(D,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:o[7]||(o[7]=B=>e(d)("categoryName"))},{default:s(()=>[t(z,{name:"sort",sortParam:e(R),field:"categoryName"},null,8,["sortParam"]),o[15]||(o[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:s(()=>[...o[16]||(o[16]=[v("Commands",-1)])]),_:1}),t(e(q),{class:"w-[40%]"},{default:s(()=>[...o[17]||(o[17]=[v("Devices",-1)])]),_:1}),t(e(q),{class:"w-[10%]"},{default:s(()=>[...o[18]||(o[18]=[v("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(Le),null,{default:s(()=>[e(_)?(l(),c(Oe,{key:0})):e(_)?(l(),c(ze,{key:2})):(l(!0),E(ee,{key:1},oe(e(k).data,B=>(l(),c(e(be),{key:B.id},{default:s(()=>[t(e(G),{class:"text-start"},{default:s(()=>[t(Q,{class:"cursor-pointer",id:"select-"+B.id,checked:!!e(O).includes(B.id),onClick:de=>e($)(B.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(B.id),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(ga,{"category-name":B.categoryName,"category-description":B.categoryDescription,"badge-color":B.badgeColor,"word-limit":8},null,8,["category-name","category-description","badge-color"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[B.command.length==0?(l(),c(st,{key:0,delayDuration:100,content:"No commands attached to this command group",side:"bottom"},{trigger:s(()=>[t(zt,{class:"ml-1 px-2",variant:"warning",size:"sm"},{default:s(()=>[...o[19]||(o[19]=[v("0 Commands",-1)])]),_:1})]),_:1})):h("",!0),t(Ve,{items:B.command,displayField:"command",linkField:"view_url",maxVisible:8,hoverCardFields:["id","command"],showEmptyText:!1},null,8,["items"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Ve,{items:B.device,displayField:"device_name",linkField:"view_url",maxVisible:8,hoverCardFields:["id","device_name","device_ip"]},null,8,["items"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Xe,{rowData:B,onOnEdit:de=>e(b)(B.id),onOnDelete:de=>e(f)(B.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Ke,{currentPage:e(S),lastPage:e(g),perPage:e(n),"onUpdate:currentPage":o[8]||(o[8]=B=>S.value=B),"onUpdate:perPage":o[9]||(o[9]=B=>n.value=B),totalRecords:e(k).total,isLoading:e(_)},null,8,["currentPage","lastPage","perPage","totalRecords","isLoading"]),(l(),c(as,{onSave:o[10]||(o[10]=B=>e(p)()),key:e(u),editId:e(w)},null,8,["editId"])),t(Se,{ids:e(O),showConfirmDelete:e(i),onClose:o[11]||(o[11]=B=>i.value=!1),onHandleDelete:o[12]||(o[12]=B=>e(m)(e(O)))},null,8,["ids","showConfirmDelete"])])])}}},Ca={__name:"ActionsMenuDevices",props:{rowData:{type:Object,required:!0},showEditBtn:{type:Boolean,default:!0},showViewDetailsBtn:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!0},isLocked:{type:Boolean,default:!1},showRolesBtn:{type:Boolean,default:!1},showCopyDownloadDebug:{type:Boolean,default:!1}},emits:["onEdit","onDelete","onDisable","onClone","onViewDetails","onEnable","onRoleAssignment"],setup(y,{emit:U}){const w=P(!1),k=P(!1),S=U,{toastSuccess:n,toastError:M}=we(),{copyItem:g}=gs(),_=Pt("appDirPath",null),V=y;function b(){S("onEdit")}function T(){S("onClone")}function f(){w.value=!0}function m(){S("onDelete"),w.value=!1}function p(){k.value=!0}function i(){S("onDisable"),k.value=!1}function C(){S("onEnable")}function u(){S("onViewDetails")}function d(){S("onRoleAssignment")}function R(){if(!_){console.error("appDirPath not available");return}const O=`cd ${_} && php artisan rconfig:download-device ${V.rowData.id} -d`;try{g(V.rowData.id,O),n("Device Download {ID:"+V.rowData.id+"} debug command copied to clipboard")}catch(r){console.error("Failed to copy snippet:",r),M("Failed to copy Device Download debug command")}}return(O,r)=>{const H=j("Button"),$=j("RcIcon");return l(),E("div",null,[t(e(dt),null,{default:s(()=>[t(e(nt),{"as-child":""},{default:s(()=>[t(H,{variant:"ghost",class:"hover:animate-pulse"},{default:s(()=>[...r[2]||(r[2]=[v(" ... ",-1)])]),_:1})]),_:1}),t(e(ot),{class:"w-56",align:"end",side:"bottom"},{default:s(()=>[y.showCopyDownloadDebug?(l(),c(e(_e),{key:0,class:"cursor-pointer hover:bg-rcgray-800",onClick:R},{default:s(()=>[r[3]||(r[3]=a("span",{class:"text-gray-300 group-hover:text-gray-200"},"Debug Cmd",-1)),t(e(ke),null,{default:s(()=>[t($,{name:"commands",size:"16",class:"text-blue-300"})]),_:1})]),_:1})):h("",!0),y.showRolesBtn?(l(),c(e(_e),{key:1,class:"cursor-pointer hover:bg-rcgray-800",onClick:d},{default:s(()=>[r[4]||(r[4]=a("span",null,"Roles",-1)),t(e(ke),null,{default:s(()=>[t($,{name:"rbac",size:"16"})]),_:1})]),_:1})):h("",!0),y.showViewDetailsBtn?(l(),c(e(_e),{key:2,class:"cursor-pointer hover:bg-rcgray-800",onClick:u},{default:s(()=>[r[5]||(r[5]=a("span",null,"View Details",-1)),t(e(ke),null,{default:s(()=>[t(e(jt),{size:"16"})]),_:1})]),_:1})):h("",!0),y.showEditBtn?(l(),c(e(_e),{key:3,class:"cursor-pointer hover:bg-rcgray-800",onClick:b},{default:s(()=>[r[6]||(r[6]=a("span",null,"Edit",-1)),t(e(ke),null,{default:s(()=>[t(e(Zt),{size:"16"})]),_:1})]),_:1})):h("",!0),y.showEditBtn?(l(),c(e(_e),{key:4,class:"cursor-pointer hover:bg-rcgray-800 group",onClick:T},{default:s(()=>[r[7]||(r[7]=a("span",{class:"text-blue-400 group-hover:text-blue-500"},"Clone",-1)),t(e(ke),null,{default:s(()=>[t(e(ys),{size:"16",class:"text-blue-400 group-hover:text-blue-500"})]),_:1})]),_:1})):h("",!0),y.showEditBtn?(l(),c(e(pt),{key:5})):h("",!0),y.rowData.status===100?(l(),c(e(_e),{key:6,class:"cursor-pointer hover:bg-rcgray-800",onClick:C},{default:s(()=>[r[8]||(r[8]=a("span",null,"Enable",-1)),t(e(ke),null,{default:s(()=>[t(e(Et),{size:"16",class:"text-green-400"})]),_:1})]),_:1})):h("",!0),y.rowData.status!=100?(l(),c(e(_e),{key:7,class:"cursor-pointer hover:bg-rcgray-800",onClick:p},{default:s(()=>[r[9]||(r[9]=a("span",null,"Disable",-1)),t(e(ke),null,{default:s(()=>[t(e(Tt),{size:"16",class:"text-red-300"})]),_:1})]),_:1})):h("",!0),y.canDelete&&!y.isLocked?(l(),c(e(_e),{key:8,class:"group cursor-pointer hover:bg-rcgray-800",onClick:f},{default:s(()=>[r[10]||(r[10]=a("span",{class:"text-red-500 group-hover:text-red-400"},"Delete",-1)),t(e(ke),null,{default:s(()=>[t(e(Xt),{size:"16",class:"text-red-500 group-hover:text-red-400"})]),_:1})]),_:1})):h("",!0),y.isLocked?(l(),c(e(_e),{key:9,disabled:"",class:"cursor-default opacity-70"},{default:s(()=>[r[11]||(r[11]=a("span",{class:"italic text-slate-500"},"Vector CM Locked",-1)),t(e(ke),null,{default:s(()=>[t($,{name:"lock"})]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1}),t(Se,{ids:[y.rowData.id],showConfirmDisable:k.value,onClose:r[0]||(r[0]=Z=>k.value=!1),onHandleDisable:i},null,8,["ids","showConfirmDisable"]),t(Se,{ids:[y.rowData.id],showConfirmDelete:w.value,onClose:r[1]||(r[1]=Z=>w.value=!1),onHandleDelete:m},null,8,["ids","showConfirmDelete"])])}}},wa={class:"hidden lg:inline-flex"},$a={key:0,class:"text-sm font-light"},Da={class:"text-sm font-semibold"},Sa={class:"relative items-center w-full"},Va={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Pa={class:"py-1"},Ia=["onClick"],Ea=["checked"],Ta={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Ra={"data-size":"20"},Ua={class:"p-1 border-5"},Ma=Ee({__name:"CategoryFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:U}){const w=U,k=P([]),S=P(!1),n=P([]),M=P(""),g=P(!1),_=y;ue(()=>{b()}),ie(()=>_.modelValue,f=>{n.value=f,g.value=n.value.length===k.value.length});function V(f){if(f.id===9999999)g.value?(n.value=[],g.value=!1):(n.value=[...k.value],g.value=!0);else{const m=n.value.findIndex(p=>p.id===f.id);m!==-1?(n.value.splice(m,1),g.value=!1):(n.value.push(f),n.value.length===k.value.length&&(g.value=!0))}S.value=!1,w("update:modelValue",n.value)}function b(){X.get("/api/categories/?perPage=10000&sort=categoryName").then(f=>{k.value=f.data.data})}const T=me(()=>k.value.filter(f=>f.categoryName.toLowerCase().includes(M.value.toLowerCase())));return(f,m)=>{const p=j("RcIcon");return l(),c(e(Ae),null,{default:s(()=>[t(e(Re),null,{default:s(()=>[t(e(re),{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:s(()=>[t(p,{name:"command-group",class:"lg:mr-2"}),a("div",wa,[n.value&&n.value.length===0?(l(),E(ee,{key:0},[v("Command Group")],64)):(l(),E(ee,{key:1},[n.value.length>0?(l(),E("span",$a,[m[2]||(m[2]=v(" Command Group ",-1)),a("strong",Da,A(n.value.length)+" Selected",1)])):h("",!0)],64))])]),_:1})]),_:1}),t(e(Ue),{side:"bottom",align:"start",class:"w-64 p-0"},{default:s(()=>[a("div",Sa,[t(e(at),{id:"search",type:"text",modelValue:M.value,"onUpdate:modelValue":m[0]||(m[0]=i=>M.value=i),placeholder:"Search",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Va,[t(p,{name:"search"})])]),t(e(lt)),t(e(Me),{class:"h-44"},{default:s(()=>[a("div",Pa,[(l(!0),E(ee,null,oe(T.value,i=>(l(),E("div",{key:i.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:C=>V(i)},[a("input",{type:"checkbox",checked:n.value.some(C=>C.id===i.id),class:"mr-2"},null,8,Ea),a("span",Ta,[a("span",Ra,A(i.categoryName),1)])],8,Ia))),128))])]),_:1}),t(e(lt)),a("div",Ua,[t(e(re),{variant:"ghost",class:"justify-start w-full p-1",onClick:m[1]||(m[1]=i=>V({id:9999999}))},{default:s(()=>[t(p,{name:"select-all",isSelected:g.value,size:"16",class:"mr-2"},null,8,["isSelected"]),a("span",null,A(g.value?"Deselect All":"Select All"),1)]),_:1})])]),_:1})]),_:1})}}}),Aa={class:"p-2"},Ba={class:"flex justify-between mb-2"},Na={class:"p-2"},Fa={class:"flex items-center space-x-2"},La=["for"],Oa={key:0,class:"text-xs text-muted-foreground ml-1"},za={key:0,class:"flex items-center space-x-1"},ja={__name:"ColumnChooser",props:{columns:{type:Array,required:!0},modelValue:{type:Array,required:!0},storageKey:{type:String,required:!0}},emits:["update:modelValue"],setup(y,{emit:U}){const w=y,k=U,S=P(!1),n=P([...w.modelValue]);ie(()=>w.modelValue,C=>{n.value=[...C]},{deep:!0});const M=me(()=>[...w.columns].sort((C,u)=>{const d=n.value.indexOf(C.key),R=n.value.indexOf(u.key);if(d>=0&&R>=0)return d-R;if(d>=0)return-1;if(R>=0)return 1;const O=w.columns.findIndex(H=>H.key===C.key),r=w.columns.findIndex(H=>H.key===u.key);return O-r})),g=C=>n.value.includes(C);function _(){localStorage.setItem(w.storageKey,JSON.stringify(n.value))}function V(){const C=localStorage.getItem(w.storageKey);if(C)try{const d=JSON.parse(C).filter(R=>w.columns.some(O=>O.key===R));n.value=d,k("update:modelValue",d)}catch(u){console.error("Error loading column preferences:",u)}}function b(C){n.value.includes(C)?n.value=n.value.filter(u=>u!==C):(n.value.push(C),n.value.sort((u,d)=>{const R=w.columns.findIndex(r=>r.key===u),O=w.columns.findIndex(r=>r.key===d);return R-O})),k("update:modelValue",n.value),_()}function T(C){const u=n.value.indexOf(C);if(u>0){const d=[...n.value],R=d[u];d[u]=d[u-1],d[u-1]=R,n.value=d,k("update:modelValue",d),_()}}function f(C){const u=n.value.indexOf(C);if(u<n.value.length-1){const d=[...n.value],R=d[u];d[u]=d[u+1],d[u+1]=R,n.value=d,k("update:modelValue",d),_()}}function m(){n.value=w.columns.map(C=>C.key),k("update:modelValue",n.value),_()}function p(){const C=w.columns.filter(u=>u.mandatory).map(u=>u.key);n.value=C,k("update:modelValue",n.value),_()}function i(){const C=w.columns.filter(u=>u.default).map(u=>u.key);n.value=C,k("update:modelValue",n.value),_()}return ue(()=>{V()}),(C,u)=>(l(),c(e(dt),{open:S.value,"onUpdate:open":u[0]||(u[0]=d=>S.value=d)},{default:s(()=>[t(e(nt),{"as-child":""},{default:s(()=>[t(e(re),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hidden xl:inline-flex",title:"Column Options"},{default:s(()=>[t(e(us),{class:"h-4 w-4"}),u[1]||(u[1]=a("span",{class:"sr-only"},"Column Options",-1))]),_:1})]),_:1}),t(e(ot),{align:"end",class:"w-60"},{default:s(()=>[t(e(Ts),null,{default:s(()=>[...u[2]||(u[2]=[v("Customize Columns",-1)])]),_:1}),t(e(pt)),a("div",Aa,[a("div",Ba,[t(e(re),{variant:"outline",size:"sm",class:"text-xs",onClick:m},{default:s(()=>[...u[3]||(u[3]=[v(" Show All ",-1)])]),_:1}),t(e(re),{variant:"outline",size:"sm",class:"text-xs",onClick:p},{default:s(()=>[...u[4]||(u[4]=[v(" Hide All ",-1)])]),_:1}),t(e(re),{variant:"outline",size:"sm",class:"text-xs",onClick:i},{default:s(()=>[...u[5]||(u[5]=[v(" Reset ",-1)])]),_:1})])]),t(e(pt)),t(e(Me),{class:"h-[300px]"},{default:s(()=>[a("div",Na,[(l(!0),E(ee,null,oe(M.value,d=>(l(),E("div",{key:d.key,class:"flex items-center justify-between py-1"},[a("div",Fa,[t(e(It),{id:`col-toggle-${d.key}`,checked:g(d.key),disabled:d.mandatory,"onUpdate:checked":R=>b(d.key)},null,8,["id","checked","disabled","onUpdate:checked"]),a("label",{for:`col-toggle-${d.key}`,class:Ce(["text-sm cursor-pointer",{"opacity-50":d.mandatory}])},[v(A(d.label)+" ",1),d.mandatory?(l(),E("span",Oa,"(Required)")):h("",!0)],10,La)]),g(d.key)?(l(),E("div",za,[t(e(re),{variant:"ghost",size:"icon",class:"h-6 w-6",onClick:R=>T(d.key),disabled:n.value.indexOf(d.key)===0},{default:s(()=>[t(e(cs),{class:"h-3 w-3"})]),_:1},8,["onClick","disabled"]),t(e(re),{variant:"ghost",size:"icon",class:"h-6 w-6",onClick:R=>f(d.key),disabled:n.value.indexOf(d.key)===n.value.length-1},{default:s(()=>[t(e(vt),{class:"h-3 w-3"})]),_:1},8,["onClick","disabled"])])):h("",!0)]))),128))])]),_:1})]),_:1})]),_:1},8,["open"]))}},Ka=rt(ja,[["__scopeId","data-v-89b28009"]]),Ga={class:"alert-success"},qa={class:"alert-content"},Ha={class:"alert-icon"},Ja={key:0},Ya=["innerHTML"],Qa={class:"alert-slot"},Wa={__name:"AlertSuccess",props:{title:{type:String,default:"Success"},titleEnabled:{type:Boolean,default:!0},message:{type:String,required:!0},small:{type:Boolean,default:!1},showClose:{type:Boolean,default:!1}},emits:["closed"],setup(y,{emit:U}){const w=U;function k(){w("closed")}return(S,n)=>(l(),E("div",Ga,[a("div",qa,[a("div",Ha,[t(e(Kt)),n[0]||(n[0]=a("span",{class:"alert-icon-pulse"},null,-1))]),a("div",{class:Ce(["alert-body",{"text-size-sm":y.small}])},[y.titleEnabled?(l(),E("h5",Ja,A(y.title),1)):h("",!0),a("div",{innerHTML:y.message,class:"alert-message"},null,8,Ya),a("div",Qa,[Ct(S.$slots,"default",{},void 0,!0)])],2),y.showClose?(l(),E("button",{key:0,onClick:k,class:"alert-close-btn","aria-label":"Close",type:"button"},[t(e(Ds)),n[1]||(n[1]=a("span",{class:"alert-close-ripple"},null,-1))])):h("",!0)])]))}},Za=rt(Wa,[["__scopeId","data-v-f0f980b3"]]);function Xa(y,U){const w=Pe(),k=Pt("formatters"),{closeDialog:S,isDialogOpen:n}=w,{toastSuccess:M,toastError:g}=we(),_=P(!1),V=P([]),b=P([]),T=P([]),f=P([]),m=P(""),p=P(""),i=P([]),C=P(!1),u=P(""),d=P(""),R=[{id:2,name:"command_group"},{id:4,name:"device_enable_prompt"},{id:5,name:"device_main_prompt"},{id:6,name:"model"},{id:9,name:"tag"},{id:10,name:"template"},{id:11,name:"vendor"}],O=R,r=P(""),H=me(()=>R.find(J=>J.name===r.value)||{});function $(){setTimeout(()=>{u.value="",d.value=""},4e3)}function Z(){S("DeviceBulkEditDialog"),K(),U("close")}function K(){_.value=!1,H.value={},V.value=0,b.value=0,f.value=0,m.value="",p.value="",i.value="",C.value=!1,u.value="",d.value=""}function o(){if(u.value="",y.checkedRows.length===0){g("Error","Please select at least one device to update."),u.value="Please select at least one device to update.";return}const J={command_group:{value:b.value,errorMessage:"Please select a Command Group",updateFunction:N},vendor:{value:f.value,errorMessage:"Please select a Vendor",updateFunction:D},device_enable_prompt:{value:m.value,errorMessage:"Please enter a Device Enable Prompt",updateFunction:Q},device_main_prompt:{value:p.value,errorMessage:"Please enter a Device Main Prompt",updateFunction:z},model:{value:i.value,errorMessage:"Please enter a Model",updateFunction:B},template:{value:V.value,errorMessage:"Please select a template",updateFunction:de},tag:{value:T.value,errorMessage:"Please select one or more tags",updateFunction:Y},default:{value:0,errorMessage:"Please select a Property",updateFunction:()=>{}}},L=J[H.value.name]||J.default;if(L.value.length===0){g("Error",L.errorMessage),u.value=L.errorMessage;return}L.updateFunction()}function N(){_.value=!0,X.post("/api/device/bulk-update/category",{device_ids:y.checkedRows,category_id:b.value.id}).then(J=>{M("Success",J.data.message),_.value=!1,d.value="Categories updated successfully, you can now close this dialog or continue updating other properties.",$(),U("bulkUpdateSuccess")}).catch(J=>{g("Error",J.response.data.message||"An error occurred while updating categories"),_.value=!1,U("bulkUpdateSuccess")})}function D(){_.value=!0,X.post("/api/device/bulk-update/vendor",{device_ids:y.checkedRows,vendor_id:f.value.id}).then(J=>{M("Success",J.data.message),_.value=!1,d.value="Vendor updated successfully, you can now close this dialog or continue updating other properties.",$(),U("bulkUpdateSuccess")}).catch(J=>{g("Error",J.response.data.message||"An error occurred while updating vendors"),_.value=!1,U("bulkUpdateSuccess")})}function z(){_.value=!0,X.post("/api/device/bulk-update/device_main_prompt",{device_ids:y.checkedRows,device_main_prompt:p.value}).then(J=>{M("Success",J.data.message),_.value=!1,d.value="Device main prompt updated successfully, you can now close this dialog or continue updating other properties.",$(),U("bulkUpdateSuccess")}).catch(J=>{g("Error",J.response.data.message||"An error occurred while updating device main prompt"),_.value=!1,U("bulkUpdateSuccess")})}function Q(){_.value=!0,X.post("/api/device/bulk-update/device_enable_prompt",{device_ids:y.checkedRows,device_enable_prompt:m.value}).then(J=>{M("Success",J.data.message),_.value=!1,d.value="Device enable prompt updated successfully, you can now close this dialog or continue updating other properties.",$(),U("bulkUpdateSuccess")}).catch(J=>{g("Error",J.response.data.message||"An error occurred while updating device enable prompt"),_.value=!1,U("bulkUpdateSuccess")})}function B(){_.value=!0,X.post("/api/device/bulk-update/model",{device_ids:y.checkedRows,device_model:i.value.name}).then(J=>{M("Success",J.data.message),_.value=!1,d.value="Model updated successfully, you can now close this dialog or continue updating other properties.",$(),U("bulkUpdateSuccess")}).catch(J=>{g("Error",J.response.data.message||"An error occurred while updating model"),_.value=!1,U("bulkUpdateSuccess")})}function de(){_.value=!0,X.post("/api/device/bulk-update/template",{device_ids:y.checkedRows,template_id:V.value.id}).then(J=>{M("Success",J.data.message),_.value=!1,d.value="Template updated successfully, you can now close this dialog or continue updating other properties.",$(),U("bulkUpdateSuccess")}).catch(J=>{g("Error",J.response.data.message||"An error occurred while updating template"),_.value=!1,U("bulkUpdateSuccess")})}function Y(){const J=T.value.map(L=>L.id);_.value=!0,X.post("/api/device/bulk-update/tags",{device_ids:y.checkedRows,tag_ids:J,append:C.value?1:0}).then(L=>{M("Success",L.data.message),_.value=!1,d.value="Tags updated successfully, you can now close this dialog or continue updating other properties.",$(),U("bulkUpdateSuccess")}).catch(L=>{g("Error",L.response.data.message||"An error occurred while updating tags"),_.value=!1,U("bulkUpdateSuccess")})}return{append:C,deviceEnablePrompt:m,deviceMainPrompt:p,errorMessage:u,formatters:k,isUpdating:_,selectedModel:i,selectedCategory:b,selectedProperty:H,selectedPropertyName:r,selectedTemplate:V,selectedVendor:f,successMsg:d,selectedTags:T,finalPropertyOptions:O,clearMsgs:$,close:Z,closeDialog:S,confirm:o,isDialogOpen:n,resetData:K}}const el={class:"py-4 space-y-4"},tl={key:0,class:"space-y-4"},sl={class:"grid items-center grid-cols-4 gap-2"},al={class:"col-span-3"},ll={key:0,class:"grid items-start grid-cols-4 gap-2"},nl={key:2,class:"col-span-3"},ol={key:3,class:"col-span-3"},dl={key:8,class:"col-span-3 col-start-2 text-red-400 text-sm"},rl={key:1,class:"grid items-center grid-cols-4 gap-2"},il={class:"flex items-center gap-2 col-span-3"},ul={class:"col-span-3 col-start-2 text-xs text-muted-foreground"},cl={key:0},ml={key:1},pl={key:1,class:"flex flex-col items-center justify-center gap-4"},fl={class:"pl-2 ml-auto"},vl={class:"rc-kdb-class2"},gl={__name:"DeviceBulkEditDialog",props:{checkedRows:{type:Array,required:!0,default:()=>[]}},emits:["close","bulkUpdateSuccess"],setup(y,{emit:U}){const w=y,k=U,{append:S,deviceEnablePrompt:n,deviceMainPrompt:M,errorMessage:g,formatters:_,isUpdating:V,selectedModel:b,selectedCategory:T,selectedProperty:f,selectedPropertyName:m,selectedTemplate:p,selectedVendor:i,successMsg:C,selectedTags:u,finalPropertyOptions:d,close:R,confirm:O,isDialogOpen:r}=Xa(w,k);return(H,$)=>{const Z=j("RcIcon");return l(),c(e(Ze),{open:e(r)("DeviceBulkEditDialog")&&y.checkedRows.length>0},{default:s(()=>[t(e(Je),{class:"max-w-2xl",onInteractOutside:$[11]||($[11]=K=>e(R)()),onPointerDownOutside:$[12]||($[12]=K=>e(R)()),onEscapeKeyDown:$[13]||($[13]=K=>e(R)()),onCloseClicked:$[14]||($[14]=K=>e(R)())},{default:s(()=>[t(e(Ye),null,{default:s(()=>[t(e(Qe),{class:"text-lg font-semibold"},{default:s(()=>[...$[15]||($[15]=[v(" Bulk Edit Devices ",-1)])]),_:1}),t(e(Gt),null,{default:s(()=>[v(" Device IDs ("+A(e(_).arrayToPrettyString(y.checkedRows.slice(0,10)))+A(y.checkedRows.length>10?" and "+(y.checkedRows.length-10)+" more":"")+") ",1)]),_:1})]),_:1}),a("div",el,[e(V)?(l(),E("div",pl,[...$[22]||($[22]=[a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-300"},null,-1),a("p",{class:"text-sm text-gray-200"},"Processing bulk update. This may take a few moments...",-1)])])):(l(),E("div",tl,[a("div",sl,[t(e(tt),{for:"property-select",class:"text-right"},{default:s(()=>[...$[16]||($[16]=[v(" Select Property ",-1),a("span",{class:"text-red-400"},"*",-1)])]),_:1}),a("div",al,[t(e(Ss),{modelValue:e(m),"onUpdate:modelValue":$[0]||($[0]=K=>se(m)?m.value=K:null)},{default:s(()=>[t(e(Vs),{id:"property-select",class:"w-full"},{default:s(()=>[t(e(Ps),{placeholder:"Choose a property to update"})]),_:1}),t(e(Is),null,{default:s(()=>[(l(!0),E(ee,null,oe(e(d),K=>(l(),c(e(Es),{value:K.name,key:K.id},{default:s(()=>[v(A(e(_).capitalizeFirstLetter(K.name)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),e(f)?(l(),E("div",ll,[e(m)?(l(),c(e(tt),{key:0,for:"property-field",class:"text-right pt-2"},{default:s(()=>[v(A(e(_).capitalizeFirstLetter(e(m)))+" ",1),$[17]||($[17]=a("span",{class:"text-red-400"},"*",-1))]),_:1})):h("",!0),e(f).name==="command_group"?(l(),c(_t,{key:1,modelValue:e(T),"onUpdate:modelValue":$[1]||($[1]=K=>se(T)?T.value=K:null),singleSelect:!0,class:"w-full"},null,8,["modelValue"])):h("",!0),e(f).name==="device_enable_prompt"?(l(),E("div",nl,[t(e(at),{modelValue:e(n),"onUpdate:modelValue":$[2]||($[2]=K=>se(n)?n.value=K:null),id:"device_enable_prompt",autocomplete:"new-name",name:"new-name"},null,8,["modelValue"])])):h("",!0),e(f).name==="device_main_prompt"?(l(),E("div",ol,[t(e(at),{modelValue:e(M),"onUpdate:modelValue":$[3]||($[3]=K=>se(M)?M.value=K:null),id:"device_main_prompt",autocomplete:"new-name",name:"new-name"},null,8,["modelValue"])])):h("",!0),e(f).name==="model"?(l(),c(xs,{key:4,modelValue:e(b),"onUpdate:modelValue":$[4]||($[4]=K=>se(b)?b.value=K:null),singleSelect:!0,class:"w-full"},null,8,["modelValue"])):h("",!0),e(f).name==="vendor"?(l(),c(_s,{key:5,modelValue:e(i),"onUpdate:modelValue":$[5]||($[5]=K=>se(i)?i.value=K:null),singleSelect:!0,class:"w-full"},null,8,["modelValue"])):h("",!0),e(f).name==="template"?(l(),c(ks,{key:6,modelValue:e(p),"onUpdate:modelValue":$[6]||($[6]=K=>se(p)?p.value=K:null),singleSelect:!0,class:"w-full"},null,8,["modelValue"])):h("",!0),e(f).name==="tag"?(l(),c(ls,{key:7,modelValue:e(u),"onUpdate:modelValue":$[7]||($[7]=K=>se(u)?u.value=K:null),singleSelect:!1,class:"w-full"},null,8,["modelValue"])):h("",!0),e(g)?(l(),E("span",dl,A(e(g)),1)):h("",!0)])):h("",!0),e(m)==="tag"?(l(),E("div",rl,[t(e(tt),{for:"append-toggle",class:"text-right"},{default:s(()=>[...$[18]||($[18]=[v(" Append ",-1),a("span",{class:"text-red-400"},"*",-1)])]),_:1}),a("div",il,[t(e(It),{id:"append-toggle",checked:e(S),"onUpdate:checked":$[8]||($[8]=K=>S.value=!e(S)),disabled:e(V)},null,8,["checked","disabled"]),$[19]||($[19]=a("span",{class:"text-sm"},"Append to existing",-1))]),a("span",ul,[e(S)?(l(),E("span",cl,[...$[20]||($[20]=[v("Selected items will be ",-1),a("strong",null,"added",-1),v(" to existing items for selected devices.",-1)])])):(l(),E("span",ml,[...$[21]||($[21]=[v("Selected items will ",-1),a("strong",null,"replace",-1),v(" all existing items for selected devices.",-1)])]))])])):h("",!0),e(C)?(l(),c(Za,{key:2,small:"",class:"mb-6",title:"Success",message:e(C),showClose:!0,onClosed:$[9]||($[9]=K=>C.value="")},null,8,["message"])):h("",!0)]))]),t(e(We),null,{default:s(()=>[t(e(re),{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:e(R),size:"sm"},{default:s(()=>[...$[23]||($[23]=[v(" Cancel ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1},8,["onClick"]),t(e(re),{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:$[10]||($[10]=K=>e(O)()),variant:"primary"},{default:s(()=>[t(He,{state:e(V),class:"items-center mr-2",color:"white",fillColor:"white"},null,8,["state"]),$[25]||($[25]=v(" Confirm ",-1)),a("div",fl,[a("kbd",vl,[$[24]||($[24]=v(" Ctrl  ",-1)),t(Z,{name:"enter",class:"ml-1"})])])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}},yl={class:"hidden lg:inline-flex"},xl={key:0,class:"text-sm font-light"},_l={class:"text-sm font-semibold"},kl={class:"py-1"},bl=["onClick"],hl=["checked"],Cl={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},wl={"data-size":"20"},$l=Ee({__name:"StatusFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:U}){const w=U,k=me(()=>[{id:0,name:"Unreachable"},{id:1,name:"Reachable"},{id:2,name:"Unknown"},{id:100,name:"Disabled"},{id:200,name:"All"}]),S=P(!1),n=P([]),M=y;ie(()=>M.modelValue,_=>{n.value=_});function g(_){if(_.id===200)n.value.length===k.value.length?n.value=[]:n.value=[...k.value];else{const V=n.value.findIndex(b=>b.id===_.id);if(V!==-1){n.value.splice(V,1);const b=n.value.findIndex(T=>T.id===200);b!==-1&&n.value.splice(b,1)}else n.value.push(_)}S.value=!1,w("update:modelValue",n.value)}return(_,V)=>(l(),c(e(Ae),null,{default:s(()=>[t(e(Re),null,{default:s(()=>[t(e(re),{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:s(()=>[t(e(qt),{class:"w-4 h-4 lg:mr-2 text-rcgray-400"}),a("div",yl,[n.value&&n.value.length===0?(l(),E(ee,{key:0},[v("Status")],64)):(l(),E(ee,{key:1},[n.value.length>0?(l(),E("span",xl,[V[0]||(V[0]=v(" Status ",-1)),a("strong",_l,A(n.value.length)+" Selected",1)])):h("",!0)],64))])]),_:1})]),_:1}),t(e(Ue),{side:"bottom",align:"start",class:"p-0 w-44"},{default:s(()=>[t(e(Me),{class:"h-44"},{default:s(()=>[a("div",kl,[(l(!0),E(ee,null,oe(k.value,b=>(l(),E("div",{key:b.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:T=>g(b)},[a("input",{type:"checkbox",checked:n.value.some(T=>T.id===b.id),class:"mr-2"},null,8,hl),a("span",Cl,[a("span",wl,A(b.name),1)])],8,bl))),128))])]),_:1})]),_:1})]),_:1}))}}),Dl={class:"hidden lg:inline-flex"},Sl={key:0,class:"text-sm font-light"},Vl={class:"text-sm font-semibold"},Pl={class:"relative items-center w-full"},Il={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},El={class:"py-1"},Tl=["onClick"],Rl=["checked"],Ul={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Ml={"data-size":"20"},Al={class:"p-1 border-5"},Bl=Ee({__name:"TagFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:U}){const w=U,k=P([]),S=P(!1),n=P([]),M=P(""),g=P(!1),_=y;ue(()=>{b()}),ie(()=>_.modelValue,f=>{n.value=f,g.value=n.value.length===k.value.length});function V(f){if(f.id===9999999)g.value?(n.value=[],g.value=!1):(n.value=[...k.value],g.value=!0);else{const m=n.value.findIndex(p=>p.id===f.id);m!==-1?(n.value.splice(m,1),g.value=!1):(n.value.push(f),n.value.length===k.value.length&&(g.value=!0))}S.value=!1,w("update:modelValue",n.value)}function b(){X.get("/api/tags/?perPage=10000&sort=tagname").then(f=>{k.value=f.data.data})}const T=me(()=>k.value.filter(f=>f.tagname.toLowerCase().includes(M.value.toLowerCase())));return(f,m)=>{const p=j("RcIcon");return l(),c(e(Ae),null,{default:s(()=>[t(e(Re),null,{default:s(()=>[t(e(re),{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:s(()=>[t(p,{name:"tag",class:"lg:mr-2"}),a("div",Dl,[n.value&&n.value.length===0?(l(),E(ee,{key:0},[v("Tag")],64)):(l(),E(ee,{key:1},[n.value.length>0?(l(),E("span",Sl,[m[2]||(m[2]=v(" Tag ",-1)),a("strong",Vl,A(n.value.length)+" Selected",1)])):h("",!0)],64))])]),_:1})]),_:1}),t(e(Ue),{side:"bottom",align:"start",class:"w-64 p-0"},{default:s(()=>[a("div",Pl,[t(e(at),{id:"search",type:"text",modelValue:M.value,"onUpdate:modelValue":m[0]||(m[0]=i=>M.value=i),placeholder:"Search",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",Il,[t(p,{name:"search"})])]),t(e(lt)),t(e(Me),{class:"h-44"},{default:s(()=>[a("div",El,[(l(!0),E(ee,null,oe(T.value,i=>(l(),E("div",{key:i.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:C=>V(i)},[a("input",{type:"checkbox",checked:n.value.some(C=>C.id===i.id),class:"mr-2"},null,8,Rl),a("span",Ul,[a("span",Ml,A(i.tagname),1)])],8,Tl))),128))])]),_:1}),t(e(lt)),a("div",Al,[t(e(re),{variant:"ghost",class:"justify-start w-full p-1",onClick:m[1]||(m[1]=i=>V({id:9999999}))},{default:s(()=>[t(p,{name:"select-all",isSelected:g.value,size:"16",class:"mr-2"},null,8,["isSelected"]),a("span",null,A(g.value?"Deselect All":"Select All"),1)]),_:1})])]),_:1})]),_:1})}}}),Nl={class:"hidden lg:inline-flex"},Fl={key:0,class:"text-sm font-light"},Ll={class:"text-sm font-semibold"},Ol={class:"relative items-center w-full"},zl={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},jl={class:"py-1"},Kl=["onClick"],Gl=["checked"],ql={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},Hl={"data-size":"20"},Jl={class:"p-1 border-5"},Yl=Ee({__name:"VendorFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:U}){const w=U,k=P([]),S=P(!1),n=P([]),M=P(""),g=P(!1),_=y;ue(()=>{b()}),ie(()=>_.modelValue,f=>{n.value=f,g.value=n.value.length===k.value.length});function V(f){if(f.id===9999999)g.value?(n.value=[],g.value=!1):(n.value=[...k.value],g.value=!0);else{const m=n.value.findIndex(p=>p.id===f.id);m!==-1?(n.value.splice(m,1),g.value=!1):(n.value.push(f),n.value.length===k.value.length&&(g.value=!0))}S.value=!1,w("update:modelValue",n.value)}function b(){X.get("/api/vendors/?perPage=10000&sort=vendorName").then(f=>{k.value=f.data.data})}const T=me(()=>k.value.filter(f=>f.vendorName.toLowerCase().includes(M.value.toLowerCase())));return(f,m)=>{const p=j("RcIcon"),i=j("Button"),C=j("Input"),u=j("Separator");return l(),c(e(Ae),null,{default:s(()=>[t(e(Re),null,{default:s(()=>[t(i,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:s(()=>[t(p,{name:"vendor",class:"lg:mr-2"}),a("div",Nl,[n.value&&n.value.length===0?(l(),E(ee,{key:0},[v("Vendor")],64)):(l(),E(ee,{key:1},[n.value.length>0?(l(),E("span",Fl,[m[2]||(m[2]=v(" Vendor ",-1)),a("strong",Ll,A(n.value.length)+" Selected",1)])):h("",!0)],64))])]),_:1})]),_:1}),t(e(Ue),{side:"bottom",align:"start",class:"w-64 p-0"},{default:s(()=>[a("div",Ol,[t(C,{id:"search",type:"text",modelValue:M.value,"onUpdate:modelValue":m[0]||(m[0]=d=>M.value=d),placeholder:"Search",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",zl,[t(p,{name:"search"})])]),t(u),t(e(Me),{class:"h-44"},{default:s(()=>[a("div",jl,[(l(!0),E(ee,null,oe(T.value,d=>(l(),E("div",{key:d.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:R=>V(d)},[a("input",{type:"checkbox",checked:n.value.some(R=>R.id===d.id),class:"mr-2"},null,8,Gl),a("span",ql,[a("span",Hl,A(d.vendorName),1)])],8,Kl))),128))])]),_:1}),t(u),a("div",Jl,[t(i,{variant:"ghost",class:"justify-start w-full p-1",onClick:m[1]||(m[1]=d=>V({id:9999999}))},{default:s(()=>[t(p,{name:"select-all",isSelected:g.value,size:"16",class:"mr-2"},null,8,["isSelected"]),a("span",null,A(g.value?"Deselect All":"Select All"),1)]),_:1})])]),_:1})]),_:1})}}}),Ql={class:"hidden lg:inline-flex"},Wl={key:0,class:"text-sm font-light"},Zl={class:"text-sm font-semibold"},Xl={class:"relative items-center w-full"},en={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},tn={class:"py-1"},sn=["onClick"],an=["checked"],ln={"data-size":"20",class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5"},nn={"data-size":"20"},on={class:"p-1 border-5"},dn=Ee({__name:"ModelFilter",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(y,{emit:U}){const w=U,k=P([]),S=P(!1),n=P([]),M=P(""),g=P(!1),_=y;ue(()=>{b()}),ie(()=>_.modelValue,f=>{n.value=f,g.value=n.value.length===k.value.length});function V(f){if(f.id===9999999)g.value?(n.value=[],g.value=!1):(n.value=[...k.value],g.value=!0);else{const m=n.value.findIndex(p=>p.id===f.id);m!==-1?(n.value.splice(m,1),g.value=!1):(n.value.push(f),n.value.length===k.value.length&&(g.value=!0))}S.value=!1,w("update:modelValue",n.value)}function b(){X.get("/api/device-models/?perPage=10000&sort=name").then(f=>{k.value=f.data.data})}const T=me(()=>k.value.filter(f=>f.name.toLowerCase().includes(M.value.toLowerCase())));return(f,m)=>{const p=j("RcIcon"),i=j("Button"),C=j("Input"),u=j("Separator");return l(),c(e(Ae),null,{default:s(()=>[t(e(Re),null,{default:s(()=>[t(i,{variant:"ghost",class:"flex items-center justify-center w-full px-2 py-1 border rounded-xl whitespace-nowrap h-fit bg-rcgray-700 text-rcgray-400"},{default:s(()=>[t(p,{name:"model",class:"lg:mr-2"}),a("div",Ql,[n.value&&n.value.length===0?(l(),E(ee,{key:0},[v("Device Model")],64)):(l(),E(ee,{key:1},[n.value.length>0?(l(),E("span",Wl,[m[2]||(m[2]=v(" Device Model ",-1)),a("strong",Zl,A(n.value.length)+" Selected",1)])):h("",!0)],64))])]),_:1})]),_:1}),t(e(Ue),{side:"bottom",align:"start",class:"w-64 p-0"},{default:s(()=>[a("div",Xl,[t(C,{id:"search",type:"text",modelValue:M.value,"onUpdate:modelValue":m[0]||(m[0]=d=>M.value=d),placeholder:"Search",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),a("span",en,[t(p,{name:"search"})])]),t(u),t(e(Me),{class:"h-44"},{default:s(()=>[a("div",tn,[(l(!0),E(ee,null,oe(T.value,d=>(l(),E("div",{key:d.id,class:"w-full p-1 pl-2 my-1 text-sm rounded-lg hover:bg-rcgray-600",onClick:R=>V(d)},[a("input",{type:"checkbox",checked:n.value.some(R=>R.id===d.id),class:"mr-2"},null,8,an),a("span",ln,[a("span",nn,A(d.name),1)])],8,sn))),128))])]),_:1}),t(u),a("div",on,[t(i,{variant:"ghost",class:"justify-start w-full p-1",onClick:m[1]||(m[1]=d=>V({id:9999999}))},{default:s(()=>[t(p,{name:"select-all",isSelected:g.value,size:"16",class:"mr-2"},null,8,["isSelected"]),a("span",null,A(g.value?"Deselect All":"Select All"),1)]),_:1})])]),_:1})]),_:1})}}}),rn={class:"flex flex-col h-full gap-1 text-center"},un={class:"flex items-center justify-between p-4"},cn={class:"flex items-center"},mn={class:"flex gap-2"},pn={class:"flex items-center justify-end"},fn={class:"px-6"},vn={class:"flex items-center"},gn=["title"],yn={class:"flex justify-between"},xn={class:"flex items-center"},_n={class:"border-b"},kn=["title"],bn=["title"],hn={key:1},Cn=["title"],wn={key:1},$n=["title"],Dn=["title"],Sn={key:1},Vn={class:"badge-container-fixed"},Pn={class:"button-cell-fixed"},In={key:0,class:"fixed bottom-5 left-1/2 transform -translate-x-1/2 z-50 flex items-center gap-4 bg-rcgray-900 text-white border border-rcgray-600 shadow-xl px-4 py-1.5 rounded-lg"},En={class:"text-sm"},Tn={class:"flex flex-col items-start gap-1"},Rn={class:"hidden md:inline-flex mr-1"},Un={__name:"Main",props:{statusId:{type:Number,required:!1}},setup(y){const{devices:U,currentPage:w,perPage:k,lastPage:S,totalRecords:n,isLoading:M,isLoadingMore:g,hasMoreData:_,isLoadMoreMode:V,showConfirmDelete:b,editId:T,newDeviceModalKey:f,newBulkEditModalKey:m,searchTerm:p,filterStatus:i,filterCategories:C,filterTags:u,filterVendor:d,filterModel:R,sortParam:O,formatters:r,inventoryIsLoading:H,createDevice:$,deleteDevice:Z,deleteManyDevices:K,disableDevice:o,enableDevice:N,exportInventoryReport:D,handleKeyDown:z,handleSave:Q,reload:B,viewDeviceDetailsPane:de,viewEditDialog:Y,openBulkEditDialog:J,disableManyDevices:L,enableManyDevices:Ge,downloadManyDevices:he,fetchDevices:W,loadMoreDevices:ae,clearFilters:ge,toggleSort:pe}=bs(),{selectedRows:F,selectAll:ce,toggleSelectAll:ne,toggleSelectRow:Ut}=Be(U),et=P(!1),it=Ht(),Mt=Te(),ut=me(()=>[{key:"checkbox",label:"Select",mandatory:!0,default:!0},{key:"id",label:"ID",default:!0},{key:"status",label:"Status",default:!0},{key:"device_name",label:"Name",mandatory:!0,default:!0},{key:"device_ip",label:"IP Address",default:!0},{key:"category",label:"Command Group",default:!0},{key:"vendor",label:"Vendor",default:!0},{key:"device_model",label:"Model",default:!0},{key:"config_good_count",label:"Config Count",default:!0},{key:"config_bad_count",label:"Config Failures",default:!0},{key:"last_config",label:"Last Config",default:!0},{key:"tags",label:"Tags",default:!0},{key:"actions",label:"Actions",mandatory:!0,default:!0}]),Ie=P(ut.value.filter(ye=>ye.default).map(ye=>ye.key)),te=me(()=>ye=>Ie.value.includes(ye));return me(()=>ut.value.filter(ye=>Ie.value.includes(ye.key)).sort((ye,x)=>{const qe=Ie.value.indexOf(ye.key),ct=Ie.value.indexOf(x.key);return qe-ct})),ue(()=>{it.query.statusId&&(i.value=[{id:parseInt(it.query.statusId)}]),W(),window.addEventListener("keydown",z),De.on("deleteManyDevicesSuccess",()=>{F.value=[],ce.value=!1})}),ie(()=>it.query,async ye=>{if(ye.openDeviceDialog){$(),await Yt();const{openDeviceDialog:x,...qe}=ye;Mt.replace({query:qe},void 0,{replace:!0})}},{immediate:!0}),$e(()=>{window.removeEventListener("keydown",z)}),(ye,x)=>{const qe=j("Input"),ct=j("Separator"),fe=j("Button"),xe=j("RcIcon"),kt=j("Checkbox"),At=j("RcBadge"),Bt=j("Toaster");return l(),E("div",rn,[a("div",un,[a("div",cn,[t(qe,{class:"ml-2 min-w-32 lg:min-w-60",autocomplete:"off",placeholder:"Filter [id, name, ip]...",modelValue:e(p),"onUpdate:modelValue":x[0]||(x[0]=I=>se(p)?p.value=I:null)},null,8,["modelValue"]),t(ct,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),x[29]||(x[29]=a("span",{class:"mr-2 text-muted-foreground flex-grow min-w-max"},"Filters:",-1)),a("div",mn,[t(Ma,{modelValue:e(C),"onUpdate:modelValue":x[1]||(x[1]=I=>se(C)?C.value=I:null)},null,8,["modelValue"]),t(Bl,{modelValue:e(u),"onUpdate:modelValue":x[2]||(x[2]=I=>se(u)?u.value=I:null)},null,8,["modelValue"]),t(Yl,{modelValue:e(d),"onUpdate:modelValue":x[3]||(x[3]=I=>se(d)?d.value=I:null)},null,8,["modelValue"]),t(dn,{modelValue:e(R),"onUpdate:modelValue":x[4]||(x[4]=I=>se(R)?R.value=I:null)},null,8,["modelValue"]),t($l,{modelValue:e(i),"onUpdate:modelValue":x[5]||(x[5]=I=>se(i)?i.value=I:null)},null,8,["modelValue"]),e(p)||e(C).length||e(u).length||e(d).length||e(R).length||e(i).length?(l(),c(Ne,{key:0,"onUpdate:modelValue":e(ge)},null,8,["onUpdate:modelValue"])):h("",!0)])]),a("div",pn,[t(Ka,{columns:ut.value,modelValue:Ie.value,"onUpdate:modelValue":x[6]||(x[6]=I=>Ie.value=I),storageKey:"rconfig.deviceTable.columns"},null,8,["columns","modelValue"]),t(e(dt),null,{default:s(()=>[t(e(nt),{"as-child":"",class:"inline-flex xl:hidden"},{default:s(()=>[t(fe,{variant:"ghost",class:"h-8 ml-2"},{default:s(()=>[t(e(Jt),{size:"16"})]),_:1})]),_:1}),t(e(ot),{class:"w-56",align:"end",side:"bottom"},{default:s(()=>[t(e(_e),{class:"cursor-pointer hover:bg-rcgray-600 group",onClick:x[7]||(x[7]=le(I=>e($)(),["prevent"]))},{default:s(()=>[x[30]||(x[30]=v(" New Device ",-1)),t(e(ke),{class:"group"},{default:s(()=>[t(e(ms),{size:"16",class:"text-rcgray-400 group-hover:text-rcgray-300"})]),_:1})]),_:1}),t(e(_e),{class:"cursor-pointer hover:bg-rcgray-600 group",onClick:x[8]||(x[8]=le(I=>e(D)(),["prevent"]))},{default:s(()=>[x[31]||(x[31]=v(" Inventory Report ",-1)),t(e(ke),{class:"group"},{default:s(()=>[e(H)?h("",!0):(l(),c(e(ht),{key:0,size:"16",class:"text-rcgray-400 group-hover:text-rcgray-300"})),t(He,{state:e(H),class:"mr-2"},null,8,["state"])]),_:1})]),_:1})]),_:1})]),_:1}),t(fe,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse hidden xl:inline-flex",size:"sm",onClick:x[9]||(x[9]=le(I=>e($)(),["prevent"])),variant:"primary"},{default:s(()=>[...x[32]||(x[32]=[v(" New Device ",-1),a("div",{class:"pl-2 py-1 px-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1}),t(fe,{type:"submit",class:"px-2 py-1 ml-2 text-sm hidden xl:inline-flex",size:"sm",onClick:x[10]||(x[10]=le(I=>e(D)(),["prevent"])),variant:"outline"},{default:s(()=>[e(H)?h("",!0):(l(),c(e(ht),{key:0,size:"16",class:"text-muted-foreground mr-2"})),t(He,{state:e(H),class:"mr-2"},null,8,["state"]),x[33]||(x[33]=v(" Inventory Report ",-1))]),_:1}),t(xe,{name:"refresh",class:"w-4 h-4 mx-4 text-muted-foreground cursor-pointer hover:text-rcgray-200",onClick:x[11]||(x[11]=I=>e(B)())})])]),a("div",fn,[t(e(je),null,{default:s(()=>[t(e(Fe),null,{default:s(()=>[t(e(be),null,{default:s(()=>[te.value("checkbox")?(l(),c(e(q),{key:0,class:"w-[2%]"},{default:s(()=>[t(kt,{id:"selectAll",modelValue:e(ce),"onUpdate:modelValue":x[12]||(x[12]=I=>se(ce)?ce.value=I:null),checked:e(ce),onClick:x[13]||(x[13]=I=>e(ne)())},null,8,["modelValue","checked"])]),_:1})):h("",!0),te.value("id")?(l(),c(e(q),{key:1,class:"w-[5%]"},{default:s(()=>[t(fe,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:x[14]||(x[14]=I=>e(pe)("id"))},{default:s(()=>[t(xe,{name:"sort",sortParam:e(O),field:"id"},null,8,["sortParam"]),x[34]||(x[34]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1})):h("",!0),te.value("status")?(l(),c(e(q),{key:2,class:"w-[2%]"},{default:s(()=>[t(fe,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:x[15]||(x[15]=I=>e(pe)("status"))},{default:s(()=>[t(xe,{name:"sort",sortParam:e(O),field:"status"},null,8,["sortParam"]),x[35]||(x[35]=a("span",{class:"ml-2"},"Status",-1))]),_:1})]),_:1})):h("",!0),te.value("device_name")?(l(),c(e(q),{key:3,class:"w-[20%]"},{default:s(()=>[t(fe,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:x[16]||(x[16]=I=>e(pe)("device_name"))},{default:s(()=>[t(xe,{name:"sort",sortParam:e(O),field:"device_name"},null,8,["sortParam"]),x[36]||(x[36]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1})):h("",!0),te.value("device_ip")?(l(),c(e(q),{key:4,class:"w-[10%]"},{default:s(()=>[...x[37]||(x[37]=[v("IP Address",-1)])]),_:1})):h("",!0),te.value("category")?(l(),c(e(q),{key:5,class:"w-[10%]"},{default:s(()=>[...x[38]||(x[38]=[v("Command Group",-1)])]),_:1})):h("",!0),te.value("vendor")?(l(),c(e(q),{key:6,class:"w-[10%]"},{default:s(()=>[...x[39]||(x[39]=[v("Vendor",-1)])]),_:1})):h("",!0),te.value("device_model")?(l(),c(e(q),{key:7,class:"w-[10%]"},{default:s(()=>[...x[40]||(x[40]=[v("Model",-1)])]),_:1})):h("",!0),te.value("config_good_count")?(l(),c(e(q),{key:8,class:"w-[10%]"},{default:s(()=>[...x[41]||(x[41]=[v("Config Count",-1)])]),_:1})):h("",!0),te.value("config_bad_count")?(l(),c(e(q),{key:9,class:"w-[10%]"},{default:s(()=>[...x[42]||(x[42]=[v("Config Failures",-1)])]),_:1})):h("",!0),te.value("last_config")?(l(),c(e(q),{key:10,class:"w-[10%]"},{default:s(()=>[...x[43]||(x[43]=[v("Last Config",-1)])]),_:1})):h("",!0),te.value("tags")?(l(),c(e(q),{key:11,class:"w-[10%]"},{default:s(()=>[...x[44]||(x[44]=[v("Tags",-1)])]),_:1})):h("",!0),te.value("actions")?(l(),c(e(q),{key:12,class:"w-[10%]"},{default:s(()=>[...x[45]||(x[45]=[v("Actions",-1)])]),_:1})):h("",!0)]),_:1})]),_:1}),t(e(Le),null,{default:s(()=>[e(M)?(l(),c(Oe,{key:0})):e(M)?(l(),c(ze,{key:2})):(l(!0),E(ee,{key:1},oe(e(U),I=>(l(),c(e(be),{key:I.id,class:"table-row-fixed"},{default:s(()=>[te.value("checkbox")?(l(),c(e(G),{key:0,class:"text-start table-cell-fixed"},{default:s(()=>[t(kt,{class:"cursor-pointer",id:"select-"+I.id,checked:!!e(F).includes(I.id),onClick:ve=>e(Ut)(I.id)},null,8,["id","checked","onClick"])]),_:2},1024)):h("",!0),te.value("id")?(l(),c(e(G),{key:1,class:"text-start table-cell-fixed"},{default:s(()=>[a("div",vn,[a("span",{class:Ce({"text-red-500":I.device_added_by==9e3,"text-blue-500":I.device_added_by==9001}),title:I.device_added_by==9e3?"Added by Zabbix":I.device_added_by==9001?"Added by Netbox":""},A(I.id),11,gn),I.device_added_by&&I.device_added_by>=9e3?(l(),c(xe,{key:0,name:"imported-device",addedBy:I.device_added_by,source:I.device_added_by===9001?"Netbox":I.device_added_by===9e3?"Zabbix":"Integration"},null,8,["addedBy","source"])):h("",!0)])]),_:2},1024)):h("",!0),te.value("status")?(l(),c(e(G),{key:2,class:"text-start table-cell-fixed"},{default:s(()=>[I.status===0?(l(),c(xe,{key:0,name:"status-red"})):h("",!0),I.status===1?(l(),c(xe,{key:1,name:"status-green"})):h("",!0),I.status===2?(l(),c(xe,{key:2,name:"status-yellow"})):h("",!0),I.status===100?(l(),c(xe,{key:3,name:"status-gray"})):h("",!0),I.status===300?(l(),c(xe,{key:4,name:"status-red-agent",size:"16"})):h("",!0),I.status===301?(l(),c(xe,{key:5,name:"status-gray-agent"})):h("",!0)]),_:2},1024)):h("",!0),te.value("device_name")?(l(),c(e(G),{key:3,class:"text-start"},{default:s(()=>[a("div",yn,[t(fe,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:ve=>e(de)(I.id)},{default:s(()=>[a("div",xn,[a("span",_n,A(I.device_name),1)])]),_:2},1032,["onClick"])])]),_:2},1024)):h("",!0),te.value("device_ip")?(l(),c(e(G),{key:4,class:"text-start table-cell-fixed"},{default:s(()=>[a("span",{class:"text-truncate",title:I.device_ip},A(I.device_ip),9,kn)]),_:2},1024)):h("",!0),te.value("category")?(l(),c(e(G),{key:5,class:"text-start table-cell-fixed"},{default:s(()=>[I.category.length>0?(l(),E("span",{key:0,class:"text-truncate",title:I.category[0].categoryName},A(I.category[0].categoryName),9,bn)):(l(),E("span",hn,"--"))]),_:2},1024)):h("",!0),te.value("vendor")?(l(),c(e(G),{key:6,class:"text-start table-cell-fixed"},{default:s(()=>[I.vendor.length>0?(l(),E("span",{key:0,class:"text-truncate",title:I.vendor[0].vendorName},A(I.vendor[0].vendorName),9,Cn)):(l(),E("span",wn,"--"))]),_:2},1024)):h("",!0),te.value("device_model")?(l(),c(e(G),{key:7,class:"text-start table-cell-fixed"},{default:s(()=>[a("span",{class:"text-truncate",title:I.device_model},A(I.device_model),9,$n)]),_:2},1024)):h("",!0),te.value("config_good_count")?(l(),c(e(G),{key:8,class:"text-start table-cell-fixed"},{default:s(()=>{var ve;return[v(A(((ve=I.config_summary)==null?void 0:ve.total_count)||"--"),1)]}),_:2},1024)):h("",!0),te.value("config_bad_count")?(l(),c(e(G),{key:9,class:"text-start table-cell-fixed"},{default:s(()=>{var ve;return[v(A(((ve=I.config_summary)==null?void 0:ve.download_status_0_count)||"--"),1)]}),_:2},1024)):h("",!0),te.value("last_config")?(l(),c(e(G),{key:10,class:"text-start table-cell-fixed"},{default:s(()=>[I.last_config?(l(),E("span",{key:0,class:"text-truncate",title:e(r).formatTime(I.last_config.created_at)},A(e(r).formatTime(I.last_config.created_at)),9,Dn)):(l(),E("span",Sn,"--"))]),_:2},1024)):h("",!0),te.value("tags")?(l(),c(e(G),{key:11,class:"text-start table-cell-fixed"},{default:s(()=>[a("div",Vn,[t(Ve,{items:I.tag,displayField:"tagname",linkField:"view_url",maxVisible:1,hoverCardFields:["id","tagname","description"]},null,8,["items"])])]),_:2},1024)):h("",!0),te.value("actions")?(l(),c(e(G),{key:12,class:"text-start table-cell-fixed"},{default:s(()=>[a("div",Pn,[t(Ca,{rowData:I,onOnEnable:ve=>e(N)(I.id),onOnClone:ve=>(e(Y)(I.id),et.value=!0),onOnDisable:ve=>e(o)(I.id),onOnEdit:ve=>(e(Y)(I.id),et.value=!1),onOnDelete:ve=>e(Z)(I.id),showCopyDownloadDebug:!0},null,8,["rowData","onOnEnable","onOnClone","onOnDisable","onOnEdit","onOnDelete"])])]),_:2},1024)):h("",!0)]),_:2},1024))),128))]),_:1})]),_:1}),e(F).length?(l(),E("div",In,[a("span",En,[t(At,{variant:"primary",class:"mr-1"},{default:s(()=>[v(A(e(F).length),1)]),_:1}),x[46]||(x[46]=v(" Devices Selected ",-1))]),t(e(Ae),null,{default:s(({open:I})=>[t(e(Re),{class:"col-span-3"},{default:s(()=>[t(fe,{class:"text-sm px-1.5 py-0 h-8 flex items-center gap-1 group",variant:"outline"},{default:s(()=>[t(e(es),{class:"inline-block mr-1 ml-0",size:"14"}),x[47]||(x[47]=a("span",{class:"hidden md:inline-flex"},"Enable/Disable",-1)),t(e(vt),{class:Ce(["transition-transform duration-200 ease-in-out group-hover:rotate-180",{"rotate-180":I}]),size:"14"},null,8,["class"])]),_:2},1024)]),_:2},1024),t(e(Ue),{side:"bottom",align:"start",class:"col-span-3 p-1 text-left w-max"},{default:s(()=>[a("div",Tn,[t(fe,{class:"text-sm px-1.5 py-0 h-8 hover:animate-pulse w-full",onClick:x[17]||(x[17]=le(ve=>e(Ge)(e(F)),["prevent"])),variant:"ghost"},{default:s(()=>[t(e(Et),{size:"16",class:"text-green-300 mr-1"}),x[48]||(x[48]=v(" Enable Selected ",-1))]),_:1}),t(fe,{class:"text-sm px-1.5 py-0 h-8 w-full",onClick:x[18]||(x[18]=le(ve=>e(L)(e(F)),["prevent"])),variant:"ghost"},{default:s(()=>[t(e(Tt),{size:"16",class:"text-red-300 mr-1"}),x[49]||(x[49]=v(" Disable Selected ",-1))]),_:1})])]),_:1})]),_:1}),t(fe,{class:"text-sm px-1.5 py-0 hover:animate-pulse h-8",onClick:x[19]||(x[19]=le(I=>e(he)(e(F)),["prevent"])),variant:"outline"},{default:s(()=>[t(xe,{name:"folder-download-open",class:"inline-block mr-0 md:mr-2 ml-0",size:"14"}),x[50]||(x[50]=a("span",{class:"hidden md:inline-flex"},"Download Now",-1))]),_:1}),t(fe,{class:"text-sm px-1.5 py-0 hover:animate-pulse h-8",onClick:x[20]||(x[20]=le(I=>e(J)(),["prevent"])),variant:"outline"},{default:s(()=>[t(e(ps),{class:"inline-block mr-0 md:mr-2 ml-0",size:"14"}),x[51]||(x[51]=a("span",{class:"hidden md:inline-flex"},"Bulk Edit",-1))]),_:1}),t(fe,{class:"text-sm px-1.5 py-0 bg-red-600 hover:bg-red-700 hover:animate-pulse h-8",onClick:x[21]||(x[21]=le(I=>b.value=!0,["prevent"])),variant:"primary"},{default:s(()=>[t(e(Rt),{class:"inline-block mr-0 md:mr-2 ml-0",size:"14"}),a("span",Rn,"Delete "+A(e(F).length),1)]),_:1})])):h("",!0),e(V)&&e(_)?(l(),c(fe,{key:1,onClick:e(ae),disabled:e(g),class:"load-more-btn my-4",variant:"outline"},{default:s(()=>[x[52]||(x[52]=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[a("path",{d:"M12 8v8m0 0l4-4m-4 4l-4-4"}),a("path",{d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})],-1)),v(" "+A(e(g)?"Loading...":"Load More Results"),1)]),_:1},8,["onClick","disabled"])):h("",!0),t(Ke,{currentPage:e(w),lastPage:e(S),perPage:e(k),"onUpdate:currentPage":x[22]||(x[22]=I=>w.value=I),"onUpdate:perPage":x[23]||(x[23]=I=>k.value=I),totalRecords:e(n),isLoading:e(M)},null,8,["currentPage","lastPage","perPage","totalRecords","isLoading"]),(l(),c(hs,{onSave:x[24]||(x[24]=I=>e(Q)()),onClose:x[25]||(x[25]=I=>et.value=!1),key:e(f),editId:e(T),isClone:et.value},null,8,["editId","isClone"])),e(F).length>0?(l(),c(gl,{checkedRows:e(F),key:e(m),onBulkUpdateSuccess:x[26]||(x[26]=I=>e(B)())},null,8,["checkedRows"])):h("",!0),t(Se,{ids:e(F),showConfirmDelete:e(b),onClose:x[27]||(x[27]=I=>b.value=!1),onHandleDelete:x[28]||(x[28]=I=>e(K)(e(F)))},null,8,["ids","showConfirmDelete"]),t(Bt)])])}}};function Mn(y,U){const w=P(!1),k=P([]),S=P([]),n=P([]),{toastSuccess:M,toastError:g}=we(),_=Pe(),{closeDialog:V,isDialogOpen:b}=_,T={1:"device",2:"tag",3:"snippet",4:"agent"};ue(()=>{m()});const f=me(()=>(console.log(T[y.type]),T[y.type]||"Item")),m=async()=>{switch(w.value=!0,await p(),y.type){case 1:await i();break;case 2:await C();break;case 3:await u();break;case 4:await d();break;default:S.value=[]}w.value=!1},p=async()=>{try{const N=await axios.get("/api/roles");k.value=N.data.data}catch(N){n.value=N.response.data.errors,g("Error","Failed to fetch roles",N.response.data.message),console.error("Error fetching roles:",N)}},i=async()=>{try{const N=await axios.get(`/api/devices/${y.itemId}`);N.data.roles.length>0&&(S.value=N.data.roles.map(D=>D.id))}catch(N){n.value=N.response.data.errors,g("Error","Failed to fetch device roles",N.response.data.message)}},C=async()=>{try{const N=await axios.get(`/api/tags/${y.itemId}`);N.data.roles.length>0&&(S.value=N.data.roles.map(D=>D.id))}catch(N){n.value=N.response.data.errors,g("Error","Failed to fetch tag roles",N.response.data.message)}},u=async()=>{try{const N=await axios.get(`/api/snippets/${y.itemId}`);N.data.roles.length>0&&(S.value=N.data.roles.map(D=>D.id))}catch(N){n.value=N.response.data.errors,g("Error","Failed to fetch snippet roles",N.response.data.message)}},d=async()=>{try{const N=await axios.get(`/api/agents/${y.itemId}`);N.data.roles.length>0&&(S.value=N.data.roles.map(D=>D.id))}catch(N){n.value=N.response.data.errors,g("Error","Failed to fetch agent roles",N.response.data.message)}};function R(){switch(y.type){case 1:O();break;case 2:r();break;case 3:H();break;case 4:$();break;default:S.value=[]}setTimeout(()=>{U("updateRoles",S.value)},300)}const O=async()=>{if(S.value.length===0)return g("Error","Please select at least one role"),!1;try{return await axios.post(`/api/device/update-roles/${y.itemId}`,{roles:S.value}),M("Success","Roles assigned successfully"),o(),!0}catch(N){return n.value=N.response.data.errors,g("Error","Failed to update roles",N.response.data.message),!1}},r=async()=>{if(S.value.length===0)return g("Error","Please select at least one role"),!1;try{return await axios.post(`/api/tags/update-roles/${y.itemId}`,{roles:S.value}),M("Success","Roles assigned successfully"),o(),!0}catch(N){return n.value=N.response.data.errors,g("Error","Failed to update roles",N.response.data.message),!1}},H=async()=>{if(S.value.length===0)return g("Error","Please select at least one role"),!1;try{return await axios.post(`/api/snippets/update-roles/${y.itemId}`,{roles:S.value}),M("Success","Roles assigned successfully"),o(),!0}catch(N){return n.value=N.response.data.errors,g("Error","Failed to update roles",N.response.data.message),!1}},$=async()=>{if(S.value.length===0)return g("Error","Please select at least one role"),!1;try{return await axios.post(`/api/agents/update-roles/${y.itemId}`,{roles:S.value}),M("Success","Roles assigned successfully"),o(),!0}catch(N){return n.value=N.response.data.errors,g("Error","Failed to update roles",N.response.data.message),!1}},Z=N=>S.value.includes(N),K=N=>{if(N===1)return;const D=S.value.indexOf(N);D>-1?S.value.splice(D,1):S.value.push(N)};function o(){V("DialogRoleAssignment")}return{displayName:f,isLoading:w,roles:k,updateRoles:R,isDialogOpen:b,isRoleSelected:Z,toggleRole:K,close:o}}const An={class:"grid gap-2 p-4"},Bn={key:0,class:"text-xs text-muted-foreground"},Nn={class:"rc-kdb-class2 ml-2"},Fn={__name:"RcRoleDialog",props:{itemId:{type:Number,required:!0},type:{type:Number,default:0,validator:y=>[y,1,2,3,4].includes(y)}},emits:["close","confirm","updateRoles"],setup(y,{emit:U}){const w=y,k=U,{displayName:S,isLoading:n,roles:M,updateRoles:g,isDialogOpen:_,isRoleSelected:V,toggleRole:b,close:T}=Mn(w,k);return(f,m)=>{const p=j("RcIcon");return l(),c(e(Ze),{open:e(_)("DialogRoleAssignment")},{default:s(()=>[t(e(Je),{class:"w-full p-0 bg-background text-foreground border border-border",onInteractOutside:m[2]||(m[2]=i=>e(T)()),onPointerDownOutside:m[3]||(m[3]=i=>e(T)()),onEscapeKeyDown:m[4]||(m[4]=i=>e(T)()),onCloseClicked:m[5]||(m[5]=i=>e(T)())},{default:s(()=>[t(e(Ye),{class:"rc-dialog-header"},{default:s(()=>[t(e(Qe),{class:"text-sm text-muted-foreground flex items-center"},{default:s(()=>[t(p,{name:"rbac",class:"inline-block mr-2"}),a("span",null,"Assign roles to "+A(e(S))+" ID: "+A(y.itemId),1)]),_:1})]),_:1}),a("div",An,[e(n)?(l(),E(ee,{key:0},oe(3,i=>a("div",{class:"flex items-center space-x-2",key:i},[t(e(bt),{class:"h-4 w-4"}),t(e(bt),{class:"h-4 w-[250px]"})])),64)):(l(!0),E(ee,{key:1},oe(e(M),i=>(l(),E("div",{key:i.id,class:"flex items-center space-x-2"},[t(e(Qt),{id:`role-${i.id}`,checked:e(V)(i.id),"onUpdate:checked":C=>e(b)(i.id),disabled:i.id===1},null,8,["id","checked","onUpdate:checked","disabled"]),t(e(tt),{for:`role-${i.id}`,class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>[v(A(i.name),1)]),_:2},1032,["for"]),i.id===1?(l(),E("div",Bn,"   - Primary admin role cannot be removed ")):h("",!0)]))),128))]),t(e(We),{class:"rc-dialog-footer"},{default:s(()=>[t(e(re),{type:"button",variant:"outline",class:"px-2 py-1 ml-2 text-sm",onClick:m[0]||(m[0]=i=>e(T)()),size:"sm"},{default:s(()=>[...m[6]||(m[6]=[v(" Cancel ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ESC")],-1)])]),_:1}),t(e(re),{type:"submit",variant:"primary",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700",size:"sm",onClick:m[1]||(m[1]=i=>e(g)())},{default:s(()=>[m[8]||(m[8]=v(" Save ",-1)),a("kbd",Nn,[m[7]||(m[7]=v(" Ctrl  ",-1)),t(p,{name:"enter",class:"ml-1"})])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}},Ln={class:"flex items-center"},On={class:"ml-2"},zn={class:"grid gap-2 py-4"},jn={class:"grid items-center grid-cols-4 gap-2"},Kn={key:0,class:"col-span-3 col-start-2 text-sm text-red-400"},Gn={class:"grid items-center grid-cols-4 gap-2"},qn={key:0,class:"col-span-3 col-start-2 text-sm text-red-400"},Hn={class:"pl-2 ml-auto"},Jn={class:"rc-kdb-class2"},Yn={class:"pl-2 ml-auto"},Qn={class:"rc-kdb-class2"},Wn={__name:"TagAddEditDialog",props:{editId:Number},emits:["save"],setup(y,{emit:U}){const{toastSuccess:w,toastError:k}=we(),S=Pe(),{closeDialog:n,isDialogOpen:M}=S,g=U,_=P([]),V=P({tagname:"",tagDescription:""}),b=y;function T(m){m.ctrlKey&&m.key==="Enter"&&f()}ue(()=>{b.editId>0&&X.get(`/api/tags/${b.editId}`).then(m=>{V.value=m.data}),window.addEventListener("keydown",T)}),$e(()=>{window.removeEventListener("keydown",T)});function f(){let m=b.editId>0?`/${b.editId}`:"",p=b.editId>0?"patch":"post";X[p]("/api/tags"+m,V.value).then(i=>{g("save",i.data),w("Tag saved","The tag has been saved successfully."),n("DialogNewTag")}).catch(i=>{_.value=i.response.data.errors,k("Error","Failed to save tag.")})}return(m,p)=>{const i=j("RcIcon"),C=j("Label"),u=j("Input"),d=j("Button");return l(),c(e(Ze),{open:e(M)("DialogNewTag")},{default:s(()=>[t(e(wt),{"as-child":""}),t(e(Je),{class:"w-full p-0",onEscapeKeyDown:p[3]||(p[3]=R=>e(n)("DialogNewTag")),onPointerDownOutside:p[4]||(p[4]=R=>e(n)("DialogNewTag")),onCloseClicked:p[5]||(p[5]=R=>e(n)("DialogNewTag"))},{default:s(()=>[t(e(Ye),{class:"rc-dialog-header"},{default:s(()=>[t(e(Qe),{class:"text-sm text-rcgray-200"},{default:s(()=>[a("div",Ln,[t(i,{name:"commands"}),a("span",On,A(y.editId>0?"Edit":"New")+" Tag "+A(y.editId>0?"(ID: "+y.editId+")":""),1)])]),_:1})]),_:1}),a("div",zn,[a("div",jn,[t(C,{for:"tagname",class:"text-right"},{default:s(()=>[...p[6]||(p[6]=[v(" Tag Name ",-1),a("span",{class:"text-red-600"},"*",-1)])]),_:1}),t(u,{modelValue:V.value.tagname,"onUpdate:modelValue":p[0]||(p[0]=R=>V.value.tagname=R),id:"tagname",class:"col-span-3"},null,8,["modelValue"]),_.value.tagname?(l(),E("span",Kn,A(_.value.tagname[0]),1)):h("",!0)]),a("div",Gn,[t(C,{for:"tagDescription",class:"text-right"},{default:s(()=>[...p[7]||(p[7]=[v("Description",-1)])]),_:1}),t(u,{modelValue:V.value.tagDescription,"onUpdate:modelValue":p[1]||(p[1]=R=>V.value.tagDescription=R),id:"tagDescription",class:"col-span-3"},null,8,["modelValue"]),_.value.tagDescription?(l(),E("span",qn,A(_.value.tagDescription[0]),1)):h("",!0)])]),t(e(We),{class:"rc-dialog-footer bg-rcgray-800"},{default:s(()=>[t(d,{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:p[2]||(p[2]=R=>e(n)("DialogNewTag")),size:"sm"},{default:s(()=>[...p[8]||(p[8]=[v(" Cancel ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1}),b.editId===0?(l(),c(d,{key:0,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:f,variant:"primary"},{default:s(()=>[p[10]||(p[10]=v(" Save ",-1)),a("div",Hn,[a("kbd",Jn,[p[9]||(p[9]=v(" Ctrl  ",-1)),t(i,{name:"enter",class:"ml-1"})])])]),_:1})):(l(),c(d,{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:f,variant:"primary"},{default:s(()=>[p[12]||(p[12]=v(" Update ",-1)),a("div",Yn,[a("kbd",Qn,[p[11]||(p[11]=v(" Ctrl  ",-1)),t(i,{name:"enter",class:"ml-1"})])])]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"])}}};function Zn(){const y=P(1),U=gt(),w=P(U.get("useTags","perPage",10)),k=P("-id"),S=P(""),n=P({}),M=P([]),g=P(!1),_=P(1),V=P(0),b=P(1),T=P(1),f=P(!1),m=Pe(),{openDialog:p}=m,{toastSuccess:i,toastError:C}=we(),{reload:u}=xt(R),{toggleSort:d}=yt(k,R,"useTags");async function R(z={}){g.value=!0;try{const Q=await X.get("/api/tags",{params:{page:y.value,perPage:w.value,sort:k.value,...n.value}});M.value=Q.data,_.value=Q.data.last_page}catch(Q){console.error("Error fetching tags:",Q),C("Error","Failed to fetch tags.")}finally{g.value=!1}}const O=async()=>{V.value=0,b.value=Math.random(),p("DialogNewTag")};function r(z){V.value=z,b.value=Math.random(),p("DialogNewTag")}const H=z=>{V.value=z,T.value=Math.random(),p("DialogRoleAssignment")},$=async z=>{try{await X.delete(`/api/tags/${z}`),R(),i("Tag Deleted","The tag has been deleted successfully."),f.value=!1}catch(Q){Q.status===422?C("Error",Q.response.data.message):(console.error("Error deleting Tag:",Q),C("Error","Failed to delete Tag."))}},Z=async z=>{try{await X.post("/api/tags/delete-many",{ids:z}),R(),i("Tags Deleted","The tags have been deleted successfully."),f.value=!1,De.emit("deleteManyTagsSuccess")}catch(Q){Q.status===422?C("Error",Q.response.data.message):(console.error("Error deleting Tags:",Q),C("Error","Failed to delete Tags.")),f.value=!1}},K=z=>{V.value=z,b.value=Math.random(),p("DialogNewTag")},o=()=>{R(),b.value=Math.random()};function N(z){z.altKey&&z.key==="n"&&(z.preventDefault(),p("DialogNewTag"))}const D=ft(()=>{n.value["filter[q]"]=S.value,y.value=1,R()},500);return ie(y,()=>{R()}),ie(S,()=>{D()}),ie(w,z=>{U.set("useTags","perPage",z),R()}),{reload:u,tags:M,isLoading:g,currentPage:y,perPage:w,lastPage:_,editId:V,newTagModalKey:b,newRoleModalKey:T,searchTerm:S,showConfirmDelete:f,openDialog:p,fetchTags:R,createTag:O,updateTag:r,deleteTag:$,deleteManyTags:Z,handleSave:o,handleRoleAssignment:H,handleKeyDown:N,viewEditDialog:K,toggleSort:d,sortParam:k}}const Xn={class:"flex flex-col h-full gap-1 text-center"},eo={class:"flex items-center justify-between p-4"},to={class:"flex items-center"},so={class:"flex items-center justify-end"},ao={class:"px-6"},lo={__name:"Main",setup(y){const{reload:U,tags:w,isLoading:k,currentPage:S,perPage:n,lastPage:M,editId:g,newTagModalKey:_,newRoleModalKey:V,searchTerm:b,showConfirmDelete:T,fetchTags:f,createTag:m,deleteTag:p,deleteManyTags:i,handleSave:C,handleKeyDown:u,handleRoleAssignment:d,viewEditDialog:R,toggleSort:O,sortParam:r}=Zn(),{selectedRows:H,selectAll:$,toggleSelectAll:Z,toggleSelectRow:K}=Be(w),o=Te();return ue(()=>{var N,D;(D=(N=o.currentRoute)==null?void 0:N.value.params)!=null&&D.id&&(g.value=parseInt(o.currentRoute.value.params.id),R(g.value)),f(),window.addEventListener("keydown",u),De.on("deleteManyTagsSuccess",()=>{H.value=[],$.value=!1})}),$e(()=>{window.removeEventListener("keydown",u)}),(N,D)=>{const z=j("Input"),Q=j("Button"),B=j("RcIcon"),de=j("Checkbox");return l(),E("div",Xn,[a("div",eo,[a("div",to,[t(z,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter tags...",modelValue:e(b),"onUpdate:modelValue":D[0]||(D[0]=Y=>se(b)?b.value=Y:null)},null,8,["modelValue"]),e(b)?(l(),c(Ne,{key:0,"onUpdate:modelValue":D[1]||(D[1]=Y=>b.value="")})):h("",!0)]),a("div",so,[e(H).length?(l(),c(Q,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:D[2]||(D[2]=le(Y=>T.value=!0,["prevent"])),variant:"primary"},{default:s(()=>[v("Delete Selected "+A(e(H).length)+" Tag(s) ",1)]),_:1})):h("",!0),t(Q,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:le(e(m),["prevent"]),variant:"primary"},{default:s(()=>[...D[14]||(D[14]=[v(" New Tag ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1},8,["onClick"]),t(B,{name:"refresh",class:"w-4 h-4 mx-4 text-muted-foreground cursor-pointer hover:text-rcgray-200",onClick:D[3]||(D[3]=Y=>e(U)())})])]),a("div",ao,[t(e(je),null,{default:s(()=>[t(e(Fe),null,{default:s(()=>[t(e(be),null,{default:s(()=>[t(e(q),{class:"w-[2%]"},{default:s(()=>[t(de,{id:"selectAll",modelValue:e($),"onUpdate:modelValue":D[4]||(D[4]=Y=>se($)?$.value=Y:null),checked:e($),onClick:D[5]||(D[5]=Y=>e(Z)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:s(()=>[t(Q,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:D[6]||(D[6]=Y=>e(O)("id"))},{default:s(()=>[t(B,{name:"sort",sortParam:e(r),field:"id"},null,8,["sortParam"]),D[15]||(D[15]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:s(()=>[t(Q,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:D[7]||(D[7]=Y=>e(O)("tagname"))},{default:s(()=>[t(B,{name:"sort",sortParam:e(r),field:"tagname"},null,8,["sortParam"]),D[16]||(D[16]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:s(()=>[...D[17]||(D[17]=[v("Description",-1)])]),_:1}),t(e(q),{class:"w-[40%]"},{default:s(()=>[...D[18]||(D[18]=[v("Devices",-1)])]),_:1}),t(e(q),{class:"w-[20%]"},{default:s(()=>[...D[19]||(D[19]=[v("Roles",-1)])]),_:1}),t(e(q),{class:"w-[10%]"},{default:s(()=>[...D[20]||(D[20]=[v("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(Le),null,{default:s(()=>[e(k)?(l(),c(Oe,{key:0})):e(k)?(l(),c(ze,{key:2})):(l(!0),E(ee,{key:1},oe(e(w).data,Y=>(l(),c(e(be),{key:Y.id},{default:s(()=>[t(e(G),{class:"text-start"},{default:s(()=>[t(de,{class:"cursor-pointer",id:"select-"+Y.id,checked:!!e(H).includes(Y.id),onClick:J=>e(K)(Y.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(Y.id),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(Y.tagname),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(Y.tagDescription),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Ve,{items:Y.device,displayField:"device_name",linkField:"view_url",maxVisible:8,hoverCardFields:["id","device_name","device_ip"]},null,8,["items"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Ve,{items:Y.roles,displayField:"name",linkString:"/settings/roles",maxVisible:3,hoverCardFields:["id","name","description"]},null,8,["items"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Xe,{rowData:Y,onOnEdit:J=>e(R)(Y.id),onOnDelete:J=>e(p)(Y.id),showRolesBtn:!0,onOnRoleAssignment:J=>e(d)(Y.id)},null,8,["rowData","onOnEdit","onOnDelete","onOnRoleAssignment"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Ke,{currentPage:e(S),lastPage:e(M),perPage:e(n),"onUpdate:currentPage":D[8]||(D[8]=Y=>S.value=Y),"onUpdate:perPage":D[9]||(D[9]=Y=>n.value=Y),totalRecords:e(w).total,isLoading:e(k)},null,8,["currentPage","lastPage","perPage","totalRecords","isLoading"]),(l(),c(Wn,{onSave:D[10]||(D[10]=Y=>e(C)()),key:e(_),editId:e(g)},null,8,["editId"])),t(Se,{ids:e(H),showConfirmDelete:e(T),onClose:D[11]||(D[11]=Y=>T.value=!1),onHandleDelete:D[12]||(D[12]=Y=>e(i)(e(H)))},null,8,["ids","showConfirmDelete"]),e(g)>0?(l(),c(Fn,{itemId:e(g),key:e(V),type:2,onUpdateRoles:D[13]||(D[13]=Y=>e(f)())},null,8,["itemId"])):h("",!0)])])}}};function no(y){const U=P(1),w=gt(),k=P(w.get("useTemplates","perPage",10)),S=P("-id"),n=P(""),M=P({}),g=Pe(),_=P(0),V=P(!1),b=P(1),T=P(1),f=P([]),m=P(!1),p=Te(),{openDialog:i}=g,{toastSuccess:C,toastError:u}=we(),{reload:d}=xt(O),{toggleSort:R}=yt(S,O,"useTemplates");ue(()=>{var D,z;(z=(D=p.currentRoute)==null?void 0:D.value.params)!=null&&z.id?(_.value=p.currentRoute.value.params.id,r(_.value)):(_.value=0,O()),window.addEventListener("keydown",o)}),$e(()=>{window.removeEventListener("keydown",o)});async function O(D={}){V.value=!0;try{const z=await X.get("/api/templates",{params:{page:U.value,perPage:k.value,sort:S.value,...M.value}});f.value=z.data,b.value=z.data.last_page}catch(z){console.error("Error fetching templates:",z),u("Error","Failed to fetch templates.")}finally{V.value=!1}}function r(D){p.push({name:"template-view",params:{id:D}})}const H=async D=>{try{await X.delete(`/api/templates/${D}`),O(),C("Template Deleted","The template has been deleted successfully.")}catch(z){z.status===422?u("Error",z.response.data.message):(console.error("Error deleting template:",z),u("Error","Failed to delete template."))}},$=async D=>{try{await X.post("/api/templates/delete-many",{ids:D}),O(),C("Templates Deleted","The templates have been deleted successfully."),m.value=!1,De.emit("deleteManyTemplatesSuccess")}catch(z){z.status===422?u("Error",z.response.data.message):(console.error("Error deleting Templates:",z),u("Error","Failed to delete Templates.")),m.value=!1}},Z=D=>{_.value=D,T.value=Math.random(),i("DialogNewTemplate")},K=()=>{O(),T.value=Math.random()};function o(D){D.altKey&&D.key==="n"&&(D.preventDefault(),i("DialogNewTemplate"))}const N=ft(()=>{M.value["filter[q]"]=n.value,U.value=1,O()},500);return ie(U,()=>{O()}),ie(n,()=>{N()}),ie(k,D=>{w.set("useTemplates","perPage",D),O()}),{reload:d,templates:f,isLoading:V,currentPage:U,perPage:k,lastPage:b,editId:_,newTemplateModalKey:T,searchTerm:n,openDialog:i,fetchTemplates:O,viewTemplateDetailsPane:r,deleteTemplate:H,deleteManyTemplates:$,handleSave:K,handleKeyDown:o,viewEditDialog:Z,toggleSort:R,sortParam:S,showConfirmDelete:m}}const oo={class:"flex flex-col h-full gap-1 text-center"},ro={class:"flex items-center justify-between p-4"},io={class:"flex items-center"},uo={class:"flex items-center justify-end"},co={class:"px-6"},mo={class:"border-b"},po={__name:"Main",setup(y){const{reload:U,templates:w,isLoading:k,currentPage:S,perPage:n,lastPage:M,searchTerm:g,viewTemplateDetailsPane:_,deleteTemplate:V,deleteManyTemplates:b,toggleSort:T,sortParam:f,showConfirmDelete:m}=no(),{importTemplates:p,importingTemplates:i}=Cs(),{selectedRows:C,selectAll:u,toggleSelectAll:d,toggleSelectRow:R}=Be(w);return ue(()=>{De.on("deleteManyTemplatesSuccess",()=>{C.value=[],u.value=!1,document.getElementById("selectAll").checked=!1})}),(O,r)=>{const H=j("Input"),$=j("Button"),Z=j("RcIcon"),K=j("Checkbox");return l(),E("div",oo,[a("div",ro,[a("div",io,[t(H,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter templates...",modelValue:e(g),"onUpdate:modelValue":r[0]||(r[0]=o=>se(g)?g.value=o:null)},null,8,["modelValue"]),e(g)?(l(),c(Ne,{key:0,"onUpdate:modelValue":r[1]||(r[1]=o=>g.value="")})):h("",!0)]),a("div",uo,[e(C).length?(l(),c($,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:r[2]||(r[2]=le(o=>m.value=!0,["prevent"])),variant:"primary"},{default:s(()=>[v("Delete Selected "+A(e(C).length)+" Template(s) ",1)]),_:1})):h("",!0),t($,{type:"close",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700",onClick:r[3]||(r[3]=o=>e(p)()),variant:"outline"},{default:s(()=>[e(i)?h("",!0):(l(),c(e(rs),{key:0,class:"w-4 h-4 mr-2 text-white github-shake"})),t(He,{state:e(i),class:"mr-2"},null,8,["state"]),r[14]||(r[14]=v(" Import Templates ",-1))]),_:1}),t($,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:r[4]||(r[4]=le(o=>e(_)(0),["prevent"])),variant:"primary"},{default:s(()=>[...r[15]||(r[15]=[v(" New Template ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1}),t(Z,{name:"refresh",class:"w-4 h-4 mx-4 text-muted-foreground cursor-pointer hover:text-rcgray-200",onClick:r[5]||(r[5]=o=>e(U)())})])]),a("div",co,[t(e(je),null,{default:s(()=>[t(e(Fe),null,{default:s(()=>[t(e(be),null,{default:s(()=>[t(e(q),{class:"w-[2%]"},{default:s(()=>[t(K,{id:"selectAll",modelValue:e(u),"onUpdate:modelValue":r[6]||(r[6]=o=>se(u)?u.value=o:null),checked:e(u),onClick:r[7]||(r[7]=o=>e(d)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:s(()=>[t($,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[8]||(r[8]=o=>e(T)("id"))},{default:s(()=>[t(Z,{name:"sort",sortParam:e(f),field:"id"},null,8,["sortParam"]),r[16]||(r[16]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:s(()=>[t($,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:r[9]||(r[9]=o=>e(T)("templateName"))},{default:s(()=>[t(Z,{name:"sort",sortParam:e(f),field:"templateName"},null,8,["sortParam"]),r[17]||(r[17]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:s(()=>[...r[18]||(r[18]=[v("Description",-1)])]),_:1}),t(e(q),{class:"w-[40%]"},{default:s(()=>[...r[19]||(r[19]=[v("Devices",-1)])]),_:1}),t(e(q),{class:"w-[10%]"},{default:s(()=>[...r[20]||(r[20]=[v("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(Le),null,{default:s(()=>[e(k)?(l(),c(Oe,{key:0})):e(k)?(l(),c(ze,{key:2})):(l(!0),E(ee,{key:1},oe(e(w).data,o=>(l(),c(e(be),{key:o.id},{default:s(()=>[t(e(G),{class:"text-start"},{default:s(()=>[t(K,{class:"cursor-pointer",id:"select-"+o.id,checked:!!e(C).includes(o.id),onClick:N=>e(R)(o.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(o.id),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t($,{class:"px-2 py-0 text-sm hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:N=>e(_)(o.id)},{default:s(()=>[a("span",mo,A(o.templateName),1)]),_:2},1032,["onClick"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(o.description),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Ve,{items:o.device,displayField:"device_name",linkField:"view_url",maxVisible:8,hoverCardFields:["id","device_name","device_ip"]},null,8,["items"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Xe,{rowData:o,onOnEdit:N=>e(_)(o.id),onOnDelete:N=>e(V)(o.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Ke,{currentPage:e(S),lastPage:e(M),perPage:e(n),"onUpdate:currentPage":r[10]||(r[10]=o=>S.value=o),"onUpdate:perPage":r[11]||(r[11]=o=>n.value=o),totalRecords:e(w).total,isLoading:e(k)},null,8,["currentPage","lastPage","perPage","totalRecords","isLoading"]),t(Se,{ids:e(C),showConfirmDelete:e(m),onClose:r[12]||(r[12]=o=>m.value=!1),onHandleDelete:r[13]||(r[13]=o=>e(b)(e(C)))},null,8,["ids","showConfirmDelete"])])])}}},fo=rt(po,[["__scopeId","data-v-d820045f"]]),vo={class:"flex flex-col h-full gap-1 text-center"},go={class:"flex items-center justify-between p-4"},yo={class:"flex items-center"},xo={class:"flex items-center justify-end"},_o={class:"px-6"},ko={__name:"Main",setup(y){const{reload:U,editId:w,vendors:k,currentPage:S,perPage:n,searchTerm:M,lastPage:g,isLoading:_,fetchVendors:V,viewEditDialog:b,createVendor:T,deleteVendor:f,deleteManyVendors:m,handleSave:p,handleKeyDown:i,newVendorModalKey:C,toggleSort:u,sortParam:d,showConfirmDelete:R}=ws(),{selectedRows:O,selectAll:r,toggleSelectAll:H,toggleSelectRow:$}=Be(k),Z=Te();return ue(()=>{var K,o;V(),(o=(K=Z.currentRoute)==null?void 0:K.value.params)!=null&&o.id&&(w.value=parseInt(Z.currentRoute.value.params.id),b(w.value)),window.addEventListener("keydown",i),De.on("deleteManyVendorsSuccess",()=>{O.value=[],r.value=!1,document.getElementById("selectAll").checked=!1})}),$e(()=>{window.removeEventListener("keydown",i)}),(K,o)=>{const N=j("Input"),D=j("Button"),z=j("RcIcon"),Q=j("Checkbox");return l(),E("div",vo,[a("div",go,[a("div",yo,[t(N,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter vendors...",modelValue:e(M),"onUpdate:modelValue":o[0]||(o[0]=B=>se(M)?M.value=B:null)},null,8,["modelValue"]),e(M)?(l(),c(Ne,{key:0,"onUpdate:modelValue":o[1]||(o[1]=B=>M.value="")})):h("",!0)]),a("div",xo,[e(O).length?(l(),c(D,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:o[2]||(o[2]=le(B=>R.value=!0,["prevent"])),variant:"primary"},{default:s(()=>[v("Delete Selected "+A(e(O).length)+" Vendor(s) ",1)]),_:1})):h("",!0),t(D,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:le(e(T),["prevent"]),variant:"primary"},{default:s(()=>[...o[13]||(o[13]=[v(" New Vendor ",-1),a("div",{class:"pl-2 ml-auto"},[a("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1},8,["onClick"]),t(z,{name:"refresh",class:"w-4 h-4 mx-4 text-muted-foreground cursor-pointer hover:text-rcgray-200",onClick:o[3]||(o[3]=B=>e(U)())})])]),a("div",_o,[t(e(je),null,{default:s(()=>[t(e(Fe),null,{default:s(()=>[t(e(be),null,{default:s(()=>[t(e(q),{class:"w-[2%]"},{default:s(()=>[t(Q,{id:"selectAll",modelValue:e(r),"onUpdate:modelValue":o[4]||(o[4]=B=>se(r)?r.value=B:null),checked:e(r),onClick:o[5]||(o[5]=B=>e(H)())},null,8,["modelValue","checked"])]),_:1}),t(e(q),{class:"w-[5%]"},{default:s(()=>[t(D,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:o[6]||(o[6]=B=>e(u)("id"))},{default:s(()=>[t(z,{name:"sort",sortParam:e(d),field:"id"},null,8,["sortParam"]),o[14]||(o[14]=a("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[20%]"},{default:s(()=>[t(D,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:o[7]||(o[7]=B=>e(u)("vendorName"))},{default:s(()=>[t(z,{name:"sort",sortParam:e(d),field:"vendorName"},null,8,["sortParam"]),o[15]||(o[15]=a("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(q),{class:"w-[50%]"},{default:s(()=>[...o[16]||(o[16]=[v("Devices",-1)])]),_:1}),t(e(q),{class:"w-[10%]"},{default:s(()=>[...o[17]||(o[17]=[v("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(Le),null,{default:s(()=>[e(_)?(l(),c(Oe,{key:0})):e(_)?(l(),c(ze,{key:2})):(l(!0),E(ee,{key:1},oe(e(k).data,B=>(l(),c(e(be),{key:B.id},{default:s(()=>[t(e(G),{class:"text-start"},{default:s(()=>[t(Q,{class:"cursor-pointer",id:"select-"+B.id,checked:!!e(O).includes(B.id),onClick:de=>e($)(B.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(B.id),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[v(A(B.vendorName),1)]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Ve,{items:B.device,displayField:"device_name",linkField:"view_url",maxVisible:8,hoverCardFields:["id","device_name","device_ip"]},null,8,["items"])]),_:2},1024),t(e(G),{class:"text-start"},{default:s(()=>[t(Xe,{rowData:B,onOnEdit:de=>e(b)(B.id),onOnDelete:de=>e(f)(B.id)},null,8,["rowData","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(Ke,{currentPage:e(S),lastPage:e(g),perPage:e(n),"onUpdate:currentPage":o[8]||(o[8]=B=>S.value=B),"onUpdate:perPage":o[9]||(o[9]=B=>n.value=B),totalRecords:e(k).total,isLoading:e(_)},null,8,["currentPage","lastPage","perPage","totalRecords","isLoading"]),(l(),c($s,{onSave:o[10]||(o[10]=B=>e(p)()),key:e(C),editId:e(w)},null,8,["editId"])),t(Se,{ids:e(O),showConfirmDelete:e(R),onClose:o[11]||(o[11]=B=>R.value=!1),onHandleDelete:o[12]||(o[12]=B=>e(m)(e(O)))},null,8,["ids","showConfirmDelete"])])])}}},bo={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},ho={class:"border-t border-b topRow"},Co={class:"flex items-center justify-between"},wo={class:"flex items-center justify-start w-full gap-2"},$o={class:"truncate"},Do={class:"flex items-center gap-2 mr-4"},So={class:"flex items-center gap-2"},Vo={key:1,class:"flex flex-col h-full gap-1 text-center"},Po={class:"flex items-center justify-between p-4"},Io={class:"flex items-center"},Eo={class:"text-lg text-red-500 font-semibold"},To={__name:"Main",setup(y){const U=P(!1),{currentView:w,viewItems:k,changeView:S,toggleFavorite:n}=Wt(),M=me(()=>["devices","commandgroups","commands","templates","vendors","tags"].includes(w.value));return(g,_)=>{const V=j("RcIcon");return l(),E("main",bo,[a("div",ho,[t(e(dt),{"onUpdate:open":_[0]||(_[0]=b=>U.value=b)},{default:s(()=>{var b,T;return[a("div",Co,[t(e(nt),{"as-child":"",class:"p-4 ml-2"},{default:s(()=>[t(e(re),{variant:"outline",class:"w-48"},{default:s(()=>{var f;return[a("div",wo,[t(V,{name:"pin",class:"w-4 h-4 text-blue-400 shrink-0"}),a("span",$o,A(((f=e(k).find(m=>m.id===e(w)))==null?void 0:f.label)||"Select View"),1),t(e(vt),{class:Ce(["w-4 h-4 ml-auto transition-transform duration-300",{"rotate-180":U.value}])},null,8,["class"])])]}),_:1})]),_:1})]),a("div",Do,[t(V,{name:((b=e(k).find(f=>f.id===e(w)))==null?void 0:b.icon)||""},null,8,["name"]),v(" "+A(((T=e(k).find(f=>f.id===e(w)))==null?void 0:T.label)||""),1)]),t(e(ot),{class:"w-56",align:"start"},{default:s(()=>[t(e(ts),null,{default:s(()=>[(l(!0),E(ee,null,oe(e(k),f=>(l(),c(e(_e),{key:f.id,onClick:m=>e(S)(f.id)},{default:s(()=>[a("span",So,[t(V,{name:f.icon},null,8,["name"]),v(" "+A(f.label),1)]),t(e($t),null,{default:s(()=>[t(e(Dt),null,{default:s(()=>[t(e(St),{"as-child":""},{default:s(()=>[t(e(ke),{onClick:le(m=>e(n)(f.id),["stop","prevent"])},{default:s(()=>[f.isFavorite?h("",!0):(l(),c(V,{key:0,name:"star-unselected",class:"animated-star"})),f.isFavorite?(l(),c(V,{key:1,name:"star-selected",class:"animated-star"})):h("",!0)]),_:2},1032,["onClick"])]),_:2},1024),t(e(Vt),null,{default:s(()=>[a("p",null,A(f.isFavorite?"Remove from favorites":"Add to favorites"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]}),_:1})]),a("div",null,[M.value?(l(),E(ee,{key:0},[e(w)==="devices"?(l(),c(Un,{key:0})):h("",!0),e(w)==="commandgroups"?(l(),c(ha,{key:1})):h("",!0),e(w)==="commands"?(l(),c(ma,{key:2})):h("",!0),e(w)==="templates"?(l(),c(fo,{key:3})):h("",!0),e(w)==="vendors"?(l(),c(ko,{key:4})):h("",!0),e(w)==="tags"?(l(),c(lo,{key:5})):h("",!0)],64)):(l(),E("div",Vo,[a("div",Po,[a("div",Io,[a("p",Eo,A(e(w))+" view not found",1)])])]))])])}}},sd=rt(To,[["__scopeId","data-v-56632cf0"]]);export{sd as default};
