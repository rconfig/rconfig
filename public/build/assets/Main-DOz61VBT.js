import{d as w,o as i,k as r,r as b,J as he,u as se,p as Ne,A as G,B as H,K as Oe,c as I,aq as Ue,z as $,w as s,e as t,f as e,L as He,C as O,M as Te,N as Ze,O as Ae,h,t as q,at as Ge,F as B,G as N,q as K,j as P,ar as Ee,as as be,R as Ke,S as We,ak as oe,b as ae,av as Je,T as W,a as E,ag as J,ah as Q,ai as Y,aj as X,aw as Qe,D as Z,E as T,ax as Ye,ay as A,az as Xe,aA as re,aB as et,aC as tt,aD as $e,aE as we,aF as st,aG as at,aH as lt,aI as nt,aJ as ot,aK as rt,aL as it,aM as dt,aN as ut,a0 as ct,aO as ft,aP as pe,v as mt,a6 as pt,aQ as ne,x as gt,y as vt,U as _t,_ as ke,i as Se,a7 as ee,aR as ge,m as Pe,an as Ie,a2 as qe,ap as De,g as yt,H as xt,ae as Ct,ac as ht,ad as bt,am as $t,W as wt}from"./app-xn2RtsP0.js";import{a as kt,u as St,m as Pt,e as ve,b as _e,c as It,_ as qt}from"./ToggleGroupItem-Dtx7DBT9.js";import{a as Ve,b as te,c as M,d as Fe,e as Re,f as j,i as Be,j as Le,u as Dt,h as Vt}from"./useRowSelection-Dw9uXHYU.js";import{_ as ie,a as de,b as ue,c as ce,d as fe,e as me}from"./SelectScrollDownButton-CQ0m9uge.js";import{_ as Me}from"./CardFooter.vue_vue_type_script_setup_true_lang-D0o_u8dC.js";import{_ as Ft}from"./DeviceMultiSelect-amBrBPI9.js";/* empty css               */import"./eventBus-CGRXT3Tn.js";import"./Switch-DaVsQUtu.js";function Rt(c,o){return i(),w("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.5 1C4.77614 1 5 1.22386 5 1.5V2H10V1.5C10 1.22386 10.2239 1 10.5 1C10.7761 1 11 1.22386 11 1.5V2H12.5C13.3284 2 14 2.67157 14 3.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5C1 2.67157 1.67157 2 2.5 2H4V1.5C4 1.22386 4.22386 1 4.5 1ZM10 3V3.5C10 3.77614 10.2239 4 10.5 4C10.7761 4 11 3.77614 11 3.5V3H12.5C12.7761 3 13 3.22386 13 3.5V5H2V3.5C2 3.22386 2.22386 3 2.5 3H4V3.5C4 3.77614 4.22386 4 4.5 4C4.77614 4 5 3.77614 5 3.5V3H10ZM2 6V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H2ZM7 7.5C7 7.22386 7.22386 7 7.5 7C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8C7.22386 8 7 7.77614 7 7.5ZM9.5 7C9.22386 7 9 7.22386 9 7.5C9 7.77614 9.22386 8 9.5 8C9.77614 8 10 7.77614 10 7.5C10 7.22386 9.77614 7 9.5 7ZM11 7.5C11 7.22386 11.2239 7 11.5 7C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8C11.2239 8 11 7.77614 11 7.5ZM11.5 9C11.2239 9 11 9.22386 11 9.5C11 9.77614 11.2239 10 11.5 10C11.7761 10 12 9.77614 12 9.5C12 9.22386 11.7761 9 11.5 9ZM9 9.5C9 9.22386 9.22386 9 9.5 9C9.77614 9 10 9.22386 10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5ZM7.5 9C7.22386 9 7 9.22386 7 9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5C8 9.22386 7.77614 9 7.5 9ZM5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10C5.22386 10 5 9.77614 5 9.5ZM3.5 9C3.22386 9 3 9.22386 3 9.5C3 9.77614 3.22386 10 3.5 10C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9ZM3 11.5C3 11.2239 3.22386 11 3.5 11C3.77614 11 4 11.2239 4 11.5C4 11.7761 3.77614 12 3.5 12C3.22386 12 3 11.7761 3 11.5ZM5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11ZM7 11.5C7 11.2239 7.22386 11 7.5 11C7.77614 11 8 11.2239 8 11.5C8 11.7761 7.77614 12 7.5 12C7.22386 12 7 11.7761 7 11.5ZM9.5 11C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12C9.77614 12 10 11.7761 10 11.5C10 11.2239 9.77614 11 9.5 11Z",fill:"currentColor"})])}function Bt(c,o){return i(),w("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor"})])}const Lt={class:"flex justify-between"},Mt={class:"flex items-center"},jt={class:"flex items-center"},zt={class:"grid gap-4 px-6 py-4 overflow-y-auto"},Nt={class:"flex flex-col justify-between"},Ot={class:"underline"},Ut=["innerHTML"],Ht={__name:"PeekConfigSearchMatchesDialog",props:{editId:{type:Number,required:!0},record:{type:Object,required:!0},searchString:{type:String,required:!0}},setup(c){b({});const o=he(),p=b({}),l=b(!0),f=b(localStorage.getItem("selectedLanguage")||"language-plaintext"),{closeDialog:u,isDialogOpen:y}=o;se();const{copy:g,copied:_}=Ne(),a=c,{matches:d}=a.record,v=["bash","c","cpp","css","html","java","javascript","language-plaintext","php","python","typescript"];G(()=>{window.addEventListener("keydown",m),l.value=!1});const k=F=>{if(!a.searchString)return F;const n=new RegExp(a.searchString,"gi");return F.replace(n,L=>`<span class="highlightMatch">${L}</span>`).replace(/\n/g,"<br>")};function m(F){F.key==="Escape"&&S()}const x=H(()=>a.record.file);Oe(()=>{window.removeEventListener("keydown",m)});const V=F=>{p.value[F]=!0},C=F=>{p.value[F]=!1};function S(){u("peek-config-search-matches-dialog-"+a.editId)}return(F,n)=>{const D=I("Icon"),L=I("Button"),U=Ue("highlightjs");return i(),$(e(We),{open:e(y)("peek-config-search-matches-dialog-"+c.editId)},{default:s(()=>[t(e(He),{"as-child":""},{default:s(()=>[O(F.$slots,"default")]),_:3}),t(e(Te),{class:"sm:max-w-[70dvw] grid-rows-[auto_minmax(0,1fr)_auto] p-0 max-h-[90dvh]",onEscapeKeyDown:n[5]||(n[5]=R=>e(u)("peek-config-search-matches-dialog-"+c.editId)),onPointerDownOutside:n[6]||(n[6]=R=>e(u)("peek-config-search-matches-dialog-"+c.editId)),onCloseClicked:n[7]||(n[7]=R=>e(u)("peek-config-search-matches-dialog-"+c.editId))},{default:s(()=>[t(e(Ze),{class:"p-6 pb-0"},{default:s(()=>[t(e(Ae),null,{default:s(()=>[h("Configuration Quick Peek (Config ID: "+q(c.editId)+")",1)]),_:1}),t(e(Ge),null,{default:s(()=>[r("div",Lt,[r("div",Mt,[n[8]||(n[8]=r("div",{class:"mr-2"},"Language Options:",-1)),t(e(ie),{modelValue:f.value,"onUpdate:modelValue":n[0]||(n[0]=R=>f.value=R)},{default:s(()=>[t(e(de),{class:"w-[180px]"},{default:s(()=>[t(e(ue),{placeholder:"Select a language"})]),_:1}),t(e(ce),null,{default:s(()=>[t(e(fe),null,{default:s(()=>[(i(),w(B,null,N(v,R=>t(e(me),{value:R,key:R},{default:s(()=>[h(q(R),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),r("div",jt,[h(" Path: "+q(x.value)+" ",1),t(D,{icon:e(_)?"material-symbols:check-circle-outline":e(_)?"material-symbols:content-copy-outline":"material-symbols:content-copy",class:K([e(_)?"text-green-500":"text-gray-500","ml-2 cursor-pointer hover:text-gray-700"]),onMouseover:n[1]||(n[1]=R=>V("fileLocation")),onMouseleave:n[2]||(n[2]=R=>C("fileLocation")),onClick:n[3]||(n[3]=R=>e(g)(x.value))},null,8,["icon","class"])])])]),_:1})]),_:1}),r("div",zt,[r("div",Nt,[l.value?(i(),$(be,{key:0})):P("",!0),Ee((i(),w("pre",null,[n[14]||(n[14]=h("        ",-1)),r("code",{class:K(f.value)},[n[12]||(n[12]=h(`
           `,-1)),(i(!0),w(B,null,N(e(d),(R,le)=>(i(),w("div",{key:le,class:"context-block"},[n[9]||(n[9]=h(`
`,-1)),r("span",Ot,"Matched Line: "+q(R.line_number),1),n[10]||(n[10]=h(`
      `,-1)),r("pre",{innerHTML:k(R.context)},null,8,Ut),n[11]||(n[11]=h(`
    `,-1))]))),128)),n[13]||(n[13]=h(`
        `,-1))],2),n[15]||(n[15]=h(`
      `,-1))])),[[U]])])]),t(e(Ke),{class:"p-6 pt-0"},{default:s(()=>[t(L,{onClick:n[4]||(n[4]=R=>S()),variant:"outline"},{default:s(()=>[...n[16]||(n[16]=[h(" Close ",-1)])]),_:1})]),_:1})]),_:1})]),_:3},8,["open"])}}};function Tt(c){const o=oe("formatters"),p=he(),{openDialog:l,closeDialog:f,isDialogOpen:u}=p,y=ae(),g=b(0),_=b([]),a=b(!1),d=b(1),v=b(1),k=b(5),m=b([]),x=Je({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:!0,ignore_case:!0,start_date:"",end_date:""});W(()=>c.filters,D=>{V(D),C()});function V(D){m.value=[],_.value=[],g.value=0,d.value=1,v.value=1,Object.assign(x,D)}const C=async()=>{var D,L;a.value=!0;try{const U=await E.post("/api/configs/search",{device_name:x.device_name,command:x.command,device_category:x.device_category,search_string:x.search_string,lines_before:x.lines_before,lines_after:x.lines_after,latest_version_only:x.latest_version_only,ignore_case:x.ignore_case,start_date:x.start_date+" 00:00:00",end_date:x.end_date+" 23:59:59",page:v.value,per_page:k.value});U.data.data.length&&(m.value=U.data.data,g.value=U.data.current_page,d.value=U.data.last_page)}catch(U){console.log(U),_.value=((L=(D=U.response)==null?void 0:D.data)==null?void 0:L.errors)||[]}finally{a.value=!1}};function S(D){y.push({name:"configsview",params:{id:parseInt(D)},query:{ref:"configsearch"}})}function F(D){k.value=D,C()}function n(D){console.log(D),v.value=D,C()}return{changePage:n,currentPage:g,errors:_,formatters:o,isDialogOpen:u,isFetching:a,lastPage:d,openDialog:l,perPage:k,results:m,searchModel:x,updatePerpage:F,viewDetailsPane:S}}const Zt={class:"px-6"},At={class:"flex items-center border-b"},Gt={key:0,class:"flex items-center justify-center my-4"},Et={key:0},Kt={key:1},Wt={key:2,class:"flex items-center justify-center pb-8"},Jt={__name:"ConfigSearchResultsTable",props:{filters:Object},setup(c){const o=c,{changePage:p,currentPage:l,errors:f,formatters:u,isDialogOpen:y,isFetching:g,lastPage:_,openDialog:a,perPage:d,results:v,searchModel:k,updatePerpage:m,viewDetailsPane:x}=Tt(o);return(V,C)=>{const S=I("Icon"),F=I("Button");return i(),w("div",Zt,[t(e(Be),null,{default:s(()=>[t(e(Ve),null,{default:s(()=>[t(e(te),null,{default:s(()=>[t(e(M),{class:"w-[5%]"},{default:s(()=>[...C[2]||(C[2]=[h("ID",-1)])]),_:1}),t(e(M),{class:"w-[20%]"},{default:s(()=>[...C[3]||(C[3]=[h("Device",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...C[4]||(C[4]=[h("Command Group",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...C[5]||(C[5]=[h("Filesize",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...C[6]||(C[6]=[h("Config date",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...C[7]||(C[7]=[h("Matches",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...C[8]||(C[8]=[h("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(Fe),null,{default:s(()=>[e(g)?(i(),$(Re,{key:0})):(i(!0),w(B,{key:1},N(e(v),n=>(i(),$(e(te),{key:n.id},{default:s(()=>[t(e(j),{class:"text-start"},{default:s(()=>[h(q(n.id),1)]),_:2},1024),t(e(j),{class:"text-start"},{default:s(()=>[h(q(n.device_name),1)]),_:2},1024),t(e(j),{class:"text-start"},{default:s(()=>[h(q(n.device_category),1)]),_:2},1024),t(e(j),{class:"text-start"},{default:s(()=>[h(q(e(u).formatFileSize(n.config_filesize)),1)]),_:2},1024),t(e(j),{class:"text-start"},{default:s(()=>[h(q(e(u).formatTime(n.config_date)),1)]),_:2},1024),t(e(j),{class:"text-start"},{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(Q),null,{default:s(()=>[t(e(Y),{"as-child":""},{default:s(()=>[t(F,{variant:"ghost",onClick:D=>e(a)("peek-config-search-matches-dialog-"+n.id),class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl"},{default:s(()=>[r("span",At,[t(S,{icon:"charm:eye",class:"mr-2 text-muted-foreground hover:text-blue-500"}),h(" "+q(n.matches.length?n.matches.length:"No")+" match"+q(n.matches.length>1?"es":""),1)])]),_:2},1032,["onClick"])]),_:2},1024),t(e(X),{class:"text-white bg-rcgray-800"},{default:s(()=>[...C[9]||(C[9]=[r("p",null,"View Matches",-1)])]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(j),{class:"flex items-center"},{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(Q),null,{default:s(()=>[t(e(Y),{"as-child":""},{default:s(()=>[t(F,{variant:"ghost",onClick:D=>e(a)("peek-config-dialog-"+n.id)},{default:s(()=>[t(S,{icon:"lets-icons:view-alt-fill",class:"size-6 text-muted-foreground hover:text-blue-500"})]),_:1},8,["onClick"])]),_:2},1024),t(e(X),{class:"text-white bg-rcgray-800"},{default:s(()=>[...C[10]||(C[10]=[r("p",null,"Peek Config",-1)])]),_:1})]),_:2},1024)]),_:2},1024),t(e(J),null,{default:s(()=>[t(e(Q),null,{default:s(()=>[t(e(Y),{"as-child":""},{default:s(()=>[t(F,{variant:"ghost",onClick:D=>e(x)(n.id)},{default:s(()=>[t(S,{icon:"hugeicons:file-view",class:"size-5 text-muted-foreground hover:text-blue-500"})]),_:1},8,["onClick"])]),_:2},1024),t(e(X),{class:"text-white bg-rcgray-800"},{default:s(()=>[...C[11]||(C[11]=[r("p",null,"Open Config",-1)])]),_:1})]),_:2},1024)]),_:2},1024),e(y)("peek-config-search-matches-dialog-"+n.id)?(i(),$(Ht,{key:0,record:n,editId:n.id,searchString:e(k).search_string},null,8,["record","editId","searchString"])):P("",!0),e(y)("peek-config-dialog-"+n.id)?(i(),$(kt,{key:1,editId:n.id},null,8,["editId"])):P("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!e(g)&&e(v).length===0?(i(),w("div",Gt,[Object.keys(e(f)).length===0?(i(),w("div",Et,"No results found.")):P("",!0),Object.keys(e(f)).length?(i(),w("div",Kt,[(i(!0),w(B,null,N(e(f),n=>(i(),w("span",{key:n,class:"col-span-3 col-start-2 text-sm text-red-400"},[C[12]||(C[12]=r("br",null,null,-1)),h(" "+q(n[0]),1)]))),128))])):P("",!0)])):P("",!0),!e(g)&&e(v).length>0?(i(),$(Le,{key:1,currentPage:e(l),lastPage:e(_),perPage:e(d),"onUpdate:currentPage":C[0]||(C[0]=n=>e(p)(n)),"onUpdate:perPage":C[1]||(C[1]=n=>e(m)(n))},null,8,["currentPage","lastPage","perPage"])):P("",!0),!e(g)&&e(l)>=e(_)?(i(),w("div",Wt,[...C[13]||(C[13]=[r("hr",{class:"flex-grow mx-8"},null,-1),r("div",{class:"text-muted-foreground"},"No more results to load.",-1),r("hr",{class:"flex-grow mx-8"},null,-1)])])):P("",!0)])}}},Qt={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},Yt={__name:"RangeCalendar",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1},modelValue:{type:Object,required:!1},placeholder:{type:null,required:!1},pagedNavigation:{type:Boolean,required:!1},preventDeselect:{type:Boolean,required:!1},weekStartsOn:{type:Number,required:!1},weekdayFormat:{type:String,required:!1},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},initialFocus:{type:Boolean,required:!1},isDateDisabled:{type:Function,required:!1},isDateUnavailable:{type:Function,required:!1},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","update:placeholder","update:startValue"],setup(c,{emit:o}){const p=c,l=o,f=H(()=>{const{class:y,...g}=p;return g}),u=Qe(f,l);return(y,g)=>(i(),$(e(Ye),Z({class:e(T)("p-3",p.class)},e(u)),{default:s(({grid:_,weekDays:a})=>[t(e(ns),null,{default:s(()=>[t(e(is)),t(e(os)),t(e(rs))]),_:1}),r("div",Qt,[(i(!0),w(B,null,N(_,d=>(i(),$(e(ts),{key:d.value.toString()},{default:s(()=>[t(e(as),null,{default:s(()=>[t(e(ye),null,{default:s(()=>[(i(!0),w(B,null,N(a,v=>(i(),$(e(ls),{key:v},{default:s(()=>[h(q(v),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),t(e(ss),null,{default:s(()=>[(i(!0),w(B,null,N(d.rows,(v,k)=>(i(),$(e(ye),{key:`weekDate-${k}`,class:"mt-2 w-full"},{default:s(()=>[(i(!0),w(B,null,N(v,m=>(i(),$(e(Xt),{key:m.toString(),date:m},{default:s(()=>[t(e(es),{day:m,month:d.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}},Xt={__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(c){const o=c,p=H(()=>{const{class:f,...u}=o;return u}),l=A(p);return(f,u)=>(i(),$(e(Xe),Z({class:e(T)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:bg-accent first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-outside-view])]:bg-accent/50 [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",o.class)},e(l)),{default:s(()=>[O(f.$slots,"default")]),_:3},16,["class"]))}},es={__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(c){const o=c,p=H(()=>{const{class:f,...u}=o;return u}),l=A(p);return(f,u)=>(i(),$(e(et),Z({class:e(T)(e(re)({variant:"ghost"}),"h-8 w-8 p-0 font-normal data-[selected]:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-view]:text-muted-foreground data-[outside-view]:opacity-50 [&[data-outside-view][data-selected]]:text-muted-foreground [&[data-outside-view][data-selected]]:opacity-30","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",o.class)},e(l)),{default:s(()=>[O(f.$slots,"default")]),_:3},16,["class"]))}},ts={__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(c){const o=c,p=H(()=>{const{class:f,...u}=o;return u}),l=A(p);return(f,u)=>(i(),$(e(tt),Z({class:e(T)("w-full border-collapse space-y-1",o.class)},e(l)),{default:s(()=>[O(f.$slots,"default")]),_:3},16,["class"]))}},ss={__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(c){const o=c;return(p,l)=>(i(),$(e(st),$e(we(o)),{default:s(()=>[O(p.$slots,"default")]),_:3},16))}},as={__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(c){const o=c;return(p,l)=>(i(),$(e(at),$e(we(o)),{default:s(()=>[O(p.$slots,"default")]),_:3},16))}},ye={__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(c){const o=c,p=H(()=>{const{class:f,...u}=o;return u}),l=A(p);return(f,u)=>(i(),$(e(lt),Z({class:e(T)("flex",o.class)},e(l)),{default:s(()=>[O(f.$slots,"default")]),_:3},16,["class"]))}},ls={__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(c){const o=c,p=H(()=>{const{class:f,...u}=o;return u}),l=A(p);return(f,u)=>(i(),$(e(nt),Z({class:e(T)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",o.class)},e(l)),{default:s(()=>[O(f.$slots,"default")]),_:3},16,["class"]))}},ns={__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(c){const o=c,p=H(()=>{const{class:f,...u}=o;return u}),l=A(p);return(f,u)=>(i(),$(e(ot),Z({class:e(T)("relative flex w-full items-center justify-between pt-1",o.class)},e(l)),{default:s(()=>[O(f.$slots,"default")]),_:3},16,["class"]))}},os={__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(c){const o=c,p=H(()=>{const{class:f,...u}=o;return u}),l=A(p);return(f,u)=>(i(),$(e(rt),Z({class:e(T)("text-sm font-medium",o.class)},e(l)),{default:s(({headingValue:y})=>[O(f.$slots,"default",{headingValue:y},()=>[h(q(y),1)])]),_:3},16,["class"]))}},rs={__name:"RangeCalendarNextButton",props:{step:{type:String,required:!1},nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(c){const o=c,p=H(()=>{const{class:f,...u}=o;return u}),l=A(p);return(f,u)=>(i(),$(e(dt),Z({class:e(T)(e(re)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",o.class)},e(l)),{default:s(()=>[O(f.$slots,"default",{},()=>[t(e(it),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},is={__name:"RangeCalendarPrevButton",props:{step:{type:String,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(c){const o=c,p=H(()=>{const{class:f,...u}=o;return u}),l=A(p);return(f,u)=>(i(),$(e(ut),Z({class:e(T)(e(re)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",o.class)},e(l)),{default:s(()=>[O(f.$slots,"default",{},()=>[t(e(Bt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},je=ct({__name:"ConfigSearchFilterCardDateRangePicker",emits:["dateChange"],setup(c,{emit:o}){const p=o,l=new ft("en-US",{dateStyle:"medium"}),f=new Date().getFullYear(),u=new Date().getMonth()+1,y=new Date().getDate(),g=b({start:new pe(f,u,y).subtract({days:7}),end:new pe(f,u,y)}),_=_t(a=>{p("dateChange",a)},500);return W(g,a=>{_(a)}),G(()=>{p("dateChange",g.value)}),(a,d)=>(i(),$(e(vt),null,{default:s(()=>[t(e(mt),{"as-child":""},{default:s(()=>[t(e(pt),{variant:"outline",class:K(e(T)("w-[280px] justify-start text-left font-normal",!g.value&&"text-muted-foreground"))},{default:s(()=>[t(e(Rt),{class:"w-4 h-4 mr-2"}),g.value.start?(i(),w(B,{key:0},[g.value.end?(i(),w(B,{key:0},[h(q(e(l).format(g.value.start.toDate(e(ne)())))+" - "+q(e(l).format(g.value.end.toDate(e(ne)()))),1)],64)):(i(),w(B,{key:1},[h(q(e(l).format(g.value.start.toDate(e(ne)()))),1)],64))],64)):(i(),w(B,{key:1},[h("Pick a date")],64))]),_:1},8,["class"])]),_:1}),t(e(gt),{class:"w-auto p-0"},{default:s(()=>[t(e(Yt),{modelValue:g.value,"onUpdate:modelValue":d[0]||(d[0]=v=>g.value=v),"initial-focus":"","number-of-months":2,"onUpdate:startValue":d[1]||(d[1]=v=>g.value.start=v)},null,8,["modelValue"])]),_:1})]),_:1}))}});function ds(c){const o=b({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:b(!0),ignore_case:b(!0),start_date:"",end_date:""}),p=b(null),l=b([]);G(()=>{f()});function f(){E.get("/api/configs/distinct-commands/0").then(_=>{l.value=_.data.data}).catch(_=>{createNotification({type:"danger",message:_.response.data.message})})}function u(){o.value.device_name="",o.value.command="",o.value.device_category="",o.value.search_string="",o.value.lines_before=5,o.value.lines_after=5,o.value.latest_version_only=b(!0),o.value.ignore_case=b(!0),o.value.start_date="",o.value.end_date="",c("searchCompleted",o.value)}function y(_){if(_.start&&_.end){const a=`${_.start.year}-${String(_.start.month).padStart(2,"0")}-${String(_.start.day).padStart(2,"0")}`,d=`${_.end.year}-${String(_.end.month).padStart(2,"0")}-${String(_.end.day).padStart(2,"0")}`;o.start_date=a,o.end_date=d}else o.start_date="",o.end_date="";p.value=_}function g(){c("searchCompleted",o.value)}return{clearAll:u,commands:l,model:o,performSearch:g,setDates:y}}const us={key:0,class:"space-y-2"},cs={key:0,class:"grid gap-3"},fs={class:"grid items-center"},ms={class:"grid items-center"},ps={class:"grid items-center"},gs={class:"grid items-center"},vs={class:"flex items-center mt-4 space-x-4"},_s={class:"flex items-center mb-4 space-x-4"},ys={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2"},xs={class:"flex flex-col items-start"},Cs={class:"flex flex-col items-start"},hs={class:"flex flex-col items-start w-full space-x-2"},bs={__name:"ConfigSearchFilterCard",props:{isLoading:Boolean},emits:["searchCompleted"],setup(c,{emit:o}){const p=o,{clearAll:l,commands:f,model:u,performSearch:y,setDates:g}=ds(p);return(_,a)=>{const d=I("Skeleton"),v=I("Input"),k=I("Label"),m=I("Button");return i(),w("div",null,[t(e(Pe),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(ke),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>[...a[11]||(a[11]=[r("div",{class:"grid gap-0.5"},null,-1)])]),_:1}),t(e(Se),{class:"p-4 pt-0 text-sm"},{default:s(()=>[c.isLoading?(i(),w("div",us,[t(d,{class:"w-1/2 h-4"}),t(d,{class:"w-full h-4"}),t(d,{class:"w-full h-4"}),t(d,{class:"w-full h-4"}),t(d,{class:"w-full h-4"}),t(d,{class:"w-full h-4"}),t(d,{class:"w-full h-4"}),t(d,{class:"w-full h-4"}),t(d,{class:"w-full h-4"})])):P("",!0),t(ee,{name:"fade"},{default:s(()=>[c.isLoading?P("",!0):(i(),w("div",cs,[r("div",fs,[t(e(ie),{modelValue:e(u).command,"onUpdate:modelValue":a[0]||(a[0]=x=>e(u).command=x)},{default:s(()=>[t(e(de),{class:"w-full"},{default:s(()=>[t(e(ue),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(ce),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(fe),null,{default:s(()=>[(i(!0),w(B,null,N(e(f),x=>(i(),$(e(me),{value:x.command},{default:s(()=>[h(q(x.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[12]||(a[12]=r("p",{class:"ml-1 text-xs text-muted-foreground"},[h(" Required "),r("span",{class:"text-red-400"},"*")],-1))]),r("div",ms,[t(v,{modelValue:e(u).search_string,"onUpdate:modelValue":a[1]||(a[1]=x=>e(u).search_string=x),id:"search_string",autocomplete:"off",placeholder:"Search String",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[13]||(a[13]=r("p",{class:"ml-1 text-xs text-muted-foreground"},[h(" Required "),r("span",{class:"text-red-400"},"*")],-1))]),r("div",ps,[t(v,{modelValue:e(u).device_name,"onUpdate:modelValue":a[2]||(a[2]=x=>e(u).device_name=x),id:"device_name",autocomplete:"off",placeholder:"Device Name",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[14]||(a[14]=r("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial device name",-1))]),r("div",gs,[t(v,{modelValue:e(u).device_category,"onUpdate:modelValue":a[3]||(a[3]=x=>e(u).device_category=x),id:"device_category",autocomplete:"off",placeholder:"Command Group",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[15]||(a[15]=r("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial command group name",-1))]),r("div",vs,[t(e(ge),{id:"ignore_case",checked:e(u).ignore_case,"onUpdate:checked":a[4]||(a[4]=x=>e(u).ignore_case=x)},null,8,["checked"]),a[16]||(a[16]=r("label",{for:"ignore_case",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Ignore Case ",-1))]),r("div",_s,[t(e(ge),{id:"latest_version_only",checked:e(u).latest_version_only,"onUpdate:checked":a[5]||(a[5]=x=>e(u).latest_version_only=x)},null,8,["checked"]),a[17]||(a[17]=r("label",{for:"latest_version_only",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Latest Version Only ",-1))]),r("div",ys,[r("div",xs,[t(v,{type:"number",id:"lines_before",modelValue:e(u).lines_before,"onUpdate:modelValue":a[6]||(a[6]=x=>e(u).lines_before=x)},null,8,["modelValue"]),t(k,{for:"lines_before",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>[...a[18]||(a[18]=[h(" Lines Before ",-1)])]),_:1})]),r("div",Cs,[t(v,{type:"number",id:"lines_after",modelValue:e(u).lines_after,"onUpdate:modelValue":a[7]||(a[7]=x=>e(u).lines_after=x)},null,8,["modelValue"]),t(k,{for:"lines_after",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>[...a[19]||(a[19]=[h(" Lines After ",-1)])]),_:1})])]),r("div",hs,[t(je,{class:"w-full",onDateChange:a[8]||(a[8]=x=>e(g)(x))}),a[20]||(a[20]=r("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(Me),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[c.isLoading?P("",!0):(i(),$(m,{key:0,variant:"outline",onClick:a[9]||(a[9]=x=>e(l)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>[...a[21]||(a[21]=[h(" Clear ",-1)])]),_:1})),c.isLoading?P("",!0):(i(),$(m,{key:1,variant:"primary",onClick:a[10]||(a[10]=x=>e(y)()),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>[...a[22]||(a[22]=[h(" Search ",-1)])]),_:1}))]),_:1})]),_:1})])}}},$s={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},ws={class:"flex justify-between w-full p-2 border-b"},ks={class:"flex items-center justify-between p-2 mb-4 border-b"},Ss={class:"flex items-center justify-between p-2 mb-2 border-b"},Ps={__name:"ConfigSearch",setup(c){const o=b({}),p=ae(),l=b(null),f=b(!1),u=a=>{o.value={...a}},y=()=>{p.go(-1)};function g(){l!=null&&l.value.isCollapsed?l==null||l.value.expand():l==null||l.value.collapse(),f.value=!f.value}function _(){l!=null&&l.value.isCollapsed?l==null||l.value.expand():l==null||l.value.collapse(),f.value=!f.value}return(a,d)=>{const v=I("Icon"),k=I("Button"),m=I("ResizablePanel"),x=I("ResizableHandle"),V=I("ResizablePanelGroup");return i(),w("div",$s,[r("div",ws,[t(k,{onClick:d[0]||(d[0]=C=>y()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(v,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),d[3]||(d[3]=r("h2",{class:"items-center content-center text-muted-foreground"},"Config Search",-1)),d[4]||(d[4]=r("div",{class:"flex justify-end"},null,-1))]),t(V,{direction:"horizontal",class:""},{default:s(()=>[t(m,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement4",ref:l,class:"h-[86vh]"},{default:s(()=>[r("div",ks,[d[5]||(d[5]=r("h1",{class:"ml-4 text-sm font-semibold"},"Search Options",-1)),t(Ie,{class:"mr-2",onClose:d[1]||(d[1]=C=>g())})]),t(bs,{onSearchCompleted:u})]),_:1},512),t(x,{"with-handle":""}),t(m,{class:"h-[86vh]"},{default:s(()=>[t(e(qe),{class:"border border-none rounded-md"},{default:s(()=>[r("div",null,[r("div",Ss,[t(De,{class:"ml-2",onOpenNav:d[2]||(d[2]=C=>_()),navPanelBtnState:f.value},null,8,["navPanelBtnState"]),r("h1",{class:K(["w-full text-sm font-semibold",f.value===!1?"ml-2 ":""])}," Results ",2)]),t(Jt,{filters:o.value},null,8,["filters"])])]),_:1})]),_:1})]),_:1})])}}};function Is(c){const o=b(null),p=b([]),l=b({selectedCommand:[],device:[],start_date:"",end_date:""});G(()=>{f()});function f(){E.get("/api/configs/distinct-commands/0").then(_=>{p.value=_.data.data}).catch(_=>{createNotification({type:"danger",message:_.response.data.message})})}function u(){l.value.selectedCommand=[],l.value.device=[],l.value.start_date="",l.value.end_date="",c("updateConfigFilter",l.value)}function y(_){if(_.start&&_.end){const a=`${_.start.year}-${String(_.start.month).padStart(2,"0")}-${String(_.start.day).padStart(2,"0")}`,d=`${_.end.year}-${String(_.end.month).padStart(2,"0")}-${String(_.end.day).padStart(2,"0")}`;l.value.start_date=a,l.value.end_date=d}else l.value.start_date="",l.value.end_date="";o.value=_}function g(){c("updateConfigFilter",l.value)}return{clearAll:u,commands:p,model:l,performFilter:g,setDates:y}}const qs={class:"grid gap-0.5"},Ds={key:0,class:"space-y-2"},Vs={key:0,class:"grid gap-3"},Fs={class:"grid items-center"},Rs={class:"grid items-center"},Bs={class:"flex flex-col items-start w-full space-x-2"},xe={__name:"ConfigCompareFilterCard",props:{isLoading:Boolean,comparePosition:String},emits:["updateConfigFilter"],setup(c,{emit:o}){const p=o,l=oe("formatters"),{clearAll:f,commands:u,model:y,performFilter:g,setDates:_}=Is(p);return(a,d)=>{const v=I("Skeleton"),k=I("Button");return i(),w("div",null,[t(e(Pe),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(ke),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>[r("div",qs,[t(e(yt),{class:"flex items-center gap-2 text-lg group"},{default:s(()=>[h(q(e(l).capitalize(c.comparePosition))+" Device",1)]),_:1})])]),_:1}),t(e(Se),{class:"p-4 pt-0 text-sm"},{default:s(()=>[c.isLoading?(i(),w("div",Ds,[t(v,{class:"w-1/2 h-4"}),t(v,{class:"w-full h-4"}),t(v,{class:"w-full h-4"}),t(v,{class:"w-full h-4"}),t(v,{class:"w-full h-4"}),t(v,{class:"w-full h-4"}),t(v,{class:"w-full h-4"}),t(v,{class:"w-full h-4"}),t(v,{class:"w-full h-4"})])):P("",!0),t(ee,{name:"fade"},{default:s(()=>[c.isLoading?P("",!0):(i(),w("div",Vs,[r("div",Fs,[t(Ft,{singleSelect:!0,modelValue:e(y).device,"onUpdate:modelValue":d[0]||(d[0]=m=>e(y).device=m),id:"selectedModelArray",class:"w-full"},null,8,["modelValue"]),d[5]||(d[5]=r("p",{class:"ml-1 text-xs text-muted-foreground"},[h(" Select a device for the left side (Required) "),r("span",{class:"text-red-400"},"*")],-1))]),r("div",Rs,[t(e(ie),{modelValue:e(y).selectedCommand,"onUpdate:modelValue":d[1]||(d[1]=m=>e(y).selectedCommand=m)},{default:s(()=>[t(e(de),{class:"w-full"},{default:s(()=>[t(e(ue),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(ce),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(fe),null,{default:s(()=>[(i(!0),w(B,null,N(e(u),m=>(i(),$(e(me),{value:m.command},{default:s(()=>[h(q(m.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),d[6]||(d[6]=r("p",{class:"ml-1 text-xs text-muted-foreground"},"Optionally select a command to filter the results",-1))]),r("div",Bs,[t(je,{class:"w-full",onDateChange:d[2]||(d[2]=m=>e(_)(m))}),d[7]||(d[7]=r("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(Me),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[c.isLoading?P("",!0):(i(),$(k,{key:0,variant:"outline",onClick:d[3]||(d[3]=m=>e(f)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>[...d[8]||(d[8]=[h(" Clear ",-1)])]),_:1})),c.isLoading?P("",!0):(i(),$(k,{key:1,variant:"primary",onClick:d[4]||(d[4]=m=>e(g)(c.comparePosition)),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>[...d[9]||(d[9]=[h(" Filter ",-1)])]),_:1}))]),_:1})]),_:1})])}}};function Ls(c,o){const{toastError:p}=se(),l=b(!1),f=b(1),u=b(1),y=b(parseInt(localStorage.getItem("perPage")||"5")),g=b([]);G(()=>{c.filterData.device.length>=1&&_()});function _(){if(l.value=!0,c.filterData.device.length===0){console.error("No device selected.");return}E.get("/api/configs/all-by-deviceid/"+c.filterData.device[0].id+"/1?filter[q]="+c.filterData.selectedCommand,{params:{perPage:y.value,page:f.value}}).then(a=>{g.value=a.data,u.value=a.data.last_page,l.value=!1}).catch(a=>{console.error("Error fetching commands:",a),p("Error","Failed to fetch commands."),l.value=!1})}return W([f,y],()=>{_()}),W(y,a=>{localStorage.setItem("perPage",a.toString())}),{currentPage:f,isLoading:l,lastPage:u,perPage:y,results:g}}const Ms={class:"w-full"},js={key:0,class:"min-h-[35dvh] flex items-center justify-center"},zs={class:"text-sm text-center"},Ns={class:"text-muted-foreground"},Os={key:1,class:"min-h-[35dvh] flex-1 w-full"},Us={class:"px-6"},Hs={key:0,class:"flex items-center mt-4"},Ts={class:"text-sm"},Ce={__name:"ConfigCompareFilterConfigResults",props:{filterData:Object,comparePosition:String},emits:["updateSelectedRows"],setup(c,{emit:o}){const p=oe("formatters"),l=o,f=c,{currentPage:u,isLoading:y,lastPage:g,perPage:_,results:a}=Ls(f),{selectedRows:d,toggleSingleSelectRow:v}=Dt(a);return W(d,k=>{l("updateSelectedRows",k)}),(k,m)=>{const x=I("Button"),V=I("Checkbox"),C=I("Icon");return i(),w("div",Ms,[c.filterData.device.length===0?(i(),w("div",js,[r("div",zs,[r("span",Ns,q(e(p).capitalize(c.comparePosition))+" selection. No results, yet!",1),m[4]||(m[4]=r("br",null,null,-1)),m[5]||(m[5]=r("span",{class:"text-muted-foreground"},"Add filters to select configurations for comparison",-1))])])):P("",!0),c.filterData.device.length>0?(i(),w("div",Os,[r("div",Us,[t(e(Be),null,{default:s(()=>[t(e(Ve),null,{default:s(()=>[t(e(te),null,{default:s(()=>[t(e(M),{class:"w-[2%]"}),t(e(M),{class:"w-[5%]"},{default:s(()=>[t(x,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:m[0]||(m[0]=S=>k.toggleSort("id"))},{default:s(()=>[...m[6]||(m[6]=[r("span",{class:"ml-2"},"ID",-1)])]),_:1})]),_:1}),t(e(M),{class:"w-[20%]"},{default:s(()=>[t(x,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:m[1]||(m[1]=S=>k.toggleSort("cred_name"))},{default:s(()=>[...m[7]||(m[7]=[r("span",{class:"ml-2"},"Name",-1)])]),_:1})]),_:1}),t(e(M),{class:"w-[30%]"},{default:s(()=>[...m[8]||(m[8]=[h("Command",-1)])]),_:1}),t(e(M),{class:"w-[30%]"},{default:s(()=>[...m[9]||(m[9]=[h("Filename",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...m[10]||(m[10]=[h("Created",-1)])]),_:1})]),_:1})]),_:1}),t(e(Fe),null,{default:s(()=>[e(y)?(i(),$(Re,{key:0})):e(y)?(i(),$(Vt,{key:2})):(i(!0),w(B,{key:1},N(e(a).data,S=>(i(),$(e(te),{onClick:F=>e(v)(S.id),class:"cursor-pointer hover:bg-rcgray-800",key:S.id},{default:s(()=>[t(e(j),{class:"text-start"},{default:s(()=>[t(V,{class:"cursor-pointer",id:"select-"+S.id,checked:!!e(d).includes(S.id),onClick:F=>e(v)(S.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(j),{class:"text-start"},{default:s(()=>[h(q(S.id),1)]),_:2},1024),t(e(j),{class:"text-start"}),t(e(j),{class:"text-start"},{default:s(()=>[h(q(S.command),1)]),_:2},1024),t(e(j),{class:"text-start"},{default:s(()=>[h(q(S.config_filename),1)]),_:2},1024),t(e(j),{class:"text-start"},{default:s(()=>[h(q(e(p).formatTime(S.created_at)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(Le,{currentPage:e(u),lastPage:e(g),perPage:e(_),"onUpdate:currentPage":m[2]||(m[2]=S=>u.value=S),"onUpdate:perPage":m[3]||(m[3]=S=>_.value=S)},null,8,["currentPage","lastPage","perPage"]),e(d).length>0?(i(),w("div",Hs,[t(e(xt),{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t(C,{icon:"mdi:check-circle",class:"mr-2 text-green-500"}),r("span",Ts,"Config ID "+q(e(d))+" selected for comparison",1)]),_:1})])):P("",!0)])])):P("",!0),m[11]||(m[11]=r("div",{class:"w-full my-4 border-t"},null,-1))])}}},Zs={class:"flex flex-col"},As={class:"flex items-center p-2"},Gs={class:"flex items-center gap-2 ml-auto"},Es={__name:"CompareDiffEditorComponent",props:{leftSelectedId:Number,rightSelectedId:Number,configResultsLeft:Object,configResultsRight:Object},setup(c){const o=c,p=b([]),{checkDarkModeIsSet:l,checkLineNumbersIsSet:f,copyItem:u,download:y,initDiffEditor:g,toggleEditorDarkMode:_,toggleEditorLineNumbers:a}=St(Pt);G(()=>{d(),v()});function d(){l()&&p.value.push("dark"),f()&&p.value.push("lineNumbers")}function v(){var k=ve.createModel(o.configResultsLeft.filecontent,"text/plain"),m=ve.createModel(o.configResultsRight.filecontent,"text/plain");let x=g("code-editor__code-pre","rconfig");x&&x.setModel({original:k,modified:m})}return(k,m)=>{const x=I("Icon"),V=I("Button"),C=I("Separator");return i(),w(B,null,[r("div",Zs,[r("div",As,[m[4]||(m[4]=r("div",{class:"flex items-center gap-2"},null,-1)),r("div",null,[t(V,{variant:"ghost",onClick:e(u),title:"copyItem"},{default:s(()=>[t(x,{icon:"mdi:content-copy"})]),_:1},8,["onClick"]),t(V,{variant:"ghost",class:"ml-1",onClick:m[0]||(m[0]=S=>e(y)(k.model.fileName)),title:"download"},{default:s(()=>[t(x,{icon:"mingcute:download-fill"})]),_:1})]),t(C,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),r("div",Gs,[t(e(It),{modelValue:p.value,"onUpdate:modelValue":m[3]||(m[3]=S=>p.value=S),type:"multiple"},{default:s(()=>[t(e(_e),{value:"dark",title:"Toggle bold",onClick:m[1]||(m[1]=S=>e(_)())},{default:s(()=>[t(x,{icon:"mdi:theme-light-dark",class:"w-4 h-4"})]),_:1}),t(e(_e),{value:"lineNumbers",title:"Line Numbers",onClick:m[2]||(m[2]=S=>e(a)())},{default:s(()=>[t(x,{icon:"mingcute:numbers-09-sort-ascending-line",class:"w-4 h-4"})]),_:1})]),_:1},8,["modelValue"])]),t(C,{orientation:"vertical",class:"relative w-px h-6 mx-4 shrink-0 bg-border"}),m[5]||(m[5]=r("span",null,"CONFIG",-1))]),t(C,{class:"relative w-full h-px shrink-0 bg-border"})]),m[6]||(m[6]=r("div",{class:"code-editor__code-pre",id:"code-editor__code-pre",style:{height:"calc(80vh)"}},null,-1))],64)}}};function Ks(c){const o=b(!0),p=b([]),l=b([]),f=b(parseInt(c.leftSelectedId[0],10)),u=b(parseInt(c.rightSelectedId[0],10)),{toastError:y}=se();G(()=>{o.value=!0,g(f.value),_(u.value),setTimeout(()=>{o.value=!1},Math.floor(Math.random()*1501)+500)});function g(d){E.get("/api/configs/"+d).then(async v=>{p.value=v.data,p.value.filecontent=await a(d)}).catch(v=>{console.error("Error fetching commands:",v),y("Error","Failed to fetch commands.")})}function _(d){E.get("/api/configs/"+d).then(async v=>{l.value=v.data,l.value.filecontent=await a(d)}).catch(v=>{console.error("Error fetching commands:",v),y("Error","Failed to fetch commands.")})}function a(d){return E.get("/api/configs/view-config/"+d).then(v=>v.data.data.content).catch(v=>{console.error("Error fetching commands:",v),y("Error","Failed to fetch commands.")})}return{isLoadingComponent:o,configResultsLeft:p,configResultsRight:l,getConfigLeft:g,getConfigRight:_,getConfigFileContent:a}}const Ws={key:0,class:"flex items-center justify-center h-full mt-48"},Js={__name:"ConfigCompareResults",props:{leftSelectedId:Array,rightSelectedId:Array},setup(c){const o=c,{isLoadingComponent:p,configResultsLeft:l,configResultsRight:f}=Ks(o);return(u,y)=>(i(),w(B,null,[e(p)?(i(),w("div",Ws,[t(be,{text:"Running comparison"})])):P("",!0),e(p)?P("",!0):(i(),$(Es,{key:1,configResultsRight:e(f),configResultsLeft:e(l),leftSelectedId:c.leftSelectedId,rightSelectedId:c.rightSelectedId},null,8,["configResultsRight","configResultsLeft","leftSelectedId","rightSelectedId"]))],64))}};function Qs(){const c=b({selectedCommand:[],device:[],start_date:"",end_date:""}),o=b({selectedCommand:[],device:[],start_date:"",end_date:""}),p=b(100),l=b(200),f=b([]),u=b(!1),y=b(!1),g=b(null),_=b(300),a=b(400),d=b([]),v=ae(),{toastSuccess:k,toastError:m}=se(),x=(D,L)=>{D==="left"?c.value=L:D==="right"&&(o.value=L),l.value+=1,a.value+=1},V=()=>{if(f.length===0||d.length===0){m("Please select configurations for comparison");return}k("Comparing configurations...","",2e3),u.value=!0},C=()=>{v.go(-1)},S=()=>{f.value=[],c.value={selectedCommand:[],device:[],start_date:"",end_date:""},d.value=[],o.value={selectedCommand:[],device:[],start_date:"",end_date:""},u.value=!1,l.value+=1,p.value+=1,a.value+=1,_.value+=1};function F(){g!=null&&g.value.isCollapsed?g==null||g.value.expand():g==null||g.value.collapse(),y.value=!y.value}function n(){g!=null&&g.value.isCollapsed?g==null||g.value.expand():g==null||g.value.collapse(),y.value=!y.value}return{close:C,closeNav:F,leftConfigData:c,leftConfigFilterKey:p,leftConfigResultsKey:l,leftSelectedId:f,loadComparison:u,navClosed:y,openNav:n,panelElement3:g,reset:S,rightConfigData:o,rightConfigFilterKey:_,rightConfigResultsKey:a,rightSelectedId:d,sendConfigCompare:V,updateConfigFilterData:x}}const Ys={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},Xs={class:"flex justify-between w-full p-2 border-b"},ea={class:"flex items-center justify-end"},ta={key:0},sa={class:"text-sm"},aa={class:"flex items-center justify-between p-2 mb-2 border-b"},la={class:"relative flex flex-col items-center"},na={class:"min-h-[35dvh] flex-1 w-full"},oa={class:"min-h-[35dvh] flex-1 w-full"},ra={class:"h-[80dvh]"},ia={class:"flex items-center justify-between p-2 mb-2 border-b"},da={key:0,class:"relative flex flex-col items-center"},ua={key:1},ca={__name:"ConfigCompare",setup(c){const{close:o,closeNav:p,leftConfigData:l,leftConfigFilterKey:f,leftConfigResultsKey:u,leftSelectedId:y,loadComparison:g,navClosed:_,reset:a,openNav:d,panelElement3:v,rightConfigData:k,rightConfigFilterKey:m,rightConfigResultsKey:x,rightSelectedId:V,sendConfigCompare:C,updateConfigFilterData:S}=Qs();return(F,n)=>{const D=I("Icon"),L=I("Button"),U=I("Badge"),R=I("ResizablePanel"),le=I("ResizableHandle"),ze=I("ResizablePanelGroup");return i(),w("div",Ys,[r("div",Xs,[t(L,{onClick:n[0]||(n[0]=z=>e(o)()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(D,{icon:"mingcute:close-line",class:"hover:animate-pulse"})]),_:1}),n[11]||(n[11]=r("h2",{class:"items-center content-center text-muted-foreground"},"Config Compare",-1)),r("div",ea,[e(y).length>0&&e(V).length>0?(i(),w("div",ta,[t(U,{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t(D,{icon:"mdi:check-circle",class:"mr-2 text-green-500"}),r("span",sa,"Compare Config ID "+q(e(y))+" with Config ID "+q(e(V)),1)]),_:1})])):P("",!0),e(y)&&e(V)?(i(),$(L,{key:1,onClick:n[1]||(n[1]=z=>e(C)(e(y),e(V))),class:"h-8 ml-2 text-white bg-blue-600 hover:bg-blue-700"},{default:s(()=>[...n[9]||(n[9]=[h(" Compare ",-1)])]),_:1})):P("",!0),e(y)&&e(V)?(i(),$(L,{key:2,variant:"outline",onClick:n[2]||(n[2]=z=>e(a)()),class:"h-8 ml-2 text-white"},{default:s(()=>[...n[10]||(n[10]=[h(" Reset ",-1)])]),_:1})):P("",!0)])]),t(ze,{direction:"horizontal",class:""},{default:s(()=>[t(R,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement3",ref:v,class:"min-h-[86vh]"},{default:s(()=>[r("div",aa,[n[12]||(n[12]=r("h1",{class:"ml-4 text-sm font-semibold"},"Search Options",-1)),t(Ie,{class:"mr-2",onClose:n[3]||(n[3]=z=>e(p)())})]),r("div",la,[r("div",na,[(i(),$(xe,{key:e(f),onUpdateConfigFilter:n[4]||(n[4]=z=>e(S)("left",z)),comparePosition:"left"}))]),n[13]||(n[13]=r("div",{class:"w-full my-4 border-t"},null,-1)),r("div",oa,[(i(),$(xe,{key:e(m),onUpdateConfigFilter:n[5]||(n[5]=z=>e(S)("right",z)),comparePosition:"right"}))]),n[14]||(n[14]=r("div",{class:"w-full my-4 border-t"},null,-1))])]),_:1},512),t(le,{"with-handle":""}),t(R,{class:"min-h-[86vh]"},{default:s(()=>[t(e(qe),{class:"border border-none rounded-md"},{default:s(()=>[r("div",ra,[r("div",ia,[t(De,{class:"ml-2",onOpenNav:n[6]||(n[6]=z=>e(d)()),navPanelBtnState:e(_)},null,8,["navPanelBtnState"]),r("h1",{class:K(["w-full text-sm font-semibold",e(_)===!1?"ml-2 ":""])}," Filter Results ",2)]),e(g)?P("",!0):(i(),w("div",da,[(i(),$(Ce,{key:e(u),filterData:e(l),onUpdateSelectedRows:n[7]||(n[7]=z=>y.value=z),comparePosition:"left"},null,8,["filterData"])),(i(),$(Ce,{key:e(x),filterData:e(k),onUpdateSelectedRows:n[8]||(n[8]=z=>V.value=z),comparePosition:"right"},null,8,["filterData"]))])),e(g)?(i(),w("div",ua,[t(Js,{leftSelectedId:e(y),rightSelectedId:e(V)},null,8,["leftSelectedId","rightSelectedId"])])):P("",!0)])]),_:1})]),_:1})]),_:1})])}}};function fa(){const c=Ct(),o=b(localStorage.getItem("inventorySelectedView")||"devices"),p=ht(),l=ae(),f=b(parseInt(p.params.id)||0),u=b(p.query||null),y=b({}),g=[{id:"configs",label:"Configurations",icon:"ConfigToolsIcon",isFavorite:b(!1),route:"/configs"},{id:"configsearch",label:"Config Search",icon:"ConfigSearchIcon",isFavorite:b(!1),route:"/config-search"},{id:"configcompare",label:"Config Compare",icon:"ConfigCompareIcon",isFavorite:b(!1),route:"/config-compare"}];G(()=>{p.params.view?_(p.params.view):p.name==="configs"?_(p.name):p.path.includes("inventory")||_(p.name);const v=p.query;Object.keys(v).length>0&&l.push({name:o.value,query:v}),g.forEach(k=>{k.isFavorite.value=c.isFavorite(k.id)})});function _(v){d(v),localStorage.setItem("inventorySelectedView",v),o.value=v,l.push({name:v})}function a(v){const k=g.find(m=>m.id===v);k&&(k.isFavorite.value=!k.isFavorite.value,c.toggleFavorite(k))}function d(v){const k=document.querySelector(`[data-nav='${v}']`);bt(()=>{if(k){const{offsetLeft:m,offsetWidth:x}=k;y.value={left:`${m}px`,width:`${x}px`}}})}return{bottomBorderStyle:y,configsId:f,statusIdParam:u,changeView:_,currentView:o,favoritesStore:c,route:p,router:l,toggleFavorite:a,viewItems:g}}const ma={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},pa={class:"flex flex-row items-center justify-between h-12 gap-3 px-5 border-t border-b"},ga={class:"relative"},va=["onClick"],Sa={__name:"Main",setup(c){const{configsId:o,statusIdParam:p,changeView:l,currentView:f,bottomBorderStyle:u,toggleFavorite:y,viewItems:g}=fa();return(_,a)=>{const d=I("ConfigToolsIcon"),v=I("Button"),k=I("ConfigSearchIcon"),m=I("ConfigCompareIcon"),x=I("StarUnselected"),V=I("StarSelected");return i(),w("main",ma,[r("div",pa,[r("div",ga,[t(v,{class:"border",onClick:a[0]||(a[0]=C=>e(l)("configs")),"data-nav":"configs",variant:"ghost"},{default:s(()=>[t(d,{class:"mr-2"}),a[3]||(a[3]=h(" Configurations ",-1))]),_:1}),t(v,{class:"ml-2 border",onClick:a[1]||(a[1]=C=>e(l)("configsearch")),"data-nav":"configsearch",variant:"ghost"},{default:s(()=>[t(k,{class:"mr-2"}),a[4]||(a[4]=h(" Search ",-1))]),_:1}),t(v,{class:"ml-2 border",onClick:a[2]||(a[2]=C=>e(l)("configcompare")),"data-nav":"configcompare",variant:"ghost"},{default:s(()=>[t(m,{class:"mr-2"}),a[5]||(a[5]=h(" Compare ",-1))]),_:1}),e(f)?(i(),w("div",{key:0,class:"absolute -bottom-1.5 h-0.5 bg-blue-500",style:$t(e(u))},null,4)):P("",!0)]),t(e(J),null,{default:s(()=>[(i(!0),w(B,null,N(e(g),C=>(i(),$(e(Q),{key:C.id},{default:s(()=>[e(f)===C.id?(i(),$(e(Y),{key:0,"as-child":""},{default:s(()=>[r("div",{onClick:wt(S=>e(y)(C.id),["stop","prevent"])},[C.isFavorite.value?P("",!0):(i(),$(x,{key:0})),C.isFavorite.value?(i(),$(V,{key:1})):P("",!0)],8,va)]),_:2},1024)):P("",!0),t(e(X),null,{default:s(()=>[r("p",null,q(C.isFavorite.value?"Remove from favorites":"Add "+e(f)+" to favorites"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),r("div",null,[e(f)==="configs"?(i(),$(qt,{key:0,configsId:e(o),statusId:e(p).statusId},null,8,["configsId","statusId"])):P("",!0),t(ee,{name:"fade"},{default:s(()=>[e(f)==="configsearch"?(i(),$(Ps,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:s(()=>[...a[6]||(a[6]=[r("h1",{class:"text-2xl text-muted-foreground"},"Config Search",-1)])]),_:1})):P("",!0)]),_:1}),t(ee,{name:"fade"},{default:s(()=>[e(f)==="configcompare"?(i(),$(ca,{key:0,class:"flex flex-col items-center justify-center h-full"},{default:s(()=>[...a[7]||(a[7]=[r("h1",{class:"text-2xl text-muted-foreground"},"Config Compare",-1)])]),_:1})):P("",!0)]),_:1})])])}}};export{Sa as default};
