import{_ as $,f as D,J as he,m as le,o as c,c as h,a as e,B as J,p as U,h as y,i as oe,e as H,g as q,r as T,t as E,b as j,F as G,k as Z,K as ve,w as L,j as R,n as P,L as N,y as B,v as W,M as ee,d as I,N as ge,q as F,l as x,O as ye,u as we,G as be}from"./app-6622b7bb.js";import{D as ke}from"./DataTable-deef4adb.js";import{a as Te,b as Oe}from"./DeleteModal-5b0a1f8e.js";import{L as K}from"./LoadingSpinner-ac941554.js";import{P as xe}from"./PageHeader-e6711cd0.js";import{S as ze}from"./SideDrawer-bf323a81.js";import{a as ce,u as Se}from"./ViewFunctions-2a186a7b.js";import{M as ae,u as se}from"./MultiSelect-b0d5ff86.js";/* empty css            */import"./DataTableToolbar-aaed2697.js";import"./DataTableSpinner-5345de96.js";const Ce={props:{},setup(i,{emit:o}){const a=D(null),t=he();le(a,v=>m());function m(){o("closeModal")}function g(){o("action1"),m()}function r(){o("action3")}return{slots:t,close:m,action1:g,action3:r,clickOutsidetargetConfirmModal:a}}},De={class:"pf-c-backdrop"},Me={class:"pf-l-bullseye"},Ee={class:"pf-c-modal-box pf-m-sm",ref:"clickOutsidetargetConfirmModal"},Pe=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),$e=[Pe],Xe={class:"pf-c-modal-box__header"},je={class:"pf-c-modal-box__title",id:"modal-md-title"},Ae={class:"pf-c-modal-box__body"},Le={id:"modal-md-description"},Re={class:"pf-c-modal-box__footer"};function Ue(i,o,a,t,m,g){return c(),h("div",De,[e("div",Me,[e("div",Ee,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Close dialog",onClick:o[0]||(o[0]=(...r)=>t.close&&t.close(...r))},$e),e("header",Xe,[e("h1",je,[J(i.$slots,"title")])]),e("div",Ae,[e("p",Le,[J(i.$slots,"question")])]),e("footer",Re,[e("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:o[1]||(o[1]=U((...r)=>t.action1&&t.action1(...r),["prevent"]))},[J(i.$slots,"action1")]),t.slots.action2?(c(),h("button",{key:0,class:"pf-c-button pf-m-link",type:"button",onClick:o[2]||(o[2]=U((...r)=>t.close&&t.close(...r),["prevent"]))},[J(i.$slots,"action2")])):y("",!0),t.slots.action3?(c(),h("button",{key:1,class:"pf-c-button pf-m-link",type:"button",onClick:o[3]||(o[3]=U((...r)=>t.action3&&t.action3(...r),["prevent"]))},[J(i.$slots,"action3")])):y("",!0)])],512)])])}const Fe=$(Ce,[["render",Ue]]),Ie={props:{task_id:{type:Number,default:0}},components:{LoadingSpinner:K,DataTablePaginate:Te},emits:["close","saveColumns"],setup(i,{emit:o}){const a=D(null),t=oe("create-notification"),m=H({}),g=D(!1),r=D(1),v=oe("formatTime");le(a,b=>O()),q(()=>{f()});function f(){g.value=!0,axios.get("/api/tasks/monitored/"+i.task_id+"/?page="+r.value).then(b=>{Object.assign(m,b),g.value=!1}).catch(b=>{t({type:"danger",title:"Error",message:b.response.data.message}),g.value=!1})}function l(b){console.log(b),r.value=b.page,console.log(r),f()}const O=()=>{o("close")};return{clickOutsidetargetTaskHist:a,close:O,formatTime:v,isLoading:g,pageChanged:l,task_history_items:m}}},Ve={class:"pf-c-backdrop"},We={class:"pf-l-bullseye"},He={class:"pf-c-modal-box pf-m-lg",ref:"clickOutsidetargetTaskHist"},Ge=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),Ne=[Ge],Be={class:"pf-c-modal-box__header"},qe={class:"pf-c-modal-box__title",id:"modal-title"},Ye=e("div",{class:"pf-c-modal-box__description"},[e("div",{class:"pf-c-content"},[e("p",null,"View all runs for this task in the table below")])],-1),Je={class:"pf-c-modal-box__body",id:"modal-description"},Ze={key:0},Ke={key:0},Qe={class:"pf-c-empty-state"},et={class:"pf-c-empty-state__content"},tt=e("i",{class:"fas fa-cubes pf-c-empty-state__icon","aria-hidden":"true"},null,-1),ot=e("h1",{class:"pf-c-title pf-m-lg"},"Task history empty",-1),nt=e("div",{class:"pf-c-empty-state__body"},"Task history not available, you may need to run the task to have some history!",-1),at={key:1},st={class:"pf-c-table pf-m-compact pf-m-grid-md",role:"grid"},it=e("thead",null,[e("tr",{role:"row"},[e("th",{role:"columnheader",scope:"col"},"Task ID"),e("th",{role:"columnheader",scope:"col"},"Monitored task id"),e("th",{role:"columnheader",scope:"col"},"Type"),e("th",{role:"columnheader",scope:"col"},"Command"),e("th",{role:"columnheader",scope:"col"},"Time"),e("td"),e("td")])],-1),rt={role:"rowgroup"},lt={role:"cell","data-label":"Position"},ct={role:"cell","data-label":"Position"},dt={role:"cell","data-label":"Position"},pt={role:"cell","data-label":"Position"},_t={role:"cell","data-label":"Position"},ft={class:"pf-c-modal-box__footer"};function ut(i,o,a,t,m,g){const r=T("loading-spinner"),v=T("data-table-paginate");return c(),h("div",Ve,[e("div",We,[e("div",He,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Close dialog",onClick:o[0]||(o[0]=(...f)=>t.close&&t.close(...f))},Ne),e("header",Be,[e("h1",qe,"Task history for ID: "+E(a.task_id),1),Ye]),e("div",Je,[j(r,{showSpinner:t.isLoading},null,8,["showSpinner"]),!t.isLoading&&Object.keys(t.task_history_items).length>0?(c(),h("div",Ze,[t.task_history_items.data.total===0?(c(),h("div",Ke,[e("div",Qe,[e("div",et,[tt,ot,nt,e("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:o[1]||(o[1]=(...f)=>t.close&&t.close(...f))},"Close")])])])):y("",!0),t.task_history_items.data.total>0?(c(),h("div",at,[e("table",st,[it,e("tbody",rt,[(c(!0),h(G,null,Z(t.task_history_items.data.data,f=>(c(),h("tr",{role:"row",key:f.id},[e("td",lt,E(f.task_id),1),e("td",ct,E(f.monitored_scheduled_task_id),1),e("td",dt,E(f.type),1),e("td",pt,E(f.meta),1),e("td",_t,E(t.formatTime(f.created_at)),1)]))),128))])]),j(v,{from:t.task_history_items.data.from,to:t.task_history_items.data.to,total:t.task_history_items.data.total,current_page:t.task_history_items.data.current_page,last_page:t.task_history_items.data.last_page,onPagechanged:o[2]||(o[2]=f=>t.pageChanged(f))},null,8,["from","to","total","current_page","last_page"])])):y("",!0)])):y("",!0)]),e("footer",ft,[e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:o[3]||(o[3]=(...f)=>t.close&&t.close(...f))},"Close")])],512)])])}const mt=$(Ie,[["render",ut]]),ht={props:{},setup(i,{emit:o}){function a(){o("closeModal")}function t(){o("action1"),a()}return{close:a,action1:t}}},vt={class:"pf-c-backdrop"},gt={class:"pf-l-bullseye"},yt={class:"pf-c-modal-box",style:{"--pf-c-modal-box--Width":"80rem"}};function wt(i,o,a,t,m,g){return c(),h("div",vt,[e("div",gt,[e("div",yt,[J(i.$slots,"wizard")])])])}const bt=$(ht,[["render",wt]]);var de={exports:{}};(function(i,o){(function(t,m){i.exports=m()})(globalThis,()=>(()=>{var a={794:(r,v,f)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CronParser=void 0;var l=f(586),O=function(){function b(s,n,_){n===void 0&&(n=!0),_===void 0&&(_=!1),this.expression=s,this.dayOfWeekStartIndexZero=n,this.monthStartIndexZero=_}return b.prototype.parse=function(){var s=this.extractParts(this.expression);return this.normalize(s),this.validate(s),s},b.prototype.extractParts=function(s){if(!this.expression)throw new Error("Expression is empty");var n=s.trim().split(/[ ]+/);if(n.length<5)throw new Error("Expression has only ".concat(n.length," part").concat(n.length==1?"":"s",". At least 5 parts are required."));if(n.length==5)n.unshift(""),n.push("");else if(n.length==6){var _=/\d{4}$/.test(n[5])||n[4]=="?"||n[2]=="?";_?n.unshift(""):n.push("")}else if(n.length>7)throw new Error("Expression has ".concat(n.length," parts; too many!"));return n},b.prototype.normalize=function(s){var n=this;if(s[3]=s[3].replace("?","*"),s[5]=s[5].replace("?","*"),s[2]=s[2].replace("?","*"),s[0].indexOf("0/")==0&&(s[0]=s[0].replace("0/","*/")),s[1].indexOf("0/")==0&&(s[1]=s[1].replace("0/","*/")),s[2].indexOf("0/")==0&&(s[2]=s[2].replace("0/","*/")),s[3].indexOf("1/")==0&&(s[3]=s[3].replace("1/","*/")),s[4].indexOf("1/")==0&&(s[4]=s[4].replace("1/","*/")),s[6].indexOf("1/")==0&&(s[6]=s[6].replace("1/","*/")),s[5]=s[5].replace(/(^\d)|([^#/\s]\d)/g,function(C){var M=C.replace(/\D/,""),z=M;return n.dayOfWeekStartIndexZero?M=="7"&&(z="0"):z=(parseInt(M)-1).toString(),C.replace(M,z)}),s[5]=="L"&&(s[5]="6"),s[3]=="?"&&(s[3]="*"),s[3].indexOf("W")>-1&&(s[3].indexOf(",")>-1||s[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var _={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var d in _)s[5]=s[5].replace(new RegExp(d,"gi"),_[d].toString());s[4]=s[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(C){var M=C.replace(/\D/,""),z=M;return n.monthStartIndexZero&&(z=(parseInt(M)+1).toString()),C.replace(M,z)});var p={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var w in p)s[4]=s[4].replace(new RegExp(w,"gi"),p[w].toString());s[0]=="0"&&(s[0]=""),!/\*|\-|\,|\//.test(s[2])&&(/\*|\//.test(s[1])||/\*|\//.test(s[0]))&&(s[2]+="-".concat(s[2]));for(var k=0;k<s.length;k++)if(s[k].indexOf(",")!=-1&&(s[k]=s[k].split(",").filter(function(C){return C!==""}).join(",")||"*"),s[k]=="*/1"&&(s[k]="*"),s[k].indexOf("/")>-1&&!/^\*|\-|\,/.test(s[k])){var u=null;switch(k){case 4:u="12";break;case 5:u="6";break;case 6:u="9999";break;default:u=null;break}if(u!==null){var S=s[k].split("/");s[k]="".concat(S[0],"-").concat(u,"/").concat(S[1])}}},b.prototype.validate=function(s){this.assertNoInvalidCharacters("DOW",s[5]),this.assertNoInvalidCharacters("DOM",s[3]),this.validateRange(s)},b.prototype.validateRange=function(s){l.default.secondRange(s[0]),l.default.minuteRange(s[1]),l.default.hourRange(s[2]),l.default.dayOfMonthRange(s[3]),l.default.monthRange(s[4],this.monthStartIndexZero),l.default.dayOfWeekRange(s[5],this.dayOfWeekStartIndexZero)},b.prototype.assertNoInvalidCharacters=function(s,n){var _=n.match(/[A-KM-VX-Z]+/gi);if(_&&_.length)throw new Error("".concat(s," part contains invalid values: '").concat(_.toString(),"'"))},b}();v.CronParser=O},728:(r,v,f)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ExpressionDescriptor=void 0;var l=f(910),O=f(794),b=function(){function s(n,_){if(this.expression=n,this.options=_,this.expressionParts=new Array(5),!this.options.locale&&s.defaultLocale&&(this.options.locale=s.defaultLocale),!s.locales[this.options.locale]){var d=Object.keys(s.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(d,"'.")),this.options.locale=d}this.i18n=s.locales[this.options.locale],_.use24HourTimeFormat===void 0&&(_.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return s.toString=function(n,_){var d=_===void 0?{}:_,p=d.throwExceptionOnParseError,w=p===void 0?!0:p,k=d.verbose,u=k===void 0?!1:k,S=d.dayOfWeekStartIndexZero,C=S===void 0?!0:S,M=d.monthStartIndexZero,z=M===void 0?!1:M,A=d.use24HourTimeFormat,X=d.locale,V=X===void 0?null:X,Y=d.tzOffset,te=Y===void 0?0:Y,Q={throwExceptionOnParseError:w,verbose:u,dayOfWeekStartIndexZero:C,monthStartIndexZero:z,use24HourTimeFormat:A,locale:V,tzOffset:te},me=new s(n,Q);return me.getFullDescription()},s.initialize=function(n,_){_===void 0&&(_="en"),s.specialCharacters=["/","-",",","*"],s.defaultLocale=_,n.load(s.locales)},s.prototype.getFullDescription=function(){var n="";try{var _=new O.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=_.parse();var d=this.getTimeOfDayDescription(),p=this.getDayOfMonthDescription(),w=this.getMonthDescription(),k=this.getDayOfWeekDescription(),u=this.getYearDescription();n+=d+p+k+w+u,n=this.transformVerbosity(n,!!this.options.verbose),n=n.charAt(0).toLocaleUpperCase()+n.substr(1)}catch(S){if(!this.options.throwExceptionOnParseError)n=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(S)}return n},s.prototype.getTimeOfDayDescription=function(){var n=this.expressionParts[0],_=this.expressionParts[1],d=this.expressionParts[2],p="";if(!l.StringUtilities.containsAny(_,s.specialCharacters)&&!l.StringUtilities.containsAny(d,s.specialCharacters)&&!l.StringUtilities.containsAny(n,s.specialCharacters))p+=this.i18n.atSpace()+this.formatTime(d,_,n);else if(!n&&_.indexOf("-")>-1&&!(_.indexOf(",")>-1)&&!(_.indexOf("/")>-1)&&!l.StringUtilities.containsAny(d,s.specialCharacters)){var w=_.split("-");p+=l.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(d,w[0],""),this.formatTime(d,w[1],""))}else if(!n&&d.indexOf(",")>-1&&d.indexOf("-")==-1&&d.indexOf("/")==-1&&!l.StringUtilities.containsAny(_,s.specialCharacters)){var k=d.split(",");p+=this.i18n.at();for(var u=0;u<k.length;u++)p+=" ",p+=this.formatTime(k[u],_,""),u<k.length-2&&(p+=","),u==k.length-2&&(p+=this.i18n.spaceAnd())}else{var S=this.getSecondsDescription(),C=this.getMinutesDescription(),M=this.getHoursDescription();if(p+=S,p&&C&&(p+=", "),p+=C,C===M)return p;p&&M&&(p+=", "),p+=M}return p},s.prototype.getSecondsDescription=function(){var n=this,_=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(d){return d},function(d){return l.StringUtilities.format(n.i18n.everyX0Seconds(d),d)},function(d){return n.i18n.secondsX0ThroughX1PastTheMinute()},function(d){return d=="0"?"":parseInt(d)<20?n.i18n.atX0SecondsPastTheMinute(d):n.i18n.atX0SecondsPastTheMinuteGt20()||n.i18n.atX0SecondsPastTheMinute(d)});return _},s.prototype.getMinutesDescription=function(){var n=this,_=this.expressionParts[0],d=this.expressionParts[2],p=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(w){return w},function(w){return l.StringUtilities.format(n.i18n.everyX0Minutes(w),w)},function(w){return n.i18n.minutesX0ThroughX1PastTheHour()},function(w){try{return w=="0"&&d.indexOf("/")==-1&&_==""?n.i18n.everyHour():parseInt(w)<20?n.i18n.atX0MinutesPastTheHour(w):n.i18n.atX0MinutesPastTheHourGt20()||n.i18n.atX0MinutesPastTheHour(w)}catch{return n.i18n.atX0MinutesPastTheHour(w)}});return p},s.prototype.getHoursDescription=function(){var n=this,_=this.expressionParts[2],d=this.getSegmentDescription(_,this.i18n.everyHour(),function(k){return n.formatTime(k,"0","")},function(k){return l.StringUtilities.format(n.i18n.everyX0Hours(k),k)},function(k){return n.i18n.betweenX0AndX1()},function(k){return n.i18n.atX0()});if(d&&_.includes("-")&&this.expressionParts[1]!="0"){var p=Array.from(d.matchAll(/:00/g));if(p.length>1){var w=p[p.length-1].index;d=d.substring(0,w)+":59"+d.substring(w+3)}}return d},s.prototype.getDayOfWeekDescription=function(){var n=this,_=this.i18n.daysOfTheWeek(),d=null;return this.expressionParts[5]=="*"?d="":d=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(p,w){var k=p;p.indexOf("#")>-1?k=p.substring(0,p.indexOf("#")):p.indexOf("L")>-1&&(k=k.replace("L",""));var u=n.i18n.daysOfTheWeekInCase?n.i18n.daysOfTheWeekInCase(w)[parseInt(k)]:_[parseInt(k)];if(p.indexOf("#")>-1){var S=null,C=p.substring(p.indexOf("#")+1),M=p.substring(0,p.indexOf("#"));switch(C){case"1":S=n.i18n.first(M);break;case"2":S=n.i18n.second(M);break;case"3":S=n.i18n.third(M);break;case"4":S=n.i18n.fourth(M);break;case"5":S=n.i18n.fifth(M);break}u=S+" "+u}return u},function(p){return parseInt(p)==1?"":l.StringUtilities.format(n.i18n.commaEveryX0DaysOfTheWeek(p),p)},function(p){var w=p.substring(0,p.indexOf("-")),k=n.expressionParts[3]!="*";return k?n.i18n.commaAndX0ThroughX1(w):n.i18n.commaX0ThroughX1(w)},function(p){var w=null;if(p.indexOf("#")>-1){var k=p.substring(p.indexOf("#")+1);w=n.i18n.commaOnThe(k).trim()+n.i18n.spaceX0OfTheMonth()}else if(p.indexOf("L")>-1)w=n.i18n.commaOnTheLastX0OfTheMonth(p.replace("L",""));else{var u=n.expressionParts[3]!="*";w=u?n.i18n.commaAndOnX0():n.i18n.commaOnlyOnX0(p)}return w}),d},s.prototype.getMonthDescription=function(){var n=this,_=this.i18n.monthsOfTheYear(),d=this.getSegmentDescription(this.expressionParts[4],"",function(p,w){return w&&n.i18n.monthsOfTheYearInCase?n.i18n.monthsOfTheYearInCase(w)[parseInt(p)-1]:_[parseInt(p)-1]},function(p){return parseInt(p)==1?"":l.StringUtilities.format(n.i18n.commaEveryX0Months(p),p)},function(p){return n.i18n.commaMonthX0ThroughMonthX1()||n.i18n.commaX0ThroughX1()},function(p){return n.i18n.commaOnlyInMonthX0?n.i18n.commaOnlyInMonthX0():n.i18n.commaOnlyInX0()});return d},s.prototype.getDayOfMonthDescription=function(){var n=this,_=null,d=this.expressionParts[3];switch(d){case"L":_=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":_=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var p=d.match(/(\d{1,2}W)|(W\d{1,2})/);if(p){var w=parseInt(p[0].replace("W","")),k=w==1?this.i18n.firstWeekday():l.StringUtilities.format(this.i18n.weekdayNearestDayX0(),w.toString());_=l.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),k);break}else{var u=d.match(/L-(\d{1,2})/);if(u){var S=u[1];_=l.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(S),S);break}else{if(d=="*"&&this.expressionParts[5]!="*")return"";_=this.getSegmentDescription(d,this.i18n.commaEveryDay(),function(C){return C=="L"?n.i18n.lastDay():n.i18n.dayX0?l.StringUtilities.format(n.i18n.dayX0(),C):C},function(C){return C=="1"?n.i18n.commaEveryDay():n.i18n.commaEveryX0Days(C)},function(C){return n.i18n.commaBetweenDayX0AndX1OfTheMonth(C)},function(C){return n.i18n.commaOnDayX0OfTheMonth(C)})}break}}return _},s.prototype.getYearDescription=function(){var n=this,_=this.getSegmentDescription(this.expressionParts[6],"",function(d){return/^\d+$/.test(d)?new Date(parseInt(d),1).getFullYear().toString():d},function(d){return l.StringUtilities.format(n.i18n.commaEveryX0Years(d),d)},function(d){return n.i18n.commaYearX0ThroughYearX1()||n.i18n.commaX0ThroughX1()},function(d){return n.i18n.commaOnlyInYearX0?n.i18n.commaOnlyInYearX0():n.i18n.commaOnlyInX0()});return _},s.prototype.getSegmentDescription=function(n,_,d,p,w,k){var u=null,S=n.indexOf("/")>-1,C=n.indexOf("-")>-1,M=n.indexOf(",")>-1;if(!n)u="";else if(n==="*")u=_;else if(!S&&!C&&!M)u=l.StringUtilities.format(k(n),d(n));else if(M){for(var z=n.split(","),A="",X=0;X<z.length;X++)if(X>0&&z.length>2&&(A+=",",X<z.length-1&&(A+=" ")),X>0&&z.length>1&&(X==z.length-1||z.length==2)&&(A+="".concat(this.i18n.spaceAnd()," ")),z[X].indexOf("/")>-1||z[X].indexOf("-")>-1){var V=z[X].indexOf("-")>-1&&z[X].indexOf("/")==-1,Y=this.getSegmentDescription(z[X],_,d,p,V?this.i18n.commaX0ThroughX1:w,k);V&&(Y=Y.replace(", ","")),A+=Y}else S?A+=this.getSegmentDescription(z[X],_,d,p,w,k):A+=d(z[X]);S?u=A:u=l.StringUtilities.format(k(n),A)}else if(S){var z=n.split("/");if(u=l.StringUtilities.format(p(z[1]),z[1]),z[0].indexOf("-")>-1){var te=this.generateRangeSegmentDescription(z[0],w,d);te.indexOf(", ")!=0&&(u+=", "),u+=te}else if(z[0].indexOf("*")==-1){var Q=l.StringUtilities.format(k(z[0]),d(z[0]));Q=Q.replace(", ",""),u+=l.StringUtilities.format(this.i18n.commaStartingX0(),Q)}}else C&&(u=this.generateRangeSegmentDescription(n,w,d));return u},s.prototype.generateRangeSegmentDescription=function(n,_,d){var p="",w=n.split("-"),k=d(w[0],1),u=d(w[1],2),S=_(n);return p+=l.StringUtilities.format(S,k,u),p},s.prototype.formatTime=function(n,_,d){var p=parseInt(n)+(this.options.tzOffset?this.options.tzOffset:0);p>=24?p=p-24:p<0&&(p=24+p);var w="",k=!1;this.options.use24HourTimeFormat||(k=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),w=k?"".concat(this.getPeriod(p)," "):" ".concat(this.getPeriod(p)),p>12&&(p-=12),p===0&&(p=12));var u=_,S="";return d&&(S=":".concat(("00"+d).substring(d.length))),"".concat(k?w:"").concat(("00"+p.toString()).substring(p.toString().length),":").concat(("00"+u.toString()).substring(u.toString().length)).concat(S).concat(k?"":w)},s.prototype.transformVerbosity=function(n,_){return _||(n=n.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),n=n.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),n=n.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),n=n.replace(/\, ?$/,"")),n},s.prototype.getPeriod=function(n){return n>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},s.locales={},s}();v.ExpressionDescriptor=b},336:(r,v,f)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.enLocaleLoader=void 0;var l=f(751),O=function(){function b(){}return b.prototype.load=function(s){s.en=new l.en},b}();v.enLocaleLoader=O},751:(r,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.en=void 0;var f=function(){function l(){}return l.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},l.prototype.atX0MinutesPastTheHourGt20=function(){return null},l.prototype.commaMonthX0ThroughMonthX1=function(){return null},l.prototype.commaYearX0ThroughYearX1=function(){return null},l.prototype.use24HourTimeFormatByDefault=function(){return!1},l.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occured when generating the expression description.  Check the cron expression syntax."},l.prototype.everyMinute=function(){return"every minute"},l.prototype.everyHour=function(){return"every hour"},l.prototype.atSpace=function(){return"At "},l.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},l.prototype.at=function(){return"At"},l.prototype.spaceAnd=function(){return" and"},l.prototype.everySecond=function(){return"every second"},l.prototype.everyX0Seconds=function(){return"every %s seconds"},l.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},l.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},l.prototype.everyX0Minutes=function(){return"every %s minutes"},l.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},l.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},l.prototype.everyX0Hours=function(){return"every %s hours"},l.prototype.betweenX0AndX1=function(){return"between %s and %s"},l.prototype.atX0=function(){return"at %s"},l.prototype.commaEveryDay=function(){return", every day"},l.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},l.prototype.commaX0ThroughX1=function(){return", %s through %s"},l.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},l.prototype.first=function(){return"first"},l.prototype.second=function(){return"second"},l.prototype.third=function(){return"third"},l.prototype.fourth=function(){return"fourth"},l.prototype.fifth=function(){return"fifth"},l.prototype.commaOnThe=function(){return", on the "},l.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},l.prototype.lastDay=function(){return"the last day"},l.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},l.prototype.commaOnlyOnX0=function(){return", only on %s"},l.prototype.commaAndOnX0=function(){return", and on %s"},l.prototype.commaEveryX0Months=function(){return", every %s months"},l.prototype.commaOnlyInX0=function(){return", only in %s"},l.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},l.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},l.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},l.prototype.firstWeekday=function(){return"first weekday"},l.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},l.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},l.prototype.commaEveryX0Days=function(){return", every %s days"},l.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},l.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},l.prototype.commaEveryHour=function(){return", every hour"},l.prototype.commaEveryX0Years=function(){return", every %s years"},l.prototype.commaStartingX0=function(){return", starting %s"},l.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},l}();v.en=f},586:(r,v)=>{Object.defineProperty(v,"__esModule",{value:!0});function f(O,b){if(!O)throw new Error(b)}var l=function(){function O(){}return O.secondRange=function(b){for(var s=b.split(","),n=0;n<s.length;n++)if(!isNaN(parseInt(s[n],10))){var _=parseInt(s[n],10);f(_>=0&&_<=59,"seconds part must be >= 0 and <= 59")}},O.minuteRange=function(b){for(var s=b.split(","),n=0;n<s.length;n++)if(!isNaN(parseInt(s[n],10))){var _=parseInt(s[n],10);f(_>=0&&_<=59,"minutes part must be >= 0 and <= 59")}},O.hourRange=function(b){for(var s=b.split(","),n=0;n<s.length;n++)if(!isNaN(parseInt(s[n],10))){var _=parseInt(s[n],10);f(_>=0&&_<=23,"hours part must be >= 0 and <= 23")}},O.dayOfMonthRange=function(b){for(var s=b.split(","),n=0;n<s.length;n++)if(!isNaN(parseInt(s[n],10))){var _=parseInt(s[n],10);f(_>=1&&_<=31,"DOM part must be >= 1 and <= 31")}},O.monthRange=function(b,s){for(var n=b.split(","),_=0;_<n.length;_++)if(!isNaN(parseInt(n[_],10))){var d=parseInt(n[_],10);f(d>=1&&d<=12,s?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},O.dayOfWeekRange=function(b,s){for(var n=b.split(","),_=0;_<n.length;_++)if(!isNaN(parseInt(n[_],10))){var d=parseInt(n[_],10);f(d>=0&&d<=6,s?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},O}();v.default=l},910:(r,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.StringUtilities=void 0;var f=function(){function l(){}return l.format=function(O){for(var b=[],s=1;s<arguments.length;s++)b[s-1]=arguments[s];return O.replace(/%s/g,function(n){return b.shift()})},l.containsAny=function(O,b){return b.some(function(s){return O.indexOf(s)>-1})},l}();v.StringUtilities=f}},t={};function m(r){var v=t[r];if(v!==void 0)return v.exports;var f=t[r]={exports:{}};return a[r](f,f.exports,m),f.exports}var g={};return(()=>{var r=g;Object.defineProperty(r,"__esModule",{value:!0}),r.toString=void 0;var v=m(728),f=m(336);v.ExpressionDescriptor.initialize(new f.enLocaleLoader),r.default=v.ExpressionDescriptor;var l=v.ExpressionDescriptor.toString;r.toString=l})(),g})())})(de);var kt=de.exports;const ie=ve(kt);function re(){return{commands:H({1:{id:1,command:"rconfig:download-device",label:"Devices",description:"Get configs for one or many devices",categoryLabel:"Config Downloads",iconClass:"fa fa-th"},2:{id:2,command:"rconfig:download-category",label:"Categories",description:"Get configs for one or many categories",categoryLabel:"Config Downloads",iconClass:"fa fa-object-group"},3:{id:3,command:"rconfig:download-tag",label:"Tags",description:"Get configs for one or many tags",categoryLabel:"Config Downloads",iconClass:"fa fa-tag"}})}}const Tt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ae},setup(i){const{results:o,isLoading:a}=se("device/all-device-names");function t(m){i.model.device=m}return{updateOptions:t,devices:o,isLoading:a}}},Ot={class:"pf-c-wizard__main-body"},xt={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},zt={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"download_report_notify-switch-reverse-1"},St=e("span",{class:"pf-c-switch__toggle"},null,-1),Ct=e("span",{class:"pf-c-switch__label pf-m-on",id:"download_report_notify-switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1),Dt=e("span",{class:"pf-c-switch__label pf-m-off",id:"download_report_notify-switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1),Mt=e("br",null,null,-1),Et=e("br",null,null,-1),Pt={class:"pf-c-switch pf-m-reverse",for:"verbose_download_report_notify-switch-reverse-2"},$t=e("span",{class:"pf-c-switch__toggle"},null,-1),Xt=e("span",{class:"pf-c-switch__label pf-m-on",id:"verbose_download_report_notify-switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1),jt=e("span",{class:"pf-c-switch__label pf-m-off",id:"verbose_download_report_notify-switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1);function At(i,o,a,t,m,g){const r=T("loading-spinner"),v=T("multi-select");return c(),h("div",Ot,[j(r,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?y("",!0):(c(),h("div",xt,[j(v,{options:t.devices,modelOptions:a.model.device,msLabel:"device_name",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:o[0]||(o[0]=f=>t.updateOptions(f)),fieldType:"devices"},{"multi-select-label":L(()=>[R("Choose devices")]),"multi-select-subtext":L(()=>[R("Select one or more devices for this task.")]),_:1},8,["options","modelOptions"]),e("label",zt,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"download_report_notify-switch-reverse-1","aria-labelledby":"download_report_notify-switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[1]||(o[1]=f=>a.model.download_report_notify=f)},null,512),[[N,a.model.download_report_notify]]),St,Ct,Dt]),Mt,Et,e("label",Pt,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"verbose_download_report_notify-switch-reverse-2","aria-labelledby":"verbose_download_report_notify-switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":o[2]||(o[2]=f=>a.model.verbose_download_report_notify=f)},null,512),[[N,a.model.verbose_download_report_notify]]),$t,Xt,jt])]))])}const pe=$(Tt,[["render",At]]),Lt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ae},setup(i){const{results:o,isLoading:a}=se("categories");function t(m){i.model.category=m}return{updateOptions:t,categories:o,isLoading:a}}},Rt={class:"pf-c-wizard__main-body"},Ut={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},Ft={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},It=e("span",{class:"pf-c-switch__toggle"},null,-1),Vt=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1),Wt=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1),Ht=e("br",null,null,-1),Gt=e("br",null,null,-1),Nt={class:"pf-c-switch pf-m-reverse",for:"switch-reverse-2"},Bt=e("span",{class:"pf-c-switch__toggle"},null,-1),qt=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1),Yt=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1);function Jt(i,o,a,t,m,g){const r=T("loading-spinner"),v=T("multi-select");return c(),h("div",Rt,[j(r,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?y("",!0):(c(),h("div",Ut,[j(v,{options:t.categories,modelOptions:a.model.category,msLabel:"categoryName",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:o[0]||(o[0]=f=>t.updateOptions(f)),fieldType:"categories"},{"multi-select-label":L(()=>[R("Choose categories")]),"multi-select-subtext":L(()=>[R("Select one or more categories for this task.")]),_:1},8,["options","modelOptions"]),e("label",Ft,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[1]||(o[1]=f=>a.model.download_report_notify=f)},null,512),[[N,a.model.download_report_notify]]),It,Vt,Wt]),Ht,Gt,e("label",Nt,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-2","aria-labelledby":"switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":o[2]||(o[2]=f=>a.model.verbose_download_report_notify=f)},null,512),[[N,a.model.verbose_download_report_notify]]),Bt,qt,Yt])]))])}const _e=$(Lt,[["render",Jt]]),Zt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ae},setup(i){const{results:o,isLoading:a}=se("tags");function t(m){i.model.tag=m,i.model.task_tags=m}return{updateOptions:t,tags:o,isLoading:a}}},Kt={class:"pf-c-wizard__main-body"},Qt={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},eo={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},to=e("span",{class:"pf-c-switch__toggle"},null,-1),oo=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1),no=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1),ao=e("br",null,null,-1),so=e("br",null,null,-1),io={class:"pf-c-switch pf-m-reverse",for:"switch-reverse-2"},ro=e("span",{class:"pf-c-switch__toggle"},null,-1),lo=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1),co=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1);function po(i,o,a,t,m,g){const r=T("loading-spinner"),v=T("multi-select");return c(),h("div",Kt,[j(r,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?y("",!0):(c(),h("div",Qt,[j(v,{options:t.tags,modelOptions:a.model.tag,msLabel:"tagname",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:o[0]||(o[0]=f=>t.updateOptions(f)),fieldType:"tags"},{"multi-select-label":L(()=>[R("Choose tags")]),"multi-select-subtext":L(()=>[R("Select one or more tags for this task.")]),_:1},8,["options","modelOptions"]),e("label",eo,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[1]||(o[1]=f=>a.model.download_report_notify=f)},null,512),[[N,a.model.download_report_notify]]),to,oo,no]),ao,so,e("label",io,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-2","aria-labelledby":"switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":o[2]||(o[2]=f=>a.model.verbose_download_report_notify=f)},null,512),[[N,a.model.verbose_download_report_notify]]),ro,lo,co])]))])}const fe=$(Zt,[["render",po]]),_o={props:{cronProp:{type:Array}},components:{},setup(i){const o=H({minute:i.cronProp[0]?i.cronProp[0]:"*",hour:i.cronProp[1]?i.cronProp[1]:"*",day:i.cronProp[2]?i.cronProp[2]:"*",month:i.cronProp[3]?i.cronProp[3]:"*",weekday:i.cronProp[4]?i.cronProp[4]:"*"});function a(){i.cronProp[0]=o.minute}function t(){i.cronProp[1]=o.hour}function m(){i.cronProp[2]=o.day}function g(){i.cronProp[3]=o.month}function r(){i.cronProp[4]=o.weekday}return B(()=>{o.minute=i.cronProp[0],o.hour=i.cronProp[1],o.day=i.cronProp[2],o.month=i.cronProp[3],o.weekday=i.cronProp[4]}),{cronReturnArray:o,onChangeMin:a,onChangeHour:t,onChangeDay:m,onChangeMonth:g,onChangeWeekday:r}}},fo={class:"pf-c-form__group pf-u-pt-md"},uo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Minute"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),mo={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},ho={class:"pf-l-grid__item pf-m-3-col"},vo={class:"pf-l-grid__item pf-m-9-col"},go=I('<option value="--" disabled>-- Select an option --</option><option value="*">Every minute (*)</option><option value="*/2">Every other minute (*/2)</option><option value="*/5">Every 5 minutes (*/5)</option><option value="*/10">Every 10 minutes (*/10)</option><option value="*/15">Every 15 minutes (*/15)</option><option value="0,30">Every 30 minutes (0,30)</option><option value="--" disabled>-- Minutes --</option><option value="0">:00 top of the hour (0)</option><option value="1">:01 (1)</option><option value="2">:02 (2)</option><option value="3">:03 (3)</option><option value="4">:04 (4)</option><option value="5">:05 (5)</option><option value="6">:06 (6)</option><option value="7">:07 (7)</option><option value="8">:08 (8)</option><option value="9">:09 (9)</option><option value="10">:10 (10)</option><option value="11">:11 (11)</option><option value="12">:12 (12)</option><option value="13">:13 (13)</option><option value="14">:14 (14)</option><option value="15">:15 quarter past (15)</option><option value="16">:16 (16)</option><option value="17">:17 (17)</option><option value="18">:18 (18)</option><option value="19">:19 (19)</option><option value="20">:20 (20)</option><option value="21">:21 (21)</option><option value="22">:22 (22)</option><option value="23">:23 (23)</option><option value="24">:24 (24)</option><option value="25">:25 (25)</option><option value="26">:26 (26)</option><option value="27">:27 (27)</option><option value="28">:28 (28)</option><option value="29">:29 (29)</option><option value="30">:30 half past (30)</option><option value="31">:31 (31)</option><option value="32">:32 (32)</option><option value="33">:33 (33)</option><option value="34">:34 (34)</option><option value="35">:35 (35)</option><option value="36">:36 (36)</option><option value="37">:37 (37)</option><option value="38">:38 (38)</option><option value="39">:39 (39)</option><option value="40">:40 (40)</option><option value="41">:41 (41)</option><option value="42">:42 (42)</option><option value="43">:43 (43)</option><option value="44">:44 (44)</option><option value="45">:45 quarter til (45)</option><option value="46">:46 (46)</option><option value="47">:47 (47)</option><option value="48">:48 (48)</option><option value="49">:49 (49)</option><option value="50">:50 (50)</option><option value="51">:51 (51)</option><option value="52">:52 (52)</option><option value="53">:53 (53)</option><option value="54">:54 (54)</option><option value="55">:55 (55)</option><option value="56">:56 (56)</option><option value="57">:57 (57)</option><option value="58">:58 (58)</option><option value="59">:59 (59)</option>',68),yo=[go],wo={class:"pf-c-form__group pf-u-pt-md"},bo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Hour"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),ko={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},To={class:"pf-l-grid__item pf-m-3-col"},Oo={class:"pf-l-grid__item pf-m-9-col"},xo=I('<option value="--" disabled>-- Select an option --</option><option value="*">Every hour (*)</option><option value="*/2">Every other hour (*/2)</option><option value="*/3">Every 3 hours (*/3)</option><option value="*/4">Every 4 hours (*/4)</option><option value="*/6">Every 6 hours (*/6)</option><option value="0,12">Every 12 hours (0,12)</option><option value="--" disabled>-- Hours --</option><option value="0">12:00 a.m. midnight (0)</option><option value="1">1:00 a.m. (1)</option><option value="2">2:00 a.m. (2)</option><option value="3">3:00 a.m. (3)</option><option value="4">4:00 a.m. (4)</option><option value="5">5:00 a.m. (5)</option><option value="6">6:00 a.m. (6)</option><option value="7">7:00 a.m. (7)</option><option value="8">8:00 a.m. (8)</option><option value="9">9:00 a.m. (9)</option><option value="10">10:00 a.m. (10)</option><option value="11">11:00 a.m. (11)</option><option value="12">12:00 p.m. noon (12)</option><option value="13">1:00 p.m. (13)</option><option value="14">2:00 p.m. (14)</option><option value="15">3:00 p.m. (15)</option><option value="16">4:00 p.m. (16)</option><option value="17">5:00 p.m. (17)</option><option value="18">6:00 p.m. (18)</option><option value="19">7:00 p.m. (19)</option><option value="20">8:00 p.m. (20)</option><option value="21">9:00 p.m. (21)</option><option value="22">10:00 p.m. (22)</option><option value="23">11:00 p.m. (23)</option>',32),zo=[xo],So={class:"pf-c-form__group pf-u-pt-md"},Co=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Day"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Do={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Mo={class:"pf-l-grid__item pf-m-3-col"},Eo={class:"pf-l-grid__item pf-m-9-col"},Po=I('<option value="--" disabled>-- Select an option --</option><option value="*">Every day (*)</option><option value="*/2">Every other day (*/2)</option><option value="1,15">1st and 15th (1,15)</option><option value="--" disabled>-- Days --</option><option value="1">1st (1)</option><option value="2">2nd (2)</option><option value="3">3rd (3)</option><option value="4">4th (4)</option><option value="5">5th (5)</option><option value="6">6th (6)</option><option value="7">7th (7)</option><option value="8">8th (8)</option><option value="9">9th (9)</option><option value="10">10th (10)</option><option value="11">11th (11)</option><option value="12">12th (12)</option><option value="13">13th (13)</option><option value="14">14th (14)</option><option value="15">15th (15)</option><option value="16">16th (16)</option><option value="17">17th (17)</option><option value="18">18th (18)</option><option value="19">19th (19)</option><option value="20">20th (20)</option><option value="21">21st (21)</option><option value="22">22nd (22)</option><option value="23">23rd (23)</option><option value="24">24th (24)</option><option value="25">25th (25)</option><option value="26">26th (26)</option><option value="27">27th (27)</option><option value="28">28th (28)</option><option value="29">29th (29)</option><option value="30">30th (30)</option><option value="31">31st (31)</option>',36),$o=[Po],Xo={class:"pf-c-form__group pf-u-pt-md"},jo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Month"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Ao={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Lo={class:"pf-l-grid__item pf-m-3-col"},Ro={class:"pf-l-grid__item pf-m-9-col"},Uo=I('<option value="--" disabled>-- Select an option --</option><option value="*">Every month (*)</option><option value="*/2">Every other month (*/2)</option><option value="*/4">Every 3 months (*/4)</option><option value="1,7">Every 6 months (1,7)</option><option value="--" disabled>-- Months --</option><option value="1">January (1)</option><option value="2">February (2)</option><option value="3">March (3)</option><option value="4">April (4)</option><option value="5">May (5)</option><option value="6">June (6)</option><option value="7">July (7)</option><option value="8">August (8)</option><option value="9">September (9)</option><option value="10">October (10)</option><option value="11">November (11)</option><option value="12">December (12)</option>',18),Fo=[Uo],Io={class:"pf-c-form__group pf-u-pt-md"},Vo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Weekday"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Wo={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Ho={class:"pf-l-grid__item pf-m-3-col"},Go={class:"pf-l-grid__item pf-m-9-col"},No=I('<option value="--" disabled>-- Select an option --</option><option value="*">Every weekday (*)</option><option value="1-5">Mon thru Fri (1-5)</option><option value="0,6">Sat and Sun (6,0)</option><option value="1,3,5">Mon, Wed, Fri (1,3,5)</option><option value="2,4">Tues, Thurs (2,4)</option><option value="2,5">Tues, Fri (2,5)</option><option value="--" disabled>-- Weekdays --</option><option value="0">Sunday (0)</option><option value="1">Monday (1)</option><option value="2">Tuesday (2)</option><option value="3">Wednesday (3)</option><option value="4">Thursday (4)</option><option value="5">Friday (5)</option><option value="6">Saturday (6)</option>',15),Bo=[No];function qo(i,o,a,t,m,g){return c(),h("div",null,[e("div",fo,[uo,e("div",mo,[e("div",ho,[P(e("input",{type:"text",name:"minute",id:"minute","onUpdate:modelValue":o[0]||(o[0]=r=>t.cronReturnArray.minute=r),autocomplete:"off",class:"pf-c-form-control"},null,512),[[W,t.cronReturnArray.minute]])]),e("div",vo,[P(e("select",{id:"minuteSelect",class:"pf-c-form-control","onUpdate:modelValue":o[1]||(o[1]=r=>t.cronReturnArray.minute=r),onChange:o[2]||(o[2]=(...r)=>t.onChangeMin&&t.onChangeMin(...r))},yo,544),[[ee,t.cronReturnArray.minute]])])])]),e("div",wo,[bo,e("div",ko,[e("div",To,[P(e("input",{type:"text",name:"hour",id:"hour","onUpdate:modelValue":o[3]||(o[3]=r=>t.cronReturnArray.hour=r),autocomplete:"off",class:"pf-c-form-control"},null,512),[[W,t.cronReturnArray.hour]])]),e("div",Oo,[P(e("select",{id:"hourSelect",class:"pf-c-form-control","onUpdate:modelValue":o[4]||(o[4]=r=>t.cronReturnArray.hour=r),onChange:o[5]||(o[5]=(...r)=>t.onChangeHour&&t.onChangeHour(...r))},zo,544),[[ee,t.cronReturnArray.hour]])])])]),e("div",So,[Co,e("div",Do,[e("div",Mo,[P(e("input",{type:"text",name:"day",id:"day","onUpdate:modelValue":o[6]||(o[6]=r=>t.cronReturnArray.day=r),autocomplete:"off",class:"pf-c-form-control"},null,512),[[W,t.cronReturnArray.day]])]),e("div",Eo,[P(e("select",{id:"daySelect",class:"pf-c-form-control","onUpdate:modelValue":o[7]||(o[7]=r=>t.cronReturnArray.day=r),onChange:o[8]||(o[8]=(...r)=>t.onChangeDay&&t.onChangeDay(...r))},$o,544),[[ee,t.cronReturnArray.day]])])])]),e("div",Xo,[jo,e("div",Ao,[e("div",Lo,[P(e("input",{type:"text",name:"month",id:"month","onUpdate:modelValue":o[9]||(o[9]=r=>t.cronReturnArray.month=r),autocomplete:"off",class:"pf-c-form-control"},null,512),[[W,t.cronReturnArray.month]])]),e("div",Ro,[P(e("select",{id:"monthSelect",class:"pf-c-form-control","onUpdate:modelValue":o[10]||(o[10]=r=>t.cronReturnArray.month=r),onChange:o[11]||(o[11]=(...r)=>t.onChangeMonth&&t.onChangeMonth(...r))},Fo,544),[[ee,t.cronReturnArray.month]])])])]),e("div",Io,[Vo,e("div",Wo,[e("div",Ho,[P(e("input",{type:"text",name:"weekday",id:"weekday","onUpdate:modelValue":o[12]||(o[12]=r=>t.cronReturnArray.weekday=r),autocomplete:"off",class:"pf-c-form-control"},null,512),[[W,t.cronReturnArray.weekday]])]),e("div",Go,[P(e("select",{id:"weekdaySelect",class:"pf-c-form-control","onUpdate:modelValue":o[13]||(o[13]=r=>t.cronReturnArray.weekday=r),onChange:o[14]||(o[14]=(...r)=>t.onChangeWeekday&&t.onChangeWeekday(...r))},Bo,544),[[ee,t.cronReturnArray.weekday]])])])])])}const ue=$(_o,[["render",qo]]),Yo={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:K,TaskCronForm:ue,TaskWizardStep31:pe,TaskWizardStep32:_e,TaskWizardStep33:fe},setup(i,{emit:o}){const{commands:a}=re(),t=D(""),m=H({command:""}),g=D(!1),r=D(!1),v=D(!1),f=D(!1),l=D(i.viewstate.editid===0?"add":"edit"),{errors:O,model:b,clearModel:s,updateModel:n,getModel:_,storeModel:d,isLoading:p}=ce(i.viewstate.modelName,i.viewstate.modelObject),w=D(""),k=D([]),u=D(Math.random());q(()=>{_(i.viewstate.editid)});const S=async()=>{i.viewstate.editid!=0?await n(b):await d(b),O.value===""&&(o("formsubmitted",i.viewstate.pagenamesingle+" "+l.value+"ed!"),M())};function C(A){var X=A.target.value,V=X.split(" ");b.task_cron=V}function M(){o("closeDrawer")}ge(()=>b.task_command,()=>{z(a,b.task_command),Object.assign(m,a[t.value])});function z(A,X){Object.entries(A).forEach(V=>{X.startsWith(V[1].command)&&(t.value=V[0])})}return B(()=>{b.task_cron&&(w.value=ie.toString(b.task_cron.join(" ")))}),{selectedCmdObj:m,showFieldGroup1:g,showFieldGroup2:r,showFieldGroup3:v,showRoleOptions:f,close:M,errors:O,model:b,saveModels:S,clearModel:s,isLoading:p,selectExample:C,cronToHuman:w,cronFormKey:u,cron:k}}},Jo={key:0,novalidate:"",class:"pf-c-form"},Zo={class:"pf-c-form__group"},Ko=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Task Type"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Qo={class:"pf-c-form__group-control pf-u-color-300"},en={class:"pf-c-form__field-group-toggle"},tn={class:"pf-c-form__field-group-toggle-button"},on=e("span",{class:"pf-c-form__field-group-toggle-icon"},[e("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1),nn=[on],an=e("div",{class:"pf-c-form__field-group-header-main"},[e("div",{class:"pf-c-form__field-group-header-title"},[e("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Info")])],-1),sn=[an],rn={key:0,class:"pf-c-form__field-group-body"},ln={class:"pf-c-form__group"},cn=I('<div class="pf-c-form__group-label"><label class="pf-c-form__label" for="task_name"><span class="pf-c-form__label-text">Task Name</span><span class="pf-c-form__label-required" aria-hidden="true">*</span></label><button class="pf-c-form__group-label-help" aria-label="More info" tabindex="-1"><i class="pficon pf-icon-help" aria-hidden="true"></i></button></div>',1),dn={class:"pf-c-form__group-control"},pn={class:"pf-c-form__group",style:{"padding-top":"0px","padding-bottom":"30px"}},_n=I('<div class="pf-c-form__group-label"><label class="pf-c-form__label" for="task_desc"><span class="pf-c-form__label-text pf-u-color-300">Task Description</span><span class="pf-c-form__label-required" aria-hidden="true">*</span></label><button class="pf-c-form__group-label-help" aria-label="More info" tabindex="-1"><i class="pficon pf-icon-help" aria-hidden="true"></i></button></div>',1),fn={class:"pf-c-form__group-control"},un={class:"pf-c-form__field-group-toggle"},mn={class:"pf-c-form__field-group-toggle-button"},hn=e("span",{class:"pf-c-form__field-group-toggle-icon"},[e("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1),vn=[hn],gn=e("div",{class:"pf-c-form__field-group-header-main"},[e("div",{class:"pf-c-form__field-group-header-title"},[e("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Details")])],-1),yn=[gn],wn={key:0,class:"pf-c-form__field-group-body"},bn={class:"pf-c-form__field-group-toggle"},kn={class:"pf-c-form__field-group-toggle-button"},Tn=e("span",{class:"pf-c-form__field-group-toggle-icon"},[e("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1),On=[Tn],xn=e("div",{class:"pf-c-form__field-group-header-main"},[e("div",{class:"pf-c-form__field-group-header-title"},[e("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Schedule")])],-1),zn=[xn],Sn={key:0,class:"pf-c-form__field-group-body"},Cn={class:"pf-c-form__group"},Dn={novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-xl",style:{"max-width":"75%"}},Mn={class:"pf-c-form__group"},En=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Cron Examples")])],-1),Pn={class:"pf-c-form__group-control"},$n=I('<option value="--">-- Select an option --</option><option value="* * * * *">Every minute (* * * * *)</option><option value="*/5 * * * *">Every 5 minutes (*/5 * * * *)</option><option value="0,30 * * * *">Twice an hour (0,30 * * * *)</option><option value="0 * * * *">Once an hour (0 * * * *)</option><option value="0 0,12 * * *">Twice a day (0 0,12 * * *)</option><option value="0 0 * * *">Once a day (0 0 * * *)</option><option value="0 0 * * 0">Once a week (0 0 * * 0)</option><option value="0 0 1,15 * *">1st and 15th (0 0 1,15 * *)</option><option value="0 0 1 * *">Once a month (0 0 1 * *)</option><option value="0 0 1 1 *">Once a year (0 0 1 1 *)</option>',11),Xn=[$n],jn={class:"pf-u-pt-xl"},An={key:0,class:"pf-c-label pf-m-blue"},Ln={class:"pf-c-label__content"},Rn=e("span",{class:"pf-c-label__icon"},[e("i",{class:"fas fa-fw fa-info-circle","aria-hidden":"true"})],-1),Un=e("b",null,"Task Schedule is set:",-1),Fn={class:"pf-c-form__group"},In={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},Vn=e("span",{class:"pf-c-switch__toggle"},null,-1),Wn=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send task email notification on",-1),Hn=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send task email notification off",-1),Gn={class:"pf-c-form__group pf-m-action"},Nn={class:"pf-c-form__group-control"},Bn={class:"pf-c-form__actions"};function qn(i,o,a,t,m,g){const r=T("loading-spinner"),v=T("task-wizard-step-31"),f=T("task-wizard-step-32"),l=T("task-wizard-step-33"),O=T("task-wizard-step-34"),b=T("task-wizard-step-35"),s=T("task-wizard-step-36"),n=T("task-wizard-step-37"),_=T("task-wizard-step-38"),d=T("task-wizard-step-39"),p=T("task-wizard-step-310"),w=T("task-wizard-step-311"),k=T("task-cron-form");return c(),h(G,null,[j(r,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?y("",!0):(c(),h("form",Jo,[e("div",Zo,[Ko,e("div",Qo,E(t.selectedCmdObj.categoryLabel)+" - "+E(t.selectedCmdObj.label),1)]),e("div",{class:F(["pf-c-form__field-group",{"pf-m-expanded":t.showFieldGroup1}]),role:"group"},[e("div",en,[e("div",tn,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:o[0]||(o[0]=u=>t.showFieldGroup1=!t.showFieldGroup1)},nn)])]),e("div",{class:"pf-c-form__field-group-header",onClick:o[1]||(o[1]=u=>t.showFieldGroup1=!t.showFieldGroup1),style:{cursor:"pointer"}},sn),t.showFieldGroup1?(c(),h("div",rn,[e("div",ln,[cn,e("div",dn,[P(e("input",{class:"pf-c-form-control",type:"text",id:"task_name",name:"task_name","onUpdate:modelValue":o[2]||(o[2]=u=>t.model.task_name=u),autocomplete:"off"},null,512),[[W,t.model.task_name]])])]),e("div",pn,[_n,e("div",fn,[P(e("input",{class:"pf-c-form-control",type:"text",id:"task_desc",desc:"task_desc","onUpdate:modelValue":o[3]||(o[3]=u=>t.model.task_desc=u),autocomplete:"off"},null,512),[[W,t.model.task_desc]])])])])):y("",!0)],2),e("div",{class:F(["pf-c-form__field-group",{"pf-m-expanded":t.showFieldGroup2}]),role:"group"},[e("div",un,[e("div",mn,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:o[4]||(o[4]=u=>t.showFieldGroup2=!t.showFieldGroup2)},vn)])]),e("div",{class:"pf-c-form__field-group-header",onClick:o[5]||(o[5]=u=>t.showFieldGroup2=!t.showFieldGroup2),style:{cursor:"pointer"}},yn),t.showFieldGroup2?(c(),h("div",wn,[t.selectedCmdObj.id===1?(c(),x(v,{key:0,model:t.model},null,8,["model"])):y("",!0),t.selectedCmdObj.id===2?(c(),x(f,{key:1,model:t.model},null,8,["model"])):y("",!0),t.selectedCmdObj.id===3?(c(),x(l,{key:2,model:t.model},null,8,["model"])):y("",!0),t.selectedCmdObj.id===4?(c(),x(O,{key:3,model:t.model},null,8,["model"])):y("",!0),t.selectedCmdObj.id===5?(c(),x(b,{key:4,model:t.model},null,8,["model"])):y("",!0),t.selectedCmdObj.id===6?(c(),x(s,{key:5,model:t.model},null,8,["model"])):y("",!0),t.selectedCmdObj.id===7?(c(),x(n,{key:6,model:t.model},null,8,["model"])):y("",!0),t.selectedCmdObj.id===8?(c(),x(_,{key:7,model:t.model,onGoToPageFour:o[6]||(o[6]=u=>i.wizardData.currentPage=4)},null,8,["model"])):y("",!0),t.selectedCmdObj.id===9?(c(),x(d,{key:8,model:t.model,onGoToPageFour:o[7]||(o[7]=u=>i.wizardData.currentPage=4)},null,8,["model"])):y("",!0),t.selectedCmdObj.id===10?(c(),x(p,{key:9,model:t.model},null,8,["model"])):y("",!0),t.selectedCmdObj.id===11?(c(),x(w,{key:10,model:t.model},null,8,["model"])):y("",!0)])):y("",!0)],2),e("div",{class:F(["pf-c-form__field-group",{"pf-m-expanded":t.showFieldGroup3}]),role:"group"},[e("div",bn,[e("div",kn,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:o[8]||(o[8]=u=>t.showFieldGroup3=!t.showFieldGroup3)},On)])]),e("div",{class:"pf-c-form__field-group-header",onClick:o[9]||(o[9]=u=>t.showFieldGroup3=!t.showFieldGroup3),style:{cursor:"pointer"}},zn),t.showFieldGroup3?(c(),h("div",Sn,[e("div",Cn,[e("form",Dn,[e("div",Mn,[En,e("div",Pn,[e("select",{id:"exampleOptions",class:"pf-c-form-control",onChange:o[10]||(o[10]=u=>t.selectExample(u))},Xn,32)])]),t.model.task_cron?(c(),x(k,{key:0,cronProp:t.model.task_cron},null,8,["cronProp"])):y("",!0)]),e("div",jn,[t.cronToHuman!=""?(c(),h("span",An,[e("span",Ln,[Rn,Un,R(" "+E(t.cronToHuman),1)])])):y("",!0)])]),e("div",Fn,[e("label",In,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[11]||(o[11]=u=>t.model.task_email_notify=u),autocomplete:"off"},null,512),[[N,t.model.task_email_notify]]),Vn,Wn,Hn])])])):y("",!0)],2),e("div",Gn,[e("div",Nn,[e("div",Bn,[e("button",{class:"pf-c-button pf-m-primary",type:"submit",onClick:o[12]||(o[12]=U((...u)=>t.saveModels&&t.saveModels(...u),["prevent"]))},"Save"),e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:o[13]||(o[13]=(...u)=>t.close&&t.close(...u))},"Cancel")])])])]))],64)}const Yn=$(Yo,[["render",qn]]),Jn={props:{wizardData:{type:Object,required:!0}},setup(i,{emit:o}){const{commands:a}=re();function t(g,r){return Object.fromEntries(Object.entries(a).slice(g,r))}function m(g){o("selectTask",g)}return{sliceItems:t,selectTask:m,commands:a}}},Zn={class:"pf-c-wizard__main-body"},Kn=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 1 - Task Type")],-1),Qn=e("h5",{class:"pf-u-color-300 pf-u-pt-sm"},"Config Downloads",-1),ea={class:"pf-l-flex pf-m-column"},ta={class:"pf-l-flex"},oa=["onClick"],na={class:"pf-c-tile__header"},aa={class:"pf-c-tile__icon"},sa={class:"pf-c-tile__title"},ia={class:"pf-c-tile__body pf-m-hidden-on-xl"};function ra(i,o,a,t,m,g){return c(),h("div",Zn,[Kn,Qn,e("div",ea,[e("div",ta,[(c(!0),h(G,null,Z(t.sliceItems(0,4),r=>(c(),h("div",{class:"pf-l-flex__item pf-u-pt-sm",key:r.id},[e("div",{class:F(["pf-c-tile",{"pf-m-selected":a.wizardData.selectedTask.id===r.id}]),tabindex:"1",onClick:v=>t.selectTask(r),style:{"min-width":"160px","max-width":"220px",height:"100px"}},[e("div",na,[e("div",aa,[e("i",{class:F(r.iconClass),"aria-hidden":"true"},null,2)]),e("div",sa,E(r.label),1)]),e("div",ia,E(r.description),1)],10,oa)]))),128))])])])}const la=$(Jn,[["render",ra]]),ca={props:{wizardData:{type:Object,required:!0},model:{type:Object}},components:{},setup(i,{emit:o}){function a(){o("goToPageOne")}return{goToPageOne:a}}},da={class:"pf-c-wizard__main-body"},pa={class:"pf-c-empty-state"},_a={class:"pf-c-empty-state__content"},fa=e("i",{class:"fas fa-cubes pf-c-empty-state__icon","aria-hidden":"true"},null,-1),ua=e("h1",{class:"pf-c-title pf-m-lg"},"Task not selected",-1),ma=e("div",{class:"pf-c-empty-state__body"},"Please go back to step 1 and select your task type.",-1);function ha(i,o,a,t,m,g){return c(),h("div",da,[e("div",pa,[e("div",_a,[fa,ua,ma,e("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:o[0]||(o[0]=U((...r)=>t.goToPageOne&&t.goToPageOne(...r),["prevent"]))},"Go to step 1")])])])}const ne=$(ca,[["render",ha]]),va={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne},setup(i){return{}}},ga={class:"pf-c-wizard__main-body"},ya=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 2 - Task Information")],-1),wa={key:1,novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-lg pf-u-w-100 pf-u-w-75-on-xl"},ba={class:"pf-c-form__group"},ka=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Task Name"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Ta={class:"pf-c-form__group-control"},Oa={class:"pf-c-form__group"},xa=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Description"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),za={class:"pf-c-form__group-control"};function Sa(i,o,a,t,m,g){const r=T("task-wizard-task-not-selected");return c(),h("div",ga,[ya,a.wizardData.selectedTask.id===0?(c(),x(r,{key:0,onGoToPageOne:o[0]||(o[0]=v=>a.wizardData.currentPage=1)})):(c(),h("form",wa,[e("div",ba,[ka,e("div",Ta,[P(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"task_name",name:"task_name","onUpdate:modelValue":o[1]||(o[1]=v=>a.model.task_name=v),autocomplete:"off"},null,512),[[W,a.model.task_name]])])]),e("div",Oa,[xa,e("div",za,[P(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"task_desc",name:"task_desc","onUpdate:modelValue":o[2]||(o[2]=v=>a.model.task_desc=v),autocomplete:"off"},null,512),[[W,a.model.task_desc]])])])]))])}const Ca=$(va,[["render",Sa]]),Da={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne,TaskWizardStep31:pe,TaskWizardStep32:_e,TaskWizardStep33:fe},setup(i){return{}}},Ma={class:"pf-c-wizard__main-body"},Ea=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 3 - Task Configuration")],-1);function Pa(i,o,a,t,m,g){const r=T("task-wizard-task-not-selected"),v=T("task-wizard-step-31"),f=T("task-wizard-step-32"),l=T("task-wizard-step-33"),O=T("task-wizard-step-35"),b=T("task-wizard-step-36"),s=T("task-wizard-step-37"),n=T("task-wizard-step-38"),_=T("task-wizard-step-39"),d=T("task-wizard-step-310"),p=T("task-wizard-step-311");return c(),h("div",Ma,[Ea,a.wizardData.selectedTask.id===0?(c(),x(r,{key:0,onGoToPageOne:o[0]||(o[0]=w=>a.wizardData.currentPage=1)})):y("",!0),a.wizardData.selectedTask.id===1?(c(),x(v,{key:1,model:a.model},null,8,["model"])):y("",!0),a.wizardData.selectedTask.id===2?(c(),x(f,{key:2,model:a.model},null,8,["model"])):y("",!0),a.wizardData.selectedTask.id===3?(c(),x(l,{key:3,model:a.model},null,8,["model"])):y("",!0),a.wizardData.selectedTask.id===5?(c(),x(O,{key:4,model:a.model},null,8,["model"])):y("",!0),a.wizardData.selectedTask.id===6?(c(),x(b,{key:5,model:a.model},null,8,["model"])):y("",!0),a.wizardData.selectedTask.id===7?(c(),x(s,{key:6,model:a.model},null,8,["model"])):y("",!0),a.wizardData.selectedTask.id===8?(c(),x(n,{key:7,model:a.model,onGoToPageFour:o[1]||(o[1]=w=>a.wizardData.currentPage=4)},null,8,["model"])):y("",!0),a.wizardData.selectedTask.id===9?(c(),x(_,{key:8,model:a.model,onGoToPageFour:o[2]||(o[2]=w=>a.wizardData.currentPage=4)},null,8,["model"])):y("",!0),a.wizardData.selectedTask.id===10?(c(),x(d,{key:9,model:a.model},null,8,["model"])):y("",!0),a.wizardData.selectedTask.id===11?(c(),x(p,{key:10,model:a.model},null,8,["model"])):y("",!0)])}const $a=$(Da,[["render",Pa]]),Xa={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskCronForm:ue,TaskWizardTaskNotSelected:ne},setup(i){const o=D([]),a=D("");function t(m){var g=m.target.value,r=g.split(" ");i.model.task_cron=r}return q(()=>{i.model.task_cron!=""&&(o.value=i.model.task_cron)}),B(()=>{i.model.task_cron&&(a.value=ie.toString(i.model.task_cron.join(" ")))}),{cronExampleArray:o,selectExample:t,cronToHuman:a}}},ja={class:"pf-c-wizard__main-body"},Aa=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 4 - Task Schedule")],-1),La={key:1},Ra={novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-xl",style:{"max-width":"75%"}},Ua={class:"pf-c-form__group"},Fa=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Cron Examples")])],-1),Ia={class:"pf-c-form__group-control"},Va=I('<option value="--">-- Select an option --</option><option value="* * * * *">Every minute (* * * * *)</option><option value="*/5 * * * *">Every 5 minutes (*/5 * * * *)</option><option value="0,30 * * * *">Twice an hour (0,30 * * * *)</option><option value="0 * * * *">Once an hour (0 * * * *)</option><option value="0 0,12 * * *">Twice a day (0 0,12 * * *)</option><option value="0 0 * * *">Once a day (0 0 * * *)</option><option value="0 0 * * 0">Once a week (0 0 * * 0)</option><option value="0 0 1,15 * *">1st and 15th (0 0 1,15 * *)</option><option value="0 0 1 * *">Once a month (0 0 1 * *)</option><option value="0 0 1 1 *">Once a year (0 0 1 1 *)</option>',11),Wa=[Va],Ha={class:"pf-u-pt-xl"},Ga={key:0,class:"pf-c-label pf-m-blue"},Na={class:"pf-c-label__content"},Ba=e("span",{class:"pf-c-label__icon"},[e("i",{class:"fas fa-fw fa-info-circle","aria-hidden":"true"})],-1),qa=e("b",null,"Task Schedule is set:",-1),Ya={key:0,class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"task_email_notifyswitch-reverse-1"},Ja=e("span",{class:"pf-c-switch__toggle"},null,-1),Za=e("span",{class:"pf-c-switch__label pf-m-on",id:"task_email_notifyswitch-reverse-1-on","aria-hidden":"true"},"Send task email notification on",-1),Ka=e("span",{class:"pf-c-switch__label pf-m-off",id:"task_email_notifyswitch-reverse-1-off","aria-hidden":"true"},"Send task email notification off",-1);function Qa(i,o,a,t,m,g){const r=T("task-wizard-task-not-selected"),v=T("task-cron-form");return c(),h("div",ja,[Aa,a.wizardData.selectedTask.id===0?(c(),x(r,{key:0,onGoToPageOne:o[0]||(o[0]=f=>a.wizardData.currentPage=1)})):(c(),h("div",La,[e("form",Ra,[e("div",Ua,[Fa,e("div",Ia,[e("select",{id:"exampleOptions",class:"pf-c-form-control",onChange:o[1]||(o[1]=f=>t.selectExample(f))},Wa,32)])]),j(v,{cronProp:a.model.task_cron},null,8,["cronProp"])]),e("div",Ha,[t.cronToHuman!=""?(c(),h("span",Ga,[e("span",Na,[Ba,qa,R(" "+E(t.cronToHuman),1)])])):y("",!0)]),a.wizardData.selectedTask.id!=0?(c(),h("label",Ya,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"task_email_notifyswitch-reverse-1","aria-labelledby":"task_email_notifyswitch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[2]||(o[2]=f=>a.model.task_email_notify=f)},null,512),[[N,a.model.task_email_notify]]),Ja,Za,Ka])):y("",!0)]))])}const es=$(Xa,[["render",Qa]]),ts={props:{model:{type:Object,default:()=>({})}},setup(i){function o(a){const t={...i.model.device};delete t[a],i.model.device=Object.values(t)}return{remove:o}}},os={class:"pf-c-chip-group pf-m-category"},ns={class:"pf-c-chip-group__main"},as=e("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-devices-label"},"Devices",-1),ss={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-devices-label"},is={class:"pf-c-chip"},rs=["id"],ls=["id","onClick"],cs=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),ds=[cs];function ps(i,o,a,t,m,g){return c(),h("div",os,[e("div",ns,[as,e("ul",ss,[(c(!0),h(G,null,Z(a.model.device,(r,v)=>(c(),h("li",{class:"pf-c-chip-group__list-item",key:r.id},[e("div",is,[e("span",{class:"pf-c-chip__text",id:r.id},E(r.device_name),9,rs),e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-devicesremove_chip_one_toolbar_collapsed chip-group-with-deviceschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+r.id,onClick:f=>t.remove(v)},ds,8,ls)])]))),128))])])])}const _s=$(ts,[["render",ps]]),fs={props:{model:{type:Object,default:()=>({})}},setup(i){function o(a){const t={...i.model.category};delete t[a],i.model.category=Object.values(t)}return{remove:o}}},us={class:"pf-c-chip-group pf-m-category"},ms={class:"pf-c-chip-group__main"},hs=e("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-categories-label"},"Categories",-1),vs={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-categories-label"},gs={class:"pf-c-chip"},ys=["id"],ws=["id","onClick"],bs=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),ks=[bs];function Ts(i,o,a,t,m,g){return c(),h("div",us,[e("div",ms,[hs,e("ul",vs,[(c(!0),h(G,null,Z(a.model.category,(r,v)=>(c(),h("li",{class:"pf-c-chip-group__list-item",key:r.id},[e("div",gs,[e("span",{class:"pf-c-chip__text",id:r.id},E(r.categoryName),9,ys),e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-categoriesremove_chip_one_toolbar_collapsed chip-group-with-categorieschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+r.id,onClick:f=>t.remove(v)},ks,8,ws)])]))),128))])])])}const Os=$(fs,[["render",Ts]]),xs={props:{model:{type:Object,default:()=>({})}},setup(i){function o(a){const t={...i.model.tag};delete t[a],i.model.tag=Object.values(t)}return{remove:o}}},zs={class:"pf-c-chip-group pf-m-category"},Ss={class:"pf-c-chip-group__main"},Cs=e("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-tags-label"},"Tags",-1),Ds={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-tags-label"},Ms={class:"pf-c-chip"},Es=["id"],Ps=["id","onClick"],$s=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),Xs=[$s];function js(i,o,a,t,m,g){return c(),h("div",zs,[e("div",Ss,[Cs,e("ul",Ds,[(c(!0),h(G,null,Z(a.model.tag,(r,v)=>(c(),h("li",{class:"pf-c-chip-group__list-item",key:r.id},[e("div",Ms,[e("span",{class:"pf-c-chip__text",id:r.id},E(r.tagname),9,Es),e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-tagsremove_chip_one_toolbar_collapsed chip-group-with-tagschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+r.id,onClick:f=>t.remove(v)},Xs,8,Ps)])]))),128))])])])}const As=$(xs,[["render",js]]),Ls={props:{model:{type:Object}},components:{TaskFinalResultOutputChipGroupDevices:_s,TaskFinalResultOutputChipGroupCategories:Os,TaskFinalResultOutputChipGroupTags:As},setup(i){const{commands:o}=re(),a=D(""),t=D(""),m=H({command:""});function g(v,f){Object.entries(v).forEach(l=>{l[1].command===f&&(a.value=l[0])})}function r(v){const f={...i.model.category};delete f[v],i.model.category=Object.values(f)}return g(o,i.model.task_command),Object.assign(m,o[a.value]),t.value=ie.toString(i.model.task_cron.join(" ")),{selectedCmdObj:m,cronToHuman:t,removeCategory:r}}},Rs={class:"pf-c-description-list pf-m-horizontal pf-u-pt-md"},Us={class:"pf-c-description-list__group"},Fs=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Type")],-1),Is={class:"pf-c-description-list__description"},Vs={class:"pf-c-description-list__text"},Ws={class:"pf-c-description-list__group"},Hs=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Name")],-1),Gs={class:"pf-c-description-list__description"},Ns={class:"pf-c-description-list__text"},Bs={class:"pf-c-description-list__group"},qs=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Description")],-1),Ys={class:"pf-c-description-list__description"},Js={class:"pf-c-description-list__text"},Zs={key:0,class:"pf-c-description-list__group"},Ks=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Configuration")],-1),Qs={class:"pf-c-description-list__description"},ei={class:"pf-c-description-list__text"},ti={class:"pf-c-description-list__group"},oi=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Schedule")],-1),ni={class:"pf-c-description-list__description"},ai={class:"pf-c-description-list__text"},si={key:0,class:"pf-c-label pf-m-blue"},ii={class:"pf-c-label__content"},ri={class:"pf-c-description-list__group"},li=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Reporting")],-1),ci={class:"pf-c-description-list__description"},di={class:"pf-c-description-list__text"},pi={key:0,class:"pf-c-helper-text"},_i=e("div",{class:"pf-c-helper-text__item pf-m-success"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"Task notification email will be sent after each run")],-1),fi=[_i],ui={key:1,class:"pf-c-helper-text"},mi=e("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"Task notification email will not be sent after each run")],-1),hi=[mi],vi={key:2},gi={key:0,class:"pf-c-helper-text"},yi=e("div",{class:"pf-c-helper-text__item pf-m-success"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A device download failure report will be sent after task completes.")],-1),wi=[yi],bi={key:1,class:"pf-c-helper-text"},ki=e("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A device download failure report will not be sent after task completes.")],-1),Ti=[ki],Oi={key:2,class:"pf-c-helper-text"},xi=e("div",{class:"pf-c-helper-text__item pf-m-success"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A verbose device download failure report will be sent after task completes.")],-1),zi=[xi],Si={key:3,class:"pf-c-helper-text"},Ci=e("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A verbose device download failure report will not be sent after task completes.")],-1),Di=[Ci];function Mi(i,o,a,t,m,g){const r=T("task-final-result-output-chip-group-devices"),v=T("task-final-result-output-chip-group-categories"),f=T("task-final-result-output-chip-group-tags");return c(),h("dl",Rs,[e("div",Us,[Fs,e("dd",Is,[e("div",Vs,E(t.selectedCmdObj.categoryLabel)+" - "+E(t.selectedCmdObj.label),1)])]),e("div",Ws,[Hs,e("dd",Gs,[e("div",Ns,E(a.model.task_name),1)])]),e("div",Bs,[qs,e("dd",Ys,[e("div",Js,E(a.model.task_desc),1)])]),a.model.device||a.model.category||a.model.tag?(c(),h("div",Zs,[Ks,e("dd",Qs,[e("div",ei,[a.model.device?(c(),x(r,{key:0,model:a.model},null,8,["model"])):y("",!0),a.model.category?(c(),x(v,{key:1,model:a.model},null,8,["model"])):y("",!0),a.model.tag?(c(),x(f,{key:2,model:a.model},null,8,["model"])):y("",!0)])])])):y("",!0),e("div",ti,[oi,e("dd",ni,[e("div",ai,[t.cronToHuman!=""?(c(),h("span",si,[e("span",ii,E(t.cronToHuman),1)])):y("",!0)])])]),e("div",ri,[li,e("dd",ci,[e("div",di,[e("div",null,[a.model.task_email_notify?(c(),h("div",pi,fi)):y("",!0),a.model.task_email_notify?y("",!0):(c(),h("div",ui,hi)),a.model.device||a.model.category||a.model.tag?(c(),h("div",vi,[a.model.download_report_notify?(c(),h("div",gi,wi)):y("",!0),a.model.download_report_notify?y("",!0):(c(),h("div",bi,Ti)),a.model.verbose_download_report_notify?(c(),h("div",Oi,zi)):y("",!0),a.model.verbose_download_report_notify?y("",!0):(c(),h("div",Si,Di))])):y("",!0)])])])])])}const Ei=$(Ls,[["render",Mi]]),Pi={props:{status:{type:String,required:!0}},setup(i,{emit:o}){const a=D(0),t=D(null),m=D({checking:"checking",success:"success",error:"error"}),g=D("checking");q(()=>{t.value=setInterval(r,10)});function r(){a.value>=100?(clearInterval(t.value),a.value=0):a.value++}return B(()=>{i.status===m.value.checking&&a.value<100?g.value="checking":i.status===m.value.success&&a.value===100?g.value="success":i.status===m.value.error&&a.value===100&&(g.value="error")}),B(()=>{g.value!="checking"&&o("verificationDone")}),{progressCount:a,progressStatus:g}}},$i={class:"pf-u-pt-lg"},Xi={key:0,class:"pf-c-progress",style:{"max-width":"75%"}},ji=e("div",{class:"pf-c-progress__description"},"Task Verification",-1),Ai={class:"pf-c-progress__status","aria-hidden":"true"},Li={class:"pf-c-progress__measure"},Ri={class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"10","aria-valuenow":"4","aria-valuetext":"Verifying Task Data"},Ui={key:1,class:"pf-c-progress pf-m-inside pf-m-success",style:{"max-width":"75%"}},Fi=e("div",{class:"pf-c-progress__description"},"Task Verification Success",-1),Ii=e("div",{class:"pf-c-progress__status","aria-hidden":"true"},[e("span",{class:"pf-c-progress__status-icon"},[e("i",{class:"fas fa-fw fa-check-circle","aria-hidden":"true"})])],-1),Vi=e("div",{class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100"},[e("div",{class:"pf-c-progress__indicator",style:{width:"100%"}},[e("span",{class:"pf-c-progress__measure"},"100%")])],-1),Wi=[Fi,Ii,Vi],Hi={key:2,class:"pf-c-progress pf-m-danger",style:{"max-width":"75%"}},Gi=I('<div class="pf-c-progress__description">Task Verification Failed</div><div class="pf-c-progress__status" aria-hidden="true"><span class="pf-c-progress__measure">100%</span><span class="pf-c-progress__status-icon"><i class="fas fa-fw fa-times-circle" aria-hidden="true"></i></span></div>',2),Ni=e("div",{class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100"},[e("div",{class:"pf-c-progress__indicator",style:"width: 100%"})],-1),Bi=[Gi,Ni];function qi(i,o,a,t,m,g){return c(),h("div",$i,[t.progressStatus==="checking"?(c(),h("div",Xi,[ji,e("div",Ai,[e("span",Li,E(t.progressCount+"%"),1)]),e("div",Ri,[e("div",{class:"pf-c-progress__indicator",style:ye("width: "+t.progressCount+"%")},null,4)])])):y("",!0),t.progressStatus==="success"?(c(),h("div",Ui,Wi)):y("",!0),t.progressStatus==="error"?(c(),h("div",Hi,Bi)):y("",!0)])}const Yi=$(Pi,[["render",qi]]),Ji={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne,TaskFinalResultOutput:Ei,TaskVerifyProgress:Yi},setup(i){const o=D(!1),a=oe("create-notification"),t=D(null),m=D("checking"),g=D(!1),r=D(!1),{toClipboard:v}=we();q(()=>{f()});const f=async O=>{t.value="";try{await axios.post("/api/tasks/validate-task",i.model),m.value="success"}catch(b){b.response.status===422?(m.value="error",t.value=b.response.data.errors):(t.status=b.response.status,t.message=b.response.data.message,a({type:"danger",title:"Error",message:b.response.data.message}))}};return{copy:async()=>{try{await v(i.model),o.value=!0,setTimeout(()=>{o.value=!1},3e3),a({type:"success",title:"Copy Success",message:"Output copied to clipboard"})}catch(O){a({type:"danger",title:"Error",message:O})}},errors:t,progressCheckStatus:m,showRawOutput:g,verificationDone:r}}},Zi={class:"pf-c-wizard__main-body"},Ki=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 5 - Review")],-1),Qi={key:1,class:"pf-u-pt-sm"},er={key:0,class:"pf-u-pt-md"},tr=e("span",{class:"pf-c-form__helper-text-icon"},[e("i",{class:"fas fa-exclamation-circle","aria-hidden":"true"})],-1),or={key:1,class:"pf-u-pt-md"},nr={class:"pf-u-pt-sm"},ar={key:0,class:"pf-c-code-block",style:{"max-width":"75%"}},sr={class:"pf-c-code-block__header"},ir={class:"pf-c-code-block__actions"},rr={class:"pf-c-code-block__actions-item"},lr=e("i",{class:"fas fa-copy","aria-hidden":"true"},null,-1),cr=[lr],dr={class:"pf-c-code-block__content"},pr={class:"pf-c-code-block__pre"},_r={class:"pf-c-code-block__code"};function fr(i,o,a,t,m,g){const r=T("task-wizard-task-not-selected"),v=T("task-verify-progress"),f=T("task-final-result-output");return c(),h("div",Zi,[Ki,a.wizardData.selectedTask.id===0?(c(),x(r,{key:0,onGoToPageOne:o[0]||(o[0]=l=>a.wizardData.currentPage=1)})):(c(),h("div",Qi,[j(v,{status:t.progressCheckStatus,onVerificationDone:o[1]||(o[1]=l=>t.verificationDone=!0)},null,8,["status"]),t.verificationDone&&t.errors?(c(),h("div",er,[(c(!0),h(G,null,Z(t.errors,l=>(c(),h("p",{class:"pf-c-form__helper-text pf-m-error",key:l},[tr,R(" "+E(l[0]),1)]))),128))])):y("",!0),t.verificationDone&&t.errors?(c(),h("div",or,[e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:o[2]||(o[2]=l=>t.showRawOutput=!t.showRawOutput)},"View Raw Output")])):y("",!0),e("div",nr,[t.showRawOutput?(c(),h("div",ar,[e("div",sr,[R(" Raw Output "),e("div",ir,[e("div",rr,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Copy to clipboard",onClick:o[3]||(o[3]=l=>t.copy())},cr)])])]),e("div",dr,[e("pre",pr,[e("code",_r,E(a.model),1)])])])):y("",!0)]),t.verificationDone&&!t.errors?(c(),x(f,{key:2,model:a.model},null,8,["model"])):y("",!0)]))])}const ur=$(Ji,[["render",fr]]),mr={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:K,TaskWizardStep1:la,TaskWizardStep2:Ca,TaskWizardStep3:$a,TaskWizardStep4:es,TaskWizardStep5:ur},setup(i,{emit:o}){const a=H({currentPage:1,selectedTask:{id:0,command:"",label:"",description:"",categoryLabel:""}}),t=H({id:0,command:"",label:"",description:"",categoryLabel:""});D(1),D(i.viewstate.editid===0?"add":"edit");const{errors:m,model:g,clearModel:r,updateModel:v,getModel:f,storeModel:l,isLoading:O}=ce(i.viewstate.modelName,i.viewstate.modelObject);q(()=>{f(i.viewstate.editid)});function b(w){Object.assign(g,i.viewstate.modelObject),Object.assign(a.selectedTask,w),g.task_command=w.command,m.value=""}const s=async()=>{await l(g),m.value===""&&(o("formsubmitted",i.viewstate.pagenamesingle+" added!"),Object.assign(a.selectedTask,t),Object.assign(g,i.viewstate.modelObject),p())};B(()=>{Array.isArray(g.device)&&g.device.length>0&&(m.value="")}),B(()=>{g.task_cron!=""&&(m.value="")});function n(){m.value="",a.currentPage>1&&a.currentPage--}function _(){if(a.currentPage===1&&g.task_command===""){m.value="Please select a task";return}if(a.currentPage===2&&g.task_name===""){m.value="Please enter a task name";return}if(a.currentPage===2&&g.task_desc===""){m.value="Please enter a task description";return}if(a.currentPage===3&&g.task_command==="rconfig:download-device"&&g.device.length===0){m.value="Please choose one or more devices";return}if(a.currentPage===3&&g.task_command==="rconfig:download-category"&&g.category.length===0){m.value="Please choose one or more categories";return}if(a.currentPage===3&&g.task_command==="rconfig:download-tag"&&g.tag.length===0){m.value="Please choose one or more tags";return}if(a.currentPage===4&&g.task_cron===""){m.value="Please enter schedule values";return}m.value="",a.currentPage===5||a.currentPage++}function d(w){a.currentPage=w}function p(){o("closeDrawer")}return{wizard:a,setSelectedTask:b,prevPage:n,nextPage:_,setPage:d,close:p,errors:m,model:g,saveTask:s,clearModel:r,isLoading:O}}},hr={key:0,novalidate:"",class:"pf-c-form"},vr={class:"pf-c-wizard",style:{height:"78vh"}},gr={class:"pf-c-wizard__header"},yr=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),wr=[yr],br=e("h2",{"data-ouia-component-type":"PF4/Title","data-ouia-safe":"true","data-ouia-component-id":"OUIA-Generated-Title-4","aria-label":"Simple wizard in modal",id:"wiz-modal-demo-title",class:"pf-c-title pf-m-3xl pf-c-wizard__title"}," Scheduled Task Wizard ",-1),kr={class:"pf-c-wizard__description",id:"wiz-modal-demo-description"},Tr={key:0},Or={key:1},xr={key:2},zr={class:"pf-u-default-color-100"},Sr={class:"pf-c-wizard__toggle","aria-label":"Wizard Toggle","aria-expanded":"false"},Cr=e("span",{class:"pf-c-wizard__toggle-list"},[e("span",{class:"pf-c-wizard__toggle-list-item"},[e("span",{class:"pf-c-wizard__toggle-num"},"1"),R(" Task Type")])],-1),Dr={class:"pf-c-wizard__toggle-icon"},Mr={fill:"currentColor",height:"1em",width:"1em",viewBox:"0 0 320 512","aria-hidden":"true",role:"img",style:{"vertical-align":"-0.125em"}},Er=e("path",{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},null,-1),Pr=[Er],$r={class:"pf-c-wizard__outer-wrap"},Xr={class:"pf-c-wizard__inner-wrap"},jr={class:"pf-c-wizard__nav","aria-label":"Basic wizard steps"},Ar={class:"pf-c-wizard__nav-list"},Lr={class:"pf-c-wizard__nav-item"},Rr={class:"pf-c-wizard__nav-item"},Ur={class:"pf-c-wizard__nav-item"},Fr={class:"pf-c-wizard__nav-item"},Ir={class:"pf-c-wizard__nav-item"},Vr={key:0,class:"pf-c-alert pf-m-danger pf-m-inline taskWizardAlert","aria-label":"Inline danger alert"},Wr=e("div",{class:"pf-c-alert__icon"},[e("i",{class:"fas fa-fw fa-exclamation-circle","aria-hidden":"true"})],-1),Hr={class:"pf-c-alert__title"},Gr=e("span",{class:"pf-screen-reader"},"Danger alert:",-1),Nr={key:1,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Br={key:2,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},qr={key:3,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Yr={key:4,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Jr={key:5,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Zr={class:"pf-c-wizard__footer"},Kr=["disabled"],Qr={class:"pf-c-wizard__footer-cancel"};function el(i,o,a,t,m,g){const r=T("loading-spinner"),v=T("task-wizard-step-1"),f=T("task-wizard-step-2"),l=T("task-wizard-step-3"),O=T("task-wizard-step-4"),b=T("task-wizard-step-5");return c(),h(G,null,[j(r,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?y("",!0):(c(),h("form",hr,[e("div",vr,[e("div",gr,[e("button",{class:"pf-c-button pf-m-plain pf-c-wizard__close",type:"button",onClick:o[0]||(o[0]=(...s)=>t.close&&t.close(...s)),style:{"font-weight":"300","font-size":"medium"}},wr),br,e("p",kr,[t.wizard.selectedTask.id===0?(c(),h("span",Tr,"Create a new scheduled task")):(c(),h("span",Or,"Selected Task")),t.wizard.selectedTask.id>0?(c(),h("span",xr,[R(": "),e("span",zr,E(t.wizard.selectedTask.categoryLabel)+" - "+E(t.wizard.selectedTask.label),1)])):y("",!0)])]),e("button",Sr,[Cr,e("span",Dr,[(c(),h("svg",Mr,Pr))])]),e("div",$r,[e("div",Xr,[e("nav",jr,[e("ol",Ar,[e("li",Lr,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===1}]),onClick:o[1]||(o[1]=U(s=>t.setPage(1),["prevent"]))},"Task Type",2)]),e("li",Rr,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===2}]),onClick:o[2]||(o[2]=U(s=>t.setPage(2),["prevent"]))},"Task Information",2)]),e("li",Ur,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===3}]),onClick:o[3]||(o[3]=U(s=>t.setPage(3),["prevent"]))},"Task Configuration",2)]),e("li",Fr,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===4}]),onClick:o[4]||(o[4]=U(s=>t.setPage(4),["prevent"]))},"Task Schedule",2)]),e("li",Ir,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===5}]),onClick:o[5]||(o[5]=U(s=>t.setPage(5),["prevent"]))},"Review",2)])])]),t.errors?(c(),h("div",Vr,[Wr,e("p",Hr,[Gr,R(" "+E(t.errors),1)])])):y("",!0),t.wizard.currentPage===1?(c(),h("div",Nr,[j(v,{wizardData:t.wizard,onSelectTask:o[6]||(o[6]=s=>t.setSelectedTask(s))},null,8,["wizardData"])])):y("",!0),t.wizard.currentPage===2?(c(),h("div",Br,[j(f,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):y("",!0),t.wizard.currentPage===3?(c(),h("div",qr,[j(l,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):y("",!0),t.wizard.currentPage===4?(c(),h("div",Yr,[j(O,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):y("",!0),t.wizard.currentPage===5?(c(),h("div",Jr,[j(b,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):y("",!0)]),e("footer",Zr,[e("button",{class:F(["pf-c-button pf-m-secondary",{" pf-m-disabled":t.wizard.currentPage===1}]),disabled:t.wizard.currentPage===1,type:"button",onClick:o[7]||(o[7]=U((...s)=>t.prevPage&&t.prevPage(...s),["prevent"]))}," Back ",10,Kr),t.wizard.currentPage!=5?(c(),h("button",{key:0,class:"pf-c-button pf-m-primary",type:"submit",onClick:o[8]||(o[8]=U((...s)=>t.nextPage&&t.nextPage(...s),["prevent"]))},"Next")):y("",!0),t.wizard.currentPage===5?(c(),h("button",{key:1,class:"pf-c-button pf-m-primary",type:"button",onClick:o[9]||(o[9]=U((...s)=>t.saveTask&&t.saveTask(...s),["prevent"]))},"Save Task")):y("",!0),e("div",Qr,[e("button",{"aria-disabled":"false",class:"pf-c-button pf-m-link",type:"button",onClick:o[10]||(o[10]=(...s)=>t.close&&t.close(...s))},"Cancel")])])])])]))],64)}const tl=$(mr,[["render",el]]),ol={components:{TasksWizard:tl,PageHeader:xe,DataTable:ke,SideDrawer:ze,DeleteModal:Oe,ConfirmationModal:Fe,TaskWizardModal:bt,TasksForm:Yn,ModalTasksRunHistory:mt},setup(){const i=H({editid:0,pagename:"Tasks",pagedesc:"rConfig scheduled tasks",pagenamesingle:"Task",modelName:"tasks",openDrawerState:!1,openDrawerStateEdit:!1,drawerOuterWidth:"pf-m-width-100-on-xl pf-m-width-100-on-lg  pf-m-width-100 ",showDeleteModal:!1,showTaskRunHistoryModal:!1,sideDrawerComponentKey:1,sideDrawerComponentKeyEdit:2,pageOptionsState:{page:1,per_page:10},modelObject:{task_name:"",task_desc:"",task_command:"",task_categories:null,task_devices:null,task_tags:null,task_cron:"",task_email_notify:!0,download_report_notify:!0,verbose_download_report_notify:!1,is_system:0,created_at:null,updated_at:null,device:[],category:[],tag:[]},showConfirmModal:!1}),o=D(0),a=oe("create-notification"),t=D(!1),m=D(),{models:g,isLoading:r,dataTablePageChanged:v,closeDrawerState:f,deleteRow:l,formSubmitted:O,confirmDelete:b,destroyModel:s}=Se(i,i.modelName,i.modelObject);q(()=>{v(i.pageOptionsState),w()});const n=H({headers:[{key:"id",label:"Task ID",sortable:!0},{key:"task_name",label:"Task Name",sortable:!1},{key:"cron_plain",label:"Frequency",sortable:!1},{key:"task_desc",label:"Description",sortable:!1},{key:"taskViewRuns",label:"Run history",sortable:!1,isTasksActionLink:!0,actionLink:{label:"view",action:"viewtaskHistory"}},{key:"finished",label:"Last run",sortable:!1}],data:g,isLoading:r});function _(u){i.editid=u.id,i.isClone=!!u.isClone,u.id===0?i.openDrawerState=!i.openDrawerState:i.openDrawerStateEdit=!i.openDrawerStateEdit}function d(u){i.editid=u,i.showConfirmModal=!0}function p(){axios.post("/api/tasks/run-manual-task",{id:i.editid}).then(u=>{a({type:"success",message:u.data.message,duration:3})}).catch(u=>{a({type:"danger",title:"Error",message:u.response.data.message})})}function w(){axios.get("/api/tasks/recent-failed-jobs-count").then(u=>{u.data.success===!0&&(m.value=u.data.data,m.value>0&&(t.value=!0))}).catch(u=>{a({type:"danger",title:"Error",message:u.response.data.message})})}function k(u){o.value=u,i.showTaskRunHistoryModal=!0}return{viewstate:i,dataTablePageChanged:v,openDrawer:_,closeDrawerState:f,deleteRow:l,confirmDelete:b,table:n,destroyModel:s,formSubmitted:O,showConfirmModal:d,runTaskNow:p,recentFailedJobs:m,showRecentFailedJobs:t,viewtaskHistory:k,historyTaskId:o}}},nl={class:"pf-c-page__main",tabindex:"-1"},al={class:"pf-l-flex pf-m-grow pf-m-column pf-m-row-on-lg pf-m-justify-content-flex-end pf-m-justify-content-flex-start-on-lg pf-m-align-content-flex-end-on-lg",style:{"row-gap":"var(--pf-global--spacer--md)"}},sl={class:"pf-l-flex__item",style:{"margin-bottom":"-0.25em"}},il={class:"pf-c-label pf-m-red"},rl={class:"pf-c-label__content"},ll=e("a",{href:"/horizon/dashboard",target:"_blank"},"view",-1),cl=e("div",{class:"pf-c-divider",role:"separator"},null,-1),dl={class:"pf-c-page__main-section pf-m-no-padding"},pl={class:"pf-c-drawer__main"},_l=e("div",{class:"pf-l-flex__item"},"Please complete all fields",-1),fl=e("p",null,"Run task now?",-1),ul=e("p",null,"Are you sure you want to run this task now?",-1),ml=e("p",null,"Run",-1),hl=e("p",null,"Cancel",-1);function vl(i,o,a,t,m,g){const r=T("page-header"),v=T("data-table"),f=T("tasks-form"),l=T("side-drawer"),O=T("delete-modal"),b=T("tasks-wizard"),s=T("task-wizard-modal"),n=T("confirmation-modal"),_=T("modal-tasks-run-history");return c(),h(G,null,[e("main",nl,[j(r,{pagename:t.viewstate.pagename,desc:t.viewstate.pagedesc},be({_:2},[t.showRecentFailedJobs?{name:"header-right-side",fn:L(()=>[e("div",al,[e("div",sl,[e("span",il,[e("span",rl,E(t.recentFailedJobs)+" recent failed jobs ",1),R("-"),ll])])])]),key:"0"}:void 0]),1032,["pagename","desc"]),cl,e("section",dl,[e("div",{class:F(["pf-c-drawer",{"pf-m-expanded":t.viewstate.openDrawerState||t.viewstate.openDrawerStateEdit}])},[e("div",pl,[j(v,{pagename:t.viewstate.pagenamesingle,tabledata:t.table,taskRunBtnEnabled:!0,onPagechanged:t.dataTablePageChanged,onOpenDrawer:o[0]||(o[0]=d=>t.openDrawer(d)),onDeleteRow:o[1]||(o[1]=d=>t.deleteRow(d)),onShowTaskRunConfirmModal:o[2]||(o[2]=d=>t.showConfirmModal(d)),onActionLink:o[3]||(o[3]=d=>t.viewtaskHistory(d))},null,8,["pagename","tabledata","onPagechanged"]),(c(),x(l,{pagename:t.viewstate.pagenamesingle,drawerState:t.viewstate.openDrawerStateEdit,editid:t.viewstate.editid,outerWidth:t.viewstate.drawerOuterWidth,onCloseDrawer:o[6]||(o[6]=d=>t.viewstate.openDrawerStateEdit=!1),key:t.viewstate.sideDrawerComponentKey},{subtext:L(()=>[_l]),form:L(()=>[(c(),x(f,{viewstate:t.viewstate,onCloseDrawer:o[4]||(o[4]=d=>t.viewstate.openDrawerStateEdit=!1),onFormsubmitted:o[5]||(o[5]=d=>t.formSubmitted(d)),key:t.viewstate.editid},null,8,["viewstate"]))]),_:1},8,["pagename","drawerState","editid","outerWidth"]))])],2)])]),t.viewstate.showDeleteModal?(c(),x(O,{key:0,editid:t.viewstate.editid,onCloseModal:o[7]||(o[7]=d=>t.viewstate.showDeleteModal=!1),onConfirmDelete:t.confirmDelete},null,8,["editid","onConfirmDelete"])):y("",!0),t.viewstate.openDrawerState?(c(),x(s,{key:1},{wizard:L(()=>[(c(),x(b,{viewstate:t.viewstate,onCloseDrawer:t.closeDrawerState,onFormsubmitted:o[8]||(o[8]=d=>t.formSubmitted(d)),key:t.viewstate.editid},null,8,["viewstate","onCloseDrawer"]))]),_:1})):y("",!0),t.viewstate.showConfirmModal?(c(),x(n,{key:2,onCloseModal:o[9]||(o[9]=d=>t.viewstate.showConfirmModal=!1),onAction1:t.runTaskNow},{title:L(()=>[fl]),question:L(()=>[ul]),action1:L(()=>[ml]),action2:L(()=>[hl]),_:1},8,["onAction1"])):y("",!0),t.viewstate.showTaskRunHistoryModal?(c(),x(_,{key:3,onClose:o[10]||(o[10]=d=>t.viewstate.showTaskRunHistoryModal=!1),task_id:t.historyTaskId},null,8,["task_id"])):y("",!0)],64)}const Dl=$(ol,[["render",vl]]);export{Dl as default};
