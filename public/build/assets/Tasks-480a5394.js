import{_ as $,f as D,J as he,m as le,o as c,c as u,a as e,B as Z,p as U,h as g,i as oe,e as I,g as B,r as T,t as M,b as j,F as W,k as Y,K as ve,w as R,j as A,n as P,L as N,y as q,v as G,M as ee,d as H,N as ge,q as F,l as O,O as ye,u as we,G as be}from"./app-8906d496.js";import{D as ke}from"./DataTable-7d657004.js";import{a as Te,b as xe}from"./DeleteModal-324e12b3.js";import{L as K}from"./LoadingSpinner-a0d214b0.js";import{P as Oe}from"./PageHeader-cfb6d86c.js";import{S as ze}from"./SideDrawer-46539071.js";import{a as ce,u as Se}from"./ViewFunctions-bfcb00a7.js";import{M as ae,u as se}from"./MultiSelect-9ea02f7f.js";/* empty css            */import"./DataTableToolbar-8dad84f3.js";import"./DataTableSpinner-65e30ce1.js";const Ce={props:{},setup(r,{emit:o}){const n=D(null),t=he();le(n,h=>v());function v(){o("closeModal")}function y(){o("action1"),v()}function i(){o("action3")}return{slots:t,close:v,action1:y,action3:i,clickOutsidetargetConfirmModal:n}}},De={class:"pf-c-backdrop"},Me={class:"pf-l-bullseye"},Ee={class:"pf-c-modal-box pf-m-sm",ref:"clickOutsidetargetConfirmModal"},Pe=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),$e=[Pe],Xe={class:"pf-c-modal-box__header"},je={class:"pf-c-modal-box__title",id:"modal-md-title"},Ae={class:"pf-c-modal-box__body"},Le={id:"modal-md-description"},Re={class:"pf-c-modal-box__footer"};function Ue(r,o,n,t,v,y){return c(),u("div",De,[e("div",Me,[e("div",Ee,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Close dialog",onClick:o[0]||(o[0]=(...i)=>t.close&&t.close(...i))},$e),e("header",Xe,[e("h1",je,[Z(r.$slots,"title")])]),e("div",Ae,[e("p",Le,[Z(r.$slots,"question")])]),e("footer",Re,[e("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:o[1]||(o[1]=U((...i)=>t.action1&&t.action1(...i),["prevent"]))},[Z(r.$slots,"action1")]),t.slots.action2?(c(),u("button",{key:0,class:"pf-c-button pf-m-link",type:"button",onClick:o[2]||(o[2]=U((...i)=>t.close&&t.close(...i),["prevent"]))},[Z(r.$slots,"action2")])):g("",!0),t.slots.action3?(c(),u("button",{key:1,class:"pf-c-button pf-m-link",type:"button",onClick:o[3]||(o[3]=U((...i)=>t.action3&&t.action3(...i),["prevent"]))},[Z(r.$slots,"action3")])):g("",!0)])],512)])])}const Fe=$(Ce,[["render",Ue]]),Ie={props:{task_id:{type:Number,default:0}},components:{LoadingSpinner:K,DataTablePaginate:Te},emits:["close","saveColumns"],setup(r,{emit:o}){const n=D(null),t=oe("create-notification"),v=I({}),y=D(!1),i=D(1),h=oe("formatTime");le(n,b=>x()),B(()=>{f()});function f(){y.value=!0,axios.get("/api/tasks/monitored/"+r.task_id+"/?page="+i.value).then(b=>{Object.assign(v,b),y.value=!1}).catch(b=>{t({type:"danger",title:"Error",message:b.response.data.message}),y.value=!1})}function l(b){console.log(b),i.value=b.page,console.log(i),f()}const x=()=>{o("close")};return{clickOutsidetargetTaskHist:n,close:x,formatTime:h,isLoading:y,pageChanged:l,task_history_items:v}}},We={class:"pf-c-backdrop"},He={class:"pf-l-bullseye"},Ve={class:"pf-c-modal-box pf-m-lg",ref:"clickOutsidetargetTaskHist"},Ge=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),Ne=[Ge],qe={class:"pf-c-modal-box__header"},Be={class:"pf-c-modal-box__title",id:"modal-title"},Ye=e("div",{class:"pf-c-modal-box__description"},[e("div",{class:"pf-c-content"},[e("p",null,"View all runs for this task in the table below")])],-1),Je={class:"pf-c-modal-box__body",id:"modal-description"},Ze={key:0},Ke={key:0},Qe={class:"pf-c-empty-state"},et={class:"pf-c-empty-state__content"},tt=e("i",{class:"fas fa-cubes pf-c-empty-state__icon","aria-hidden":"true"},null,-1),ot=e("h1",{class:"pf-c-title pf-m-lg"},"Task history empty",-1),nt=e("div",{class:"pf-c-empty-state__body"},"Task history not available, you may need to run the task to have some history!",-1),at={key:1},st={class:"pf-c-table pf-m-compact pf-m-grid-md",role:"grid"},it=e("thead",null,[e("tr",{role:"row"},[e("th",{role:"columnheader",scope:"col"},"Task ID"),e("th",{role:"columnheader",scope:"col"},"Monitored task id"),e("th",{role:"columnheader",scope:"col"},"Type"),e("th",{role:"columnheader",scope:"col"},"Command"),e("th",{role:"columnheader",scope:"col"},"Time"),e("td"),e("td")])],-1),rt={role:"rowgroup"},lt={role:"cell","data-label":"Position"},ct={role:"cell","data-label":"Position"},dt={role:"cell","data-label":"Position"},pt={role:"cell","data-label":"Position"},_t={role:"cell","data-label":"Position"},ft={class:"pf-c-modal-box__footer"};function ut(r,o,n,t,v,y){const i=T("loading-spinner"),h=T("data-table-paginate");return c(),u("div",We,[e("div",He,[e("div",Ve,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Close dialog",onClick:o[0]||(o[0]=(...f)=>t.close&&t.close(...f))},Ne),e("header",qe,[e("h1",Be,"Task history for ID: "+M(n.task_id),1),Ye]),e("div",Je,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),!t.isLoading&&Object.keys(t.task_history_items).length>0?(c(),u("div",Ze,[t.task_history_items.data.total===0?(c(),u("div",Ke,[e("div",Qe,[e("div",et,[tt,ot,nt,e("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:o[1]||(o[1]=(...f)=>t.close&&t.close(...f))},"Close")])])])):g("",!0),t.task_history_items.data.total>0?(c(),u("div",at,[e("table",st,[it,e("tbody",rt,[(c(!0),u(W,null,Y(t.task_history_items.data.data,f=>(c(),u("tr",{role:"row",key:f.id},[e("td",lt,M(f.task_id),1),e("td",ct,M(f.monitored_scheduled_task_id),1),e("td",dt,M(f.type),1),e("td",pt,M(f.meta),1),e("td",_t,M(t.formatTime(f.created_at)),1)]))),128))])]),j(h,{from:t.task_history_items.data.from,to:t.task_history_items.data.to,total:t.task_history_items.data.total,current_page:t.task_history_items.data.current_page,last_page:t.task_history_items.data.last_page,onPagechanged:o[2]||(o[2]=f=>t.pageChanged(f))},null,8,["from","to","total","current_page","last_page"])])):g("",!0)])):g("",!0)]),e("footer",ft,[e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:o[3]||(o[3]=(...f)=>t.close&&t.close(...f))},"Close")])],512)])])}const mt=$(Ie,[["render",ut]]),ht={props:{},setup(r,{emit:o}){function n(){o("closeModal")}function t(){o("action1"),n()}return{close:n,action1:t}}},vt={class:"pf-c-backdrop"},gt={class:"pf-l-bullseye"},yt={class:"pf-c-modal-box",style:{"--pf-c-modal-box--Width":"80rem"}};function wt(r,o,n,t,v,y){return c(),u("div",vt,[e("div",gt,[e("div",yt,[Z(r.$slots,"wizard")])])])}const bt=$(ht,[["render",wt]]);var de={exports:{}};(function(r,o){(function(t,v){r.exports=v()})(globalThis,()=>(()=>{var n={794:(i,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CronParser=void 0;var l=f(586),x=function(){function b(s,a,_){a===void 0&&(a=!0),_===void 0&&(_=!1),this.expression=s,this.dayOfWeekStartIndexZero=a,this.monthStartIndexZero=_}return b.prototype.parse=function(){var s=this.extractParts(this.expression);return this.normalize(s),this.validate(s),s},b.prototype.extractParts=function(s){if(!this.expression)throw new Error("Expression is empty");var a=s.trim().split(/[ ]+/);if(a.length<5)throw new Error("Expression has only ".concat(a.length," part").concat(a.length==1?"":"s",". At least 5 parts are required."));if(a.length==5)a.unshift(""),a.push("");else if(a.length==6){var _=/\d{4}$/.test(a[5])||a[4]=="?"||a[2]=="?";_?a.unshift(""):a.push("")}else if(a.length>7)throw new Error("Expression has ".concat(a.length," parts; too many!"));return a},b.prototype.normalize=function(s){var a=this;if(s[3]=s[3].replace("?","*"),s[5]=s[5].replace("?","*"),s[2]=s[2].replace("?","*"),s[0].indexOf("0/")==0&&(s[0]=s[0].replace("0/","*/")),s[1].indexOf("0/")==0&&(s[1]=s[1].replace("0/","*/")),s[2].indexOf("0/")==0&&(s[2]=s[2].replace("0/","*/")),s[3].indexOf("1/")==0&&(s[3]=s[3].replace("1/","*/")),s[4].indexOf("1/")==0&&(s[4]=s[4].replace("1/","*/")),s[6].indexOf("1/")==0&&(s[6]=s[6].replace("1/","*/")),s[5]=s[5].replace(/(^\d)|([^#/\s]\d)/g,function(C){var E=C.replace(/\D/,""),z=E;return a.dayOfWeekStartIndexZero?E=="7"&&(z="0"):z=(parseInt(E)-1).toString(),C.replace(E,z)}),s[5]=="L"&&(s[5]="6"),s[3]=="?"&&(s[3]="*"),s[3].indexOf("W")>-1&&(s[3].indexOf(",")>-1||s[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var _={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var d in _)s[5]=s[5].replace(new RegExp(d,"gi"),_[d].toString());s[4]=s[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(C){var E=C.replace(/\D/,""),z=E;return a.monthStartIndexZero&&(z=(parseInt(E)+1).toString()),C.replace(E,z)});var p={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var w in p)s[4]=s[4].replace(new RegExp(w,"gi"),p[w].toString());s[0]=="0"&&(s[0]=""),!/\*|\-|\,|\//.test(s[2])&&(/\*|\//.test(s[1])||/\*|\//.test(s[0]))&&(s[2]+="-".concat(s[2]));for(var k=0;k<s.length;k++)if(s[k].indexOf(",")!=-1&&(s[k]=s[k].split(",").filter(function(C){return C!==""}).join(",")||"*"),s[k]=="*/1"&&(s[k]="*"),s[k].indexOf("/")>-1&&!/^\*|\-|\,/.test(s[k])){var m=null;switch(k){case 4:m="12";break;case 5:m="6";break;case 6:m="9999";break;default:m=null;break}if(m!==null){var S=s[k].split("/");s[k]="".concat(S[0],"-").concat(m,"/").concat(S[1])}}},b.prototype.validate=function(s){this.assertNoInvalidCharacters("DOW",s[5]),this.assertNoInvalidCharacters("DOM",s[3]),this.validateRange(s)},b.prototype.validateRange=function(s){l.default.secondRange(s[0]),l.default.minuteRange(s[1]),l.default.hourRange(s[2]),l.default.dayOfMonthRange(s[3]),l.default.monthRange(s[4],this.monthStartIndexZero),l.default.dayOfWeekRange(s[5],this.dayOfWeekStartIndexZero)},b.prototype.assertNoInvalidCharacters=function(s,a){var _=a.match(/[A-KM-VX-Z]+/gi);if(_&&_.length)throw new Error("".concat(s," part contains invalid values: '").concat(_.toString(),"'"))},b}();h.CronParser=x},728:(i,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ExpressionDescriptor=void 0;var l=f(910),x=f(794),b=function(){function s(a,_){if(this.expression=a,this.options=_,this.expressionParts=new Array(5),!this.options.locale&&s.defaultLocale&&(this.options.locale=s.defaultLocale),!s.locales[this.options.locale]){var d=Object.keys(s.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(d,"'.")),this.options.locale=d}this.i18n=s.locales[this.options.locale],_.use24HourTimeFormat===void 0&&(_.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return s.toString=function(a,_){var d=_===void 0?{}:_,p=d.throwExceptionOnParseError,w=p===void 0?!0:p,k=d.verbose,m=k===void 0?!1:k,S=d.dayOfWeekStartIndexZero,C=S===void 0?!0:S,E=d.monthStartIndexZero,z=E===void 0?!1:E,L=d.use24HourTimeFormat,X=d.locale,V=X===void 0?null:X,J=d.tzOffset,te=J===void 0?0:J,Q={throwExceptionOnParseError:w,verbose:m,dayOfWeekStartIndexZero:C,monthStartIndexZero:z,use24HourTimeFormat:L,locale:V,tzOffset:te},me=new s(a,Q);return me.getFullDescription()},s.initialize=function(a,_){_===void 0&&(_="en"),s.specialCharacters=["/","-",",","*"],s.defaultLocale=_,a.load(s.locales)},s.prototype.getFullDescription=function(){var a="";try{var _=new x.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=_.parse();var d=this.getTimeOfDayDescription(),p=this.getDayOfMonthDescription(),w=this.getMonthDescription(),k=this.getDayOfWeekDescription(),m=this.getYearDescription();a+=d+p+k+w+m,a=this.transformVerbosity(a,!!this.options.verbose),a=a.charAt(0).toLocaleUpperCase()+a.substr(1)}catch(S){if(!this.options.throwExceptionOnParseError)a=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(S)}return a},s.prototype.getTimeOfDayDescription=function(){var a=this.expressionParts[0],_=this.expressionParts[1],d=this.expressionParts[2],p="";if(!l.StringUtilities.containsAny(_,s.specialCharacters)&&!l.StringUtilities.containsAny(d,s.specialCharacters)&&!l.StringUtilities.containsAny(a,s.specialCharacters))p+=this.i18n.atSpace()+this.formatTime(d,_,a);else if(!a&&_.indexOf("-")>-1&&!(_.indexOf(",")>-1)&&!(_.indexOf("/")>-1)&&!l.StringUtilities.containsAny(d,s.specialCharacters)){var w=_.split("-");p+=l.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(d,w[0],""),this.formatTime(d,w[1],""))}else if(!a&&d.indexOf(",")>-1&&d.indexOf("-")==-1&&d.indexOf("/")==-1&&!l.StringUtilities.containsAny(_,s.specialCharacters)){var k=d.split(",");p+=this.i18n.at();for(var m=0;m<k.length;m++)p+=" ",p+=this.formatTime(k[m],_,""),m<k.length-2&&(p+=","),m==k.length-2&&(p+=this.i18n.spaceAnd())}else{var S=this.getSecondsDescription(),C=this.getMinutesDescription(),E=this.getHoursDescription();if(p+=S,p&&C&&(p+=", "),p+=C,C===E)return p;p&&E&&(p+=", "),p+=E}return p},s.prototype.getSecondsDescription=function(){var a=this,_=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(d){return d},function(d){return l.StringUtilities.format(a.i18n.everyX0Seconds(d),d)},function(d){return a.i18n.secondsX0ThroughX1PastTheMinute()},function(d){return d=="0"?"":parseInt(d)<20?a.i18n.atX0SecondsPastTheMinute(d):a.i18n.atX0SecondsPastTheMinuteGt20()||a.i18n.atX0SecondsPastTheMinute(d)});return _},s.prototype.getMinutesDescription=function(){var a=this,_=this.expressionParts[0],d=this.expressionParts[2],p=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(w){return w},function(w){return l.StringUtilities.format(a.i18n.everyX0Minutes(w),w)},function(w){return a.i18n.minutesX0ThroughX1PastTheHour()},function(w){try{return w=="0"&&d.indexOf("/")==-1&&_==""?a.i18n.everyHour():parseInt(w)<20?a.i18n.atX0MinutesPastTheHour(w):a.i18n.atX0MinutesPastTheHourGt20()||a.i18n.atX0MinutesPastTheHour(w)}catch{return a.i18n.atX0MinutesPastTheHour(w)}});return p},s.prototype.getHoursDescription=function(){var a=this,_=this.expressionParts[2],d=this.getSegmentDescription(_,this.i18n.everyHour(),function(k){return a.formatTime(k,"0","")},function(k){return l.StringUtilities.format(a.i18n.everyX0Hours(k),k)},function(k){return a.i18n.betweenX0AndX1()},function(k){return a.i18n.atX0()});if(d&&_.includes("-")&&this.expressionParts[1]!="0"){var p=Array.from(d.matchAll(/:00/g));if(p.length>1){var w=p[p.length-1].index;d=d.substring(0,w)+":59"+d.substring(w+3)}}return d},s.prototype.getDayOfWeekDescription=function(){var a=this,_=this.i18n.daysOfTheWeek(),d=null;return this.expressionParts[5]=="*"?d="":d=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(p,w){var k=p;p.indexOf("#")>-1?k=p.substring(0,p.indexOf("#")):p.indexOf("L")>-1&&(k=k.replace("L",""));var m=a.i18n.daysOfTheWeekInCase?a.i18n.daysOfTheWeekInCase(w)[parseInt(k)]:_[parseInt(k)];if(p.indexOf("#")>-1){var S=null,C=p.substring(p.indexOf("#")+1),E=p.substring(0,p.indexOf("#"));switch(C){case"1":S=a.i18n.first(E);break;case"2":S=a.i18n.second(E);break;case"3":S=a.i18n.third(E);break;case"4":S=a.i18n.fourth(E);break;case"5":S=a.i18n.fifth(E);break}m=S+" "+m}return m},function(p){return parseInt(p)==1?"":l.StringUtilities.format(a.i18n.commaEveryX0DaysOfTheWeek(p),p)},function(p){var w=p.substring(0,p.indexOf("-")),k=a.expressionParts[3]!="*";return k?a.i18n.commaAndX0ThroughX1(w):a.i18n.commaX0ThroughX1(w)},function(p){var w=null;if(p.indexOf("#")>-1){var k=p.substring(p.indexOf("#")+1);w=a.i18n.commaOnThe(k).trim()+a.i18n.spaceX0OfTheMonth()}else if(p.indexOf("L")>-1)w=a.i18n.commaOnTheLastX0OfTheMonth(p.replace("L",""));else{var m=a.expressionParts[3]!="*";w=m?a.i18n.commaAndOnX0():a.i18n.commaOnlyOnX0(p)}return w}),d},s.prototype.getMonthDescription=function(){var a=this,_=this.i18n.monthsOfTheYear(),d=this.getSegmentDescription(this.expressionParts[4],"",function(p,w){return w&&a.i18n.monthsOfTheYearInCase?a.i18n.monthsOfTheYearInCase(w)[parseInt(p)-1]:_[parseInt(p)-1]},function(p){return parseInt(p)==1?"":l.StringUtilities.format(a.i18n.commaEveryX0Months(p),p)},function(p){return a.i18n.commaMonthX0ThroughMonthX1()||a.i18n.commaX0ThroughX1()},function(p){return a.i18n.commaOnlyInMonthX0?a.i18n.commaOnlyInMonthX0():a.i18n.commaOnlyInX0()});return d},s.prototype.getDayOfMonthDescription=function(){var a=this,_=null,d=this.expressionParts[3];switch(d){case"L":_=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":_=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var p=d.match(/(\d{1,2}W)|(W\d{1,2})/);if(p){var w=parseInt(p[0].replace("W","")),k=w==1?this.i18n.firstWeekday():l.StringUtilities.format(this.i18n.weekdayNearestDayX0(),w.toString());_=l.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),k);break}else{var m=d.match(/L-(\d{1,2})/);if(m){var S=m[1];_=l.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(S),S);break}else{if(d=="*"&&this.expressionParts[5]!="*")return"";_=this.getSegmentDescription(d,this.i18n.commaEveryDay(),function(C){return C=="L"?a.i18n.lastDay():a.i18n.dayX0?l.StringUtilities.format(a.i18n.dayX0(),C):C},function(C){return C=="1"?a.i18n.commaEveryDay():a.i18n.commaEveryX0Days(C)},function(C){return a.i18n.commaBetweenDayX0AndX1OfTheMonth(C)},function(C){return a.i18n.commaOnDayX0OfTheMonth(C)})}break}}return _},s.prototype.getYearDescription=function(){var a=this,_=this.getSegmentDescription(this.expressionParts[6],"",function(d){return/^\d+$/.test(d)?new Date(parseInt(d),1).getFullYear().toString():d},function(d){return l.StringUtilities.format(a.i18n.commaEveryX0Years(d),d)},function(d){return a.i18n.commaYearX0ThroughYearX1()||a.i18n.commaX0ThroughX1()},function(d){return a.i18n.commaOnlyInYearX0?a.i18n.commaOnlyInYearX0():a.i18n.commaOnlyInX0()});return _},s.prototype.getSegmentDescription=function(a,_,d,p,w,k){var m=null,S=a.indexOf("/")>-1,C=a.indexOf("-")>-1,E=a.indexOf(",")>-1;if(!a)m="";else if(a==="*")m=_;else if(!S&&!C&&!E)m=l.StringUtilities.format(k(a),d(a));else if(E){for(var z=a.split(","),L="",X=0;X<z.length;X++)if(X>0&&z.length>2&&(L+=",",X<z.length-1&&(L+=" ")),X>0&&z.length>1&&(X==z.length-1||z.length==2)&&(L+="".concat(this.i18n.spaceAnd()," ")),z[X].indexOf("/")>-1||z[X].indexOf("-")>-1){var V=z[X].indexOf("-")>-1&&z[X].indexOf("/")==-1,J=this.getSegmentDescription(z[X],_,d,p,V?this.i18n.commaX0ThroughX1:w,k);V&&(J=J.replace(", ","")),L+=J}else S?L+=this.getSegmentDescription(z[X],_,d,p,w,k):L+=d(z[X]);S?m=L:m=l.StringUtilities.format(k(a),L)}else if(S){var z=a.split("/");if(m=l.StringUtilities.format(p(z[1]),z[1]),z[0].indexOf("-")>-1){var te=this.generateRangeSegmentDescription(z[0],w,d);te.indexOf(", ")!=0&&(m+=", "),m+=te}else if(z[0].indexOf("*")==-1){var Q=l.StringUtilities.format(k(z[0]),d(z[0]));Q=Q.replace(", ",""),m+=l.StringUtilities.format(this.i18n.commaStartingX0(),Q)}}else C&&(m=this.generateRangeSegmentDescription(a,w,d));return m},s.prototype.generateRangeSegmentDescription=function(a,_,d){var p="",w=a.split("-"),k=d(w[0],1),m=d(w[1],2),S=_(a);return p+=l.StringUtilities.format(S,k,m),p},s.prototype.formatTime=function(a,_,d){var p=parseInt(a)+(this.options.tzOffset?this.options.tzOffset:0);p>=24?p=p-24:p<0&&(p=24+p);var w="",k=!1;this.options.use24HourTimeFormat||(k=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),w=k?"".concat(this.getPeriod(p)," "):" ".concat(this.getPeriod(p)),p>12&&(p-=12),p===0&&(p=12));var m=_,S="";return d&&(S=":".concat(("00"+d).substring(d.length))),"".concat(k?w:"").concat(("00"+p.toString()).substring(p.toString().length),":").concat(("00"+m.toString()).substring(m.toString().length)).concat(S).concat(k?"":w)},s.prototype.transformVerbosity=function(a,_){return _||(a=a.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),a=a.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),a=a.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),a=a.replace(/\, ?$/,"")),a},s.prototype.getPeriod=function(a){return a>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},s.locales={},s}();h.ExpressionDescriptor=b},336:(i,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.enLocaleLoader=void 0;var l=f(751),x=function(){function b(){}return b.prototype.load=function(s){s.en=new l.en},b}();h.enLocaleLoader=x},751:(i,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.en=void 0;var f=function(){function l(){}return l.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},l.prototype.atX0MinutesPastTheHourGt20=function(){return null},l.prototype.commaMonthX0ThroughMonthX1=function(){return null},l.prototype.commaYearX0ThroughYearX1=function(){return null},l.prototype.use24HourTimeFormatByDefault=function(){return!1},l.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occured when generating the expression description.  Check the cron expression syntax."},l.prototype.everyMinute=function(){return"every minute"},l.prototype.everyHour=function(){return"every hour"},l.prototype.atSpace=function(){return"At "},l.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},l.prototype.at=function(){return"At"},l.prototype.spaceAnd=function(){return" and"},l.prototype.everySecond=function(){return"every second"},l.prototype.everyX0Seconds=function(){return"every %s seconds"},l.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},l.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},l.prototype.everyX0Minutes=function(){return"every %s minutes"},l.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},l.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},l.prototype.everyX0Hours=function(){return"every %s hours"},l.prototype.betweenX0AndX1=function(){return"between %s and %s"},l.prototype.atX0=function(){return"at %s"},l.prototype.commaEveryDay=function(){return", every day"},l.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},l.prototype.commaX0ThroughX1=function(){return", %s through %s"},l.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},l.prototype.first=function(){return"first"},l.prototype.second=function(){return"second"},l.prototype.third=function(){return"third"},l.prototype.fourth=function(){return"fourth"},l.prototype.fifth=function(){return"fifth"},l.prototype.commaOnThe=function(){return", on the "},l.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},l.prototype.lastDay=function(){return"the last day"},l.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},l.prototype.commaOnlyOnX0=function(){return", only on %s"},l.prototype.commaAndOnX0=function(){return", and on %s"},l.prototype.commaEveryX0Months=function(){return", every %s months"},l.prototype.commaOnlyInX0=function(){return", only in %s"},l.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},l.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},l.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},l.prototype.firstWeekday=function(){return"first weekday"},l.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},l.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},l.prototype.commaEveryX0Days=function(){return", every %s days"},l.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},l.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},l.prototype.commaEveryHour=function(){return", every hour"},l.prototype.commaEveryX0Years=function(){return", every %s years"},l.prototype.commaStartingX0=function(){return", starting %s"},l.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},l}();h.en=f},586:(i,h)=>{Object.defineProperty(h,"__esModule",{value:!0});function f(x,b){if(!x)throw new Error(b)}var l=function(){function x(){}return x.secondRange=function(b){for(var s=b.split(","),a=0;a<s.length;a++)if(!isNaN(parseInt(s[a],10))){var _=parseInt(s[a],10);f(_>=0&&_<=59,"seconds part must be >= 0 and <= 59")}},x.minuteRange=function(b){for(var s=b.split(","),a=0;a<s.length;a++)if(!isNaN(parseInt(s[a],10))){var _=parseInt(s[a],10);f(_>=0&&_<=59,"minutes part must be >= 0 and <= 59")}},x.hourRange=function(b){for(var s=b.split(","),a=0;a<s.length;a++)if(!isNaN(parseInt(s[a],10))){var _=parseInt(s[a],10);f(_>=0&&_<=23,"hours part must be >= 0 and <= 23")}},x.dayOfMonthRange=function(b){for(var s=b.split(","),a=0;a<s.length;a++)if(!isNaN(parseInt(s[a],10))){var _=parseInt(s[a],10);f(_>=1&&_<=31,"DOM part must be >= 1 and <= 31")}},x.monthRange=function(b,s){for(var a=b.split(","),_=0;_<a.length;_++)if(!isNaN(parseInt(a[_],10))){var d=parseInt(a[_],10);f(d>=1&&d<=12,s?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},x.dayOfWeekRange=function(b,s){for(var a=b.split(","),_=0;_<a.length;_++)if(!isNaN(parseInt(a[_],10))){var d=parseInt(a[_],10);f(d>=0&&d<=6,s?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},x}();h.default=l},910:(i,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StringUtilities=void 0;var f=function(){function l(){}return l.format=function(x){for(var b=[],s=1;s<arguments.length;s++)b[s-1]=arguments[s];return x.replace(/%s/g,function(a){return b.shift()})},l.containsAny=function(x,b){return b.some(function(s){return x.indexOf(s)>-1})},l}();h.StringUtilities=f}},t={};function v(i){var h=t[i];if(h!==void 0)return h.exports;var f=t[i]={exports:{}};return n[i](f,f.exports,v),f.exports}var y={};return(()=>{var i=y;Object.defineProperty(i,"__esModule",{value:!0}),i.toString=void 0;var h=v(728),f=v(336);h.ExpressionDescriptor.initialize(new f.enLocaleLoader),i.default=h.ExpressionDescriptor;var l=h.ExpressionDescriptor.toString;i.toString=l})(),y})())})(de);var kt=de.exports;const ie=ve(kt);function re(){return{commands:I({1:{id:1,command:"rconfig:download-device",label:"Devices",description:"Get configs for one or many devices",categoryLabel:"Config Downloads",iconClass:"fa fa-th"},2:{id:2,command:"rconfig:download-category",label:"Categories",description:"Get configs for one or many categories",categoryLabel:"Config Downloads",iconClass:"fa fa-object-group"},3:{id:3,command:"rconfig:download-tag",label:"Tags",description:"Get configs for one or many tags",categoryLabel:"Config Downloads",iconClass:"fa fa-tag"}})}}const Tt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ae},setup(r){const{results:o,isLoading:n}=se("device/all-device-names");function t(v){r.model.device=v}return{updateOptions:t,devices:o,isLoading:n}}},xt={class:"pf-c-wizard__main-body"},Ot={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},zt={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"download_report_notify-switch-reverse-1"},St=e("span",{class:"pf-c-switch__toggle"},null,-1),Ct=e("span",{class:"pf-c-switch__label pf-m-on",id:"download_report_notify-switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1),Dt=e("span",{class:"pf-c-switch__label pf-m-off",id:"download_report_notify-switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1),Mt=e("br",null,null,-1),Et=e("br",null,null,-1),Pt={class:"pf-c-switch pf-m-reverse",for:"verbose_download_report_notify-switch-reverse-2"},$t=e("span",{class:"pf-c-switch__toggle"},null,-1),Xt=e("span",{class:"pf-c-switch__label pf-m-on",id:"verbose_download_report_notify-switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1),jt=e("span",{class:"pf-c-switch__label pf-m-off",id:"verbose_download_report_notify-switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1);function At(r,o,n,t,v,y){const i=T("loading-spinner"),h=T("multi-select");return c(),u("div",xt,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?g("",!0):(c(),u("div",Ot,[j(h,{options:t.devices,modelOptions:n.model.device,msLabel:"device_name",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:o[0]||(o[0]=f=>t.updateOptions(f)),fieldType:"devices"},{"multi-select-label":R(()=>[A("Choose devices")]),"multi-select-subtext":R(()=>[A("Select one or more devices for this task.")]),_:1},8,["options","modelOptions"]),e("label",zt,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"download_report_notify-switch-reverse-1","aria-labelledby":"download_report_notify-switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[1]||(o[1]=f=>n.model.download_report_notify=f)},null,512),[[N,n.model.download_report_notify]]),St,Ct,Dt]),Mt,Et,e("label",Pt,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"verbose_download_report_notify-switch-reverse-2","aria-labelledby":"verbose_download_report_notify-switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":o[2]||(o[2]=f=>n.model.verbose_download_report_notify=f)},null,512),[[N,n.model.verbose_download_report_notify]]),$t,Xt,jt])]))])}const pe=$(Tt,[["render",At]]),Lt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ae},setup(r){const{results:o,isLoading:n}=se("categories");function t(v){r.model.category=v}return{updateOptions:t,categories:o,isLoading:n}}},Rt={class:"pf-c-wizard__main-body"},Ut={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},Ft={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},It=e("span",{class:"pf-c-switch__toggle"},null,-1),Wt=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1),Ht=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1),Vt=e("br",null,null,-1),Gt=e("br",null,null,-1),Nt={class:"pf-c-switch pf-m-reverse",for:"switch-reverse-2"},qt=e("span",{class:"pf-c-switch__toggle"},null,-1),Bt=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1),Yt=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1);function Jt(r,o,n,t,v,y){const i=T("loading-spinner"),h=T("multi-select");return c(),u("div",Rt,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?g("",!0):(c(),u("div",Ut,[j(h,{options:t.categories,modelOptions:n.model.category,msLabel:"categoryName",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:o[0]||(o[0]=f=>t.updateOptions(f)),fieldType:"categories"},{"multi-select-label":R(()=>[A("Choose categories")]),"multi-select-subtext":R(()=>[A("Select one or more categories for this task.")]),_:1},8,["options","modelOptions"]),e("label",Ft,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[1]||(o[1]=f=>n.model.download_report_notify=f)},null,512),[[N,n.model.download_report_notify]]),It,Wt,Ht]),Vt,Gt,e("label",Nt,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-2","aria-labelledby":"switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":o[2]||(o[2]=f=>n.model.verbose_download_report_notify=f)},null,512),[[N,n.model.verbose_download_report_notify]]),qt,Bt,Yt])]))])}const _e=$(Lt,[["render",Jt]]),Zt={props:{model:{type:Object}},components:{LoadingSpinner:K,MultiSelect:ae},setup(r){const{results:o,isLoading:n}=se("tags");function t(v){r.model.tag=v,r.model.task_tags=v}return{updateOptions:t,tags:o,isLoading:n}}},Kt={class:"pf-c-wizard__main-body"},Qt={key:0,class:"pf-u-w-100 pf-u-w-75-on-xl"},eo={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},to=e("span",{class:"pf-c-switch__toggle"},null,-1),oo=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send failure report on",-1),no=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send failure report off",-1),ao=e("br",null,null,-1),so=e("br",null,null,-1),io={class:"pf-c-switch pf-m-reverse",for:"switch-reverse-2"},ro=e("span",{class:"pf-c-switch__toggle"},null,-1),lo=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-2-on","aria-hidden":"true"},"Send verbose report on",-1),co=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-2-off","aria-hidden":"true"},"Send verbose report off",-1);function po(r,o,n,t,v,y){const i=T("loading-spinner"),h=T("multi-select");return c(),u("div",Kt,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?g("",!0):(c(),u("div",Qt,[j(h,{options:t.tags,modelOptions:n.model.tag,msLabel:"tagname",msValue:"id",keepOpenOnSelect:!0,onOptionsUpdated:o[0]||(o[0]=f=>t.updateOptions(f)),fieldType:"tags"},{"multi-select-label":R(()=>[A("Choose tags")]),"multi-select-subtext":R(()=>[A("Select one or more tags for this task.")]),_:1},8,["options","modelOptions"]),e("label",eo,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[1]||(o[1]=f=>n.model.download_report_notify=f)},null,512),[[N,n.model.download_report_notify]]),to,oo,no]),ao,so,e("label",io,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-2","aria-labelledby":"switch-reverse-2-on",name:"switchExample2","onUpdate:modelValue":o[2]||(o[2]=f=>n.model.verbose_download_report_notify=f)},null,512),[[N,n.model.verbose_download_report_notify]]),ro,lo,co])]))])}const fe=$(Zt,[["render",po]]),_o={props:{cronProp:{type:Array}},components:{},setup(r){const o=I({minute:"",hour:"",day:"",month:"",weekday:""}),n=I({minute:r.cronProp[0]?r.cronProp[0]:"*",hour:r.cronProp[1]?r.cronProp[1]:"*",day:r.cronProp[2]?r.cronProp[2]:"*",month:r.cronProp[3]?r.cronProp[3]:"*",weekday:r.cronProp[4]?r.cronProp[4]:"*"});function t(){n.minute?(r.cronProp[0]=n.minute,o.minute=""):o.minute="Minute is required"}function v(){n.hour?(r.cronProp[1]=n.hour,o.hour=""):o.hour="Hour is required"}function y(){n.day?(r.cronProp[2]=n.day,o.day=""):o.day="Day is required"}function i(){n.month?(r.cronProp[3]=n.month,o.month=""):o.month="Month is required"}function h(){n.weekday?(r.cronProp[4]=n.weekday,o.weekday=""):o.weekday="Weekday is required"}return q(()=>{n.minute=r.cronProp[0],n.hour=r.cronProp[1],n.day=r.cronProp[2],n.month=r.cronProp[3],n.weekday=r.cronProp[4],o.minute="",o.hour="",o.day="",o.month="",o.weekday=""}),{cronReturnArray:n,errors:o,onChangeMin:t,onChangeHour:v,onChangeDay:y,onChangeMonth:i,onChangeWeekday:h}}},fo={key:0,class:"pf-m-error"},uo=e("p",{class:"pf-c-form__helper-text pf-m-error",id:"form-help-text-info-helper","aria-live":"polite"},[e("span",{class:"pf-c-form__helper-text-icon"},[e("i",{class:"fas fa-exclamation-circle","aria-hidden":"true"})]),A(" Error Notice: ")],-1),mo={class:"pf-c-form__helper-text pf-m-error pf-u-ml-lg"},ho={class:"pf-c-form__group pf-u-pt-md"},vo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Minute"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),go={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},yo={class:"pf-l-grid__item pf-m-3-col"},wo={class:"pf-l-grid__item pf-m-9-col"},bo=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every minute (*)</option><option value="*/2">Every other minute (*/2)</option><option value="*/5">Every 5 minutes (*/5)</option><option value="*/10">Every 10 minutes (*/10)</option><option value="*/15">Every 15 minutes (*/15)</option><option value="0,30">Every 30 minutes (0,30)</option><option value="--" disabled>-- Minutes --</option><option value="0">:00 top of the hour (0)</option><option value="1">:01 (1)</option><option value="2">:02 (2)</option><option value="3">:03 (3)</option><option value="4">:04 (4)</option><option value="5">:05 (5)</option><option value="6">:06 (6)</option><option value="7">:07 (7)</option><option value="8">:08 (8)</option><option value="9">:09 (9)</option><option value="10">:10 (10)</option><option value="11">:11 (11)</option><option value="12">:12 (12)</option><option value="13">:13 (13)</option><option value="14">:14 (14)</option><option value="15">:15 quarter past (15)</option><option value="16">:16 (16)</option><option value="17">:17 (17)</option><option value="18">:18 (18)</option><option value="19">:19 (19)</option><option value="20">:20 (20)</option><option value="21">:21 (21)</option><option value="22">:22 (22)</option><option value="23">:23 (23)</option><option value="24">:24 (24)</option><option value="25">:25 (25)</option><option value="26">:26 (26)</option><option value="27">:27 (27)</option><option value="28">:28 (28)</option><option value="29">:29 (29)</option><option value="30">:30 half past (30)</option><option value="31">:31 (31)</option><option value="32">:32 (32)</option><option value="33">:33 (33)</option><option value="34">:34 (34)</option><option value="35">:35 (35)</option><option value="36">:36 (36)</option><option value="37">:37 (37)</option><option value="38">:38 (38)</option><option value="39">:39 (39)</option><option value="40">:40 (40)</option><option value="41">:41 (41)</option><option value="42">:42 (42)</option><option value="43">:43 (43)</option><option value="44">:44 (44)</option><option value="45">:45 quarter til (45)</option><option value="46">:46 (46)</option><option value="47">:47 (47)</option><option value="48">:48 (48)</option><option value="49">:49 (49)</option><option value="50">:50 (50)</option><option value="51">:51 (51)</option><option value="52">:52 (52)</option><option value="53">:53 (53)</option><option value="54">:54 (54)</option><option value="55">:55 (55)</option><option value="56">:56 (56)</option><option value="57">:57 (57)</option><option value="58">:58 (58)</option><option value="59">:59 (59)</option>',68),ko=[bo],To={class:"pf-c-form__group pf-u-pt-md"},xo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Hour"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Oo={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},zo={class:"pf-l-grid__item pf-m-3-col"},So={class:"pf-l-grid__item pf-m-9-col"},Co=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every hour (*)</option><option value="*/2">Every other hour (*/2)</option><option value="*/3">Every 3 hours (*/3)</option><option value="*/4">Every 4 hours (*/4)</option><option value="*/6">Every 6 hours (*/6)</option><option value="0,12">Every 12 hours (0,12)</option><option value="--" disabled>-- Hours --</option><option value="0">12:00 a.m. midnight (0)</option><option value="1">1:00 a.m. (1)</option><option value="2">2:00 a.m. (2)</option><option value="3">3:00 a.m. (3)</option><option value="4">4:00 a.m. (4)</option><option value="5">5:00 a.m. (5)</option><option value="6">6:00 a.m. (6)</option><option value="7">7:00 a.m. (7)</option><option value="8">8:00 a.m. (8)</option><option value="9">9:00 a.m. (9)</option><option value="10">10:00 a.m. (10)</option><option value="11">11:00 a.m. (11)</option><option value="12">12:00 p.m. noon (12)</option><option value="13">1:00 p.m. (13)</option><option value="14">2:00 p.m. (14)</option><option value="15">3:00 p.m. (15)</option><option value="16">4:00 p.m. (16)</option><option value="17">5:00 p.m. (17)</option><option value="18">6:00 p.m. (18)</option><option value="19">7:00 p.m. (19)</option><option value="20">8:00 p.m. (20)</option><option value="21">9:00 p.m. (21)</option><option value="22">10:00 p.m. (22)</option><option value="23">11:00 p.m. (23)</option>',32),Do=[Co],Mo={class:"pf-c-form__group pf-u-pt-md"},Eo=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Day"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Po={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},$o={class:"pf-l-grid__item pf-m-3-col"},Xo={class:"pf-l-grid__item pf-m-9-col"},jo=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every day (*)</option><option value="*/2">Every other day (*/2)</option><option value="1,15">1st and 15th (1,15)</option><option value="--" disabled>-- Days --</option><option value="1">1st (1)</option><option value="2">2nd (2)</option><option value="3">3rd (3)</option><option value="4">4th (4)</option><option value="5">5th (5)</option><option value="6">6th (6)</option><option value="7">7th (7)</option><option value="8">8th (8)</option><option value="9">9th (9)</option><option value="10">10th (10)</option><option value="11">11th (11)</option><option value="12">12th (12)</option><option value="13">13th (13)</option><option value="14">14th (14)</option><option value="15">15th (15)</option><option value="16">16th (16)</option><option value="17">17th (17)</option><option value="18">18th (18)</option><option value="19">19th (19)</option><option value="20">20th (20)</option><option value="21">21st (21)</option><option value="22">22nd (22)</option><option value="23">23rd (23)</option><option value="24">24th (24)</option><option value="25">25th (25)</option><option value="26">26th (26)</option><option value="27">27th (27)</option><option value="28">28th (28)</option><option value="29">29th (29)</option><option value="30">30th (30)</option><option value="31">31st (31)</option>',36),Ao=[jo],Lo={class:"pf-c-form__group pf-u-pt-md"},Ro=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Month"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Uo={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},Fo={class:"pf-l-grid__item pf-m-3-col"},Io={class:"pf-l-grid__item pf-m-9-col"},Wo=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every month (*)</option><option value="*/2">Every other month (*/2)</option><option value="*/4">Every 3 months (*/4)</option><option value="1,7">Every 6 months (1,7)</option><option value="--" disabled>-- Months --</option><option value="1">January (1)</option><option value="2">February (2)</option><option value="3">March (3)</option><option value="4">April (4)</option><option value="5">May (5)</option><option value="6">June (6)</option><option value="7">July (7)</option><option value="8">August (8)</option><option value="9">September (9)</option><option value="10">October (10)</option><option value="11">November (11)</option><option value="12">December (12)</option>',18),Ho=[Wo],Vo={class:"pf-c-form__group pf-u-pt-md"},Go=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Weekday"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),No={class:"pf-c-form__group-control pf-l-grid pf-m-gutter"},qo={class:"pf-l-grid__item pf-m-3-col"},Bo={class:"pf-l-grid__item pf-m-9-col"},Yo=H('<option value="--" disabled>-- Select an option --</option><option value="*">Every weekday (*)</option><option value="1-5">Mon thru Fri (1-5)</option><option value="0,6">Sat and Sun (6,0)</option><option value="1,3,5">Mon, Wed, Fri (1,3,5)</option><option value="2,4">Tues, Thurs (2,4)</option><option value="2,5">Tues, Fri (2,5)</option><option value="--" disabled>-- Weekdays --</option><option value="0">Sunday (0)</option><option value="1">Monday (1)</option><option value="2">Tuesday (2)</option><option value="3">Wednesday (3)</option><option value="4">Thursday (4)</option><option value="5">Friday (5)</option><option value="6">Saturday (6)</option>',15),Jo=[Yo];function Zo(r,o,n,t,v,y){return c(),u("div",null,[t.errors.minute||t.errors.hour||t.errors.day||t.errors.month||t.errors.weekday?(c(),u("div",fo,[uo,(c(!0),u(W,null,Y(t.errors,i=>(c(),u("p",mo,M(i),1))),256))])):g("",!0),e("div",ho,[vo,e("div",go,[e("div",yo,[P(e("input",{type:"text",name:"minute",id:"minute","onUpdate:modelValue":o[0]||(o[0]=i=>t.cronReturnArray.minute=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:o[1]||(o[1]=(...i)=>t.onChangeMin&&t.onChangeMin(...i))},null,544),[[G,t.cronReturnArray.minute]])]),e("div",wo,[P(e("select",{id:"minuteSelect",class:"pf-c-form-control","onUpdate:modelValue":o[2]||(o[2]=i=>t.cronReturnArray.minute=i),onChange:o[3]||(o[3]=(...i)=>t.onChangeMin&&t.onChangeMin(...i))},ko,544),[[ee,t.cronReturnArray.minute]])])])]),e("div",To,[xo,e("div",Oo,[e("div",zo,[P(e("input",{type:"text",name:"hour",id:"hour","onUpdate:modelValue":o[4]||(o[4]=i=>t.cronReturnArray.hour=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:o[5]||(o[5]=(...i)=>t.onChangeHour&&t.onChangeHour(...i))},null,544),[[G,t.cronReturnArray.hour]])]),e("div",So,[P(e("select",{id:"hourSelect",class:"pf-c-form-control","onUpdate:modelValue":o[6]||(o[6]=i=>t.cronReturnArray.hour=i),onChange:o[7]||(o[7]=(...i)=>t.onChangeHour&&t.onChangeHour(...i))},Do,544),[[ee,t.cronReturnArray.hour]])])])]),e("div",Mo,[Eo,e("div",Po,[e("div",$o,[P(e("input",{type:"text",name:"day",id:"day","onUpdate:modelValue":o[8]||(o[8]=i=>t.cronReturnArray.day=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:o[9]||(o[9]=(...i)=>t.onChangeDay&&t.onChangeDay(...i))},null,544),[[G,t.cronReturnArray.day]])]),e("div",Xo,[P(e("select",{id:"daySelect",class:"pf-c-form-control","onUpdate:modelValue":o[10]||(o[10]=i=>t.cronReturnArray.day=i),onChange:o[11]||(o[11]=(...i)=>t.onChangeDay&&t.onChangeDay(...i))},Ao,544),[[ee,t.cronReturnArray.day]])])])]),e("div",Lo,[Ro,e("div",Uo,[e("div",Fo,[P(e("input",{type:"text",name:"month",id:"month","onUpdate:modelValue":o[12]||(o[12]=i=>t.cronReturnArray.month=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onInput:o[13]||(o[13]=(...i)=>t.onChangeMonth&&t.onChangeMonth(...i))},null,544),[[G,t.cronReturnArray.month]])]),e("div",Io,[P(e("select",{id:"monthSelect",class:"pf-c-form-control","onUpdate:modelValue":o[14]||(o[14]=i=>t.cronReturnArray.month=i),onChange:o[15]||(o[15]=(...i)=>t.onChangeMonth&&t.onChangeMonth(...i))},Ho,544),[[ee,t.cronReturnArray.month]])])])]),e("div",Vo,[Go,e("div",No,[e("div",qo,[P(e("input",{type:"text",name:"weekday",id:"weekday","onUpdate:modelValue":o[16]||(o[16]=i=>t.cronReturnArray.weekday=i),autocomplete:"off",spellcheck:"false",class:"pf-c-form-control",onChange:o[17]||(o[17]=(...i)=>t.onChangeWeekday&&t.onChangeWeekday(...i))},null,544),[[G,t.cronReturnArray.weekday]])]),e("div",Bo,[P(e("select",{id:"weekdaySelect",class:"pf-c-form-control","onUpdate:modelValue":o[18]||(o[18]=i=>t.cronReturnArray.weekday=i),onChange:o[19]||(o[19]=(...i)=>t.onChangeWeekday&&t.onChangeWeekday(...i))},Jo,544),[[ee,t.cronReturnArray.weekday]])])])])])}const ue=$(_o,[["render",Zo]]),Ko={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:K,TaskCronForm:ue,TaskWizardStep31:pe,TaskWizardStep32:_e,TaskWizardStep33:fe},setup(r,{emit:o}){const{commands:n}=re(),t=D(""),v=I({command:""}),y=D(!1),i=D(!1),h=D(!1),f=D(!1),l=D(r.viewstate.editid===0?"add":"edit"),{errors:x,model:b,clearModel:s,updateModel:a,getModel:_,storeModel:d,isLoading:p}=ce(r.viewstate.modelName,r.viewstate.modelObject),w=D(""),k=D([]),m=D(Math.random());B(()=>{_(r.viewstate.editid)});const S=async()=>{r.viewstate.editid!=0?await a(b):await d(b),x.value===""&&(o("formsubmitted",r.viewstate.pagenamesingle+" "+l.value+"ed!"),E())};function C(L){var X=L.target.value,V=X.split(" ");b.task_cron=V}function E(){o("closeDrawer")}ge(()=>b.task_command,()=>{z(n,b.task_command),Object.assign(v,n[t.value])});function z(L,X){Object.entries(L).forEach(V=>{X.startsWith(V[1].command)&&(t.value=V[0])})}return q(()=>{b.task_cron&&(w.value=ie.toString(b.task_cron.join(" ")))}),{selectedCmdObj:v,showFieldGroup1:y,showFieldGroup2:i,showFieldGroup3:h,showRoleOptions:f,close:E,errors:x,model:b,saveModels:S,clearModel:s,isLoading:p,selectExample:C,cronToHuman:w,cronFormKey:m,cron:k}}},Qo={key:0,novalidate:"",class:"pf-c-form"},en={class:"pf-c-form__group"},tn=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Task Type"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),on={class:"pf-c-form__group-control pf-u-color-300"},nn={class:"pf-c-form__field-group-toggle"},an={class:"pf-c-form__field-group-toggle-button"},sn=e("span",{class:"pf-c-form__field-group-toggle-icon"},[e("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1),rn=[sn],ln=e("div",{class:"pf-c-form__field-group-header-main"},[e("div",{class:"pf-c-form__field-group-header-title"},[e("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Info")])],-1),cn=[ln],dn={key:0,class:"pf-c-form__field-group-body"},pn={class:"pf-c-form__group"},_n=H('<div class="pf-c-form__group-label"><label class="pf-c-form__label" for="task_name"><span class="pf-c-form__label-text">Task Name</span><span class="pf-c-form__label-required" aria-hidden="true">*</span></label><button class="pf-c-form__group-label-help" aria-label="More info" tabindex="-1"><i class="pficon pf-icon-help" aria-hidden="true"></i></button></div>',1),fn={class:"pf-c-form__group-control"},un={class:"pf-c-form__group",style:{"padding-top":"0px","padding-bottom":"30px"}},mn=H('<div class="pf-c-form__group-label"><label class="pf-c-form__label" for="task_desc"><span class="pf-c-form__label-text pf-u-color-300">Task Description</span><span class="pf-c-form__label-required" aria-hidden="true">*</span></label><button class="pf-c-form__group-label-help" aria-label="More info" tabindex="-1"><i class="pficon pf-icon-help" aria-hidden="true"></i></button></div>',1),hn={class:"pf-c-form__group-control"},vn={class:"pf-c-form__field-group-toggle"},gn={class:"pf-c-form__field-group-toggle-button"},yn=e("span",{class:"pf-c-form__field-group-toggle-icon"},[e("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1),wn=[yn],bn=e("div",{class:"pf-c-form__field-group-header-main"},[e("div",{class:"pf-c-form__field-group-header-title"},[e("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Details")])],-1),kn=[bn],Tn={key:0,class:"pf-c-form__field-group-body"},xn={class:"pf-c-form__field-group-toggle"},On={class:"pf-c-form__field-group-toggle-button"},zn=e("span",{class:"pf-c-form__field-group-toggle-icon"},[e("i",{class:"fas fa-angle-right","aria-hidden":"true"})],-1),Sn=[zn],Cn=e("div",{class:"pf-c-form__field-group-header-main"},[e("div",{class:"pf-c-form__field-group-header-title"},[e("div",{class:"pf-c-form__field-group-header-title-text pf-u-color-300"},"Task Schedule")])],-1),Dn=[Cn],Mn={key:0,class:"pf-c-form__field-group-body"},En={class:"pf-c-form__group"},Pn={novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-xl",style:{"max-width":"75%"}},$n={class:"pf-c-form__group"},Xn=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Cron Examples")])],-1),jn={class:"pf-c-form__group-control"},An=H('<option value="--">-- Select an option --</option><option value="* * * * *">Every minute (* * * * *)</option><option value="*/5 * * * *">Every 5 minutes (*/5 * * * *)</option><option value="0,30 * * * *">Twice an hour (0,30 * * * *)</option><option value="0 * * * *">Once an hour (0 * * * *)</option><option value="0 0,12 * * *">Twice a day (0 0,12 * * *)</option><option value="0 0 * * *">Once a day (0 0 * * *)</option><option value="0 0 * * 0">Once a week (0 0 * * 0)</option><option value="0 0 1,15 * *">1st and 15th (0 0 1,15 * *)</option><option value="0 0 1 * *">Once a month (0 0 1 * *)</option><option value="0 0 1 1 *">Once a year (0 0 1 1 *)</option>',11),Ln=[An],Rn={class:"pf-u-pt-xl"},Un={key:0,class:"pf-c-label pf-m-blue"},Fn={class:"pf-c-label__content"},In=e("span",{class:"pf-c-label__icon"},[e("i",{class:"fas fa-fw fa-info-circle","aria-hidden":"true"})],-1),Wn=e("b",null,"Task Schedule is set:",-1),Hn={class:"pf-c-form__group"},Vn={class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"switch-reverse-1"},Gn=e("span",{class:"pf-c-switch__toggle"},null,-1),Nn=e("span",{class:"pf-c-switch__label pf-m-on",id:"switch-reverse-1-on","aria-hidden":"true"},"Send task email notification on",-1),qn=e("span",{class:"pf-c-switch__label pf-m-off",id:"switch-reverse-1-off","aria-hidden":"true"},"Send task email notification off",-1),Bn={class:"pf-c-form__group pf-m-action"},Yn={class:"pf-c-form__group-control"},Jn={class:"pf-c-form__actions"};function Zn(r,o,n,t,v,y){const i=T("loading-spinner"),h=T("task-wizard-step-31"),f=T("task-wizard-step-32"),l=T("task-wizard-step-33"),x=T("task-wizard-step-34"),b=T("task-wizard-step-35"),s=T("task-wizard-step-36"),a=T("task-wizard-step-37"),_=T("task-wizard-step-38"),d=T("task-wizard-step-39"),p=T("task-wizard-step-310"),w=T("task-wizard-step-311"),k=T("task-cron-form");return c(),u(W,null,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?g("",!0):(c(),u("form",Qo,[e("div",en,[tn,e("div",on,M(t.selectedCmdObj.categoryLabel)+" - "+M(t.selectedCmdObj.label),1)]),e("div",{class:F(["pf-c-form__field-group",{"pf-m-expanded":t.showFieldGroup1}]),role:"group"},[e("div",nn,[e("div",an,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:o[0]||(o[0]=m=>t.showFieldGroup1=!t.showFieldGroup1)},rn)])]),e("div",{class:"pf-c-form__field-group-header",onClick:o[1]||(o[1]=m=>t.showFieldGroup1=!t.showFieldGroup1),style:{cursor:"pointer"}},cn),t.showFieldGroup1?(c(),u("div",dn,[e("div",pn,[_n,e("div",fn,[P(e("input",{class:"pf-c-form-control",type:"text",id:"task_name",name:"task_name","onUpdate:modelValue":o[2]||(o[2]=m=>t.model.task_name=m),autocomplete:"off"},null,512),[[G,t.model.task_name]])])]),e("div",un,[mn,e("div",hn,[P(e("input",{class:"pf-c-form-control",type:"text",id:"task_desc",desc:"task_desc","onUpdate:modelValue":o[3]||(o[3]=m=>t.model.task_desc=m),autocomplete:"off"},null,512),[[G,t.model.task_desc]])])])])):g("",!0)],2),e("div",{class:F(["pf-c-form__field-group",{"pf-m-expanded":t.showFieldGroup2}]),role:"group"},[e("div",vn,[e("div",gn,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:o[4]||(o[4]=m=>t.showFieldGroup2=!t.showFieldGroup2)},wn)])]),e("div",{class:"pf-c-form__field-group-header",onClick:o[5]||(o[5]=m=>t.showFieldGroup2=!t.showFieldGroup2),style:{cursor:"pointer"}},kn),t.showFieldGroup2?(c(),u("div",Tn,[t.selectedCmdObj.id===1?(c(),O(h,{key:0,model:t.model},null,8,["model"])):g("",!0),t.selectedCmdObj.id===2?(c(),O(f,{key:1,model:t.model},null,8,["model"])):g("",!0),t.selectedCmdObj.id===3?(c(),O(l,{key:2,model:t.model},null,8,["model"])):g("",!0),t.selectedCmdObj.id===4?(c(),O(x,{key:3,model:t.model},null,8,["model"])):g("",!0),t.selectedCmdObj.id===5?(c(),O(b,{key:4,model:t.model},null,8,["model"])):g("",!0),t.selectedCmdObj.id===6?(c(),O(s,{key:5,model:t.model},null,8,["model"])):g("",!0),t.selectedCmdObj.id===7?(c(),O(a,{key:6,model:t.model},null,8,["model"])):g("",!0),t.selectedCmdObj.id===8?(c(),O(_,{key:7,model:t.model,onGoToPageFour:o[6]||(o[6]=m=>r.wizardData.currentPage=4)},null,8,["model"])):g("",!0),t.selectedCmdObj.id===9?(c(),O(d,{key:8,model:t.model,onGoToPageFour:o[7]||(o[7]=m=>r.wizardData.currentPage=4)},null,8,["model"])):g("",!0),t.selectedCmdObj.id===10?(c(),O(p,{key:9,model:t.model},null,8,["model"])):g("",!0),t.selectedCmdObj.id===11?(c(),O(w,{key:10,model:t.model},null,8,["model"])):g("",!0)])):g("",!0)],2),e("div",{class:F(["pf-c-form__field-group",{"pf-m-expanded":t.showFieldGroup3}]),role:"group"},[e("div",xn,[e("div",On,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-expanded":"true",onClick:o[8]||(o[8]=m=>t.showFieldGroup3=!t.showFieldGroup3)},Sn)])]),e("div",{class:"pf-c-form__field-group-header",onClick:o[9]||(o[9]=m=>t.showFieldGroup3=!t.showFieldGroup3),style:{cursor:"pointer"}},Dn),t.showFieldGroup3?(c(),u("div",Mn,[e("div",En,[e("form",Pn,[e("div",$n,[Xn,e("div",jn,[e("select",{id:"exampleOptions",class:"pf-c-form-control",onChange:o[10]||(o[10]=m=>t.selectExample(m))},Ln,32)])]),t.model.task_cron?(c(),O(k,{key:0,cronProp:t.model.task_cron},null,8,["cronProp"])):g("",!0)]),e("div",Rn,[t.cronToHuman!=""?(c(),u("span",Un,[e("span",Fn,[In,Wn,A(" "+M(t.cronToHuman),1)])])):g("",!0)])]),e("div",Hn,[e("label",Vn,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"switch-reverse-1","aria-labelledby":"switch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[11]||(o[11]=m=>t.model.task_email_notify=m),autocomplete:"off"},null,512),[[N,t.model.task_email_notify]]),Gn,Nn,qn])])])):g("",!0)],2),e("div",Bn,[e("div",Yn,[e("div",Jn,[e("button",{class:"pf-c-button pf-m-primary",type:"submit",onClick:o[12]||(o[12]=U((...m)=>t.saveModels&&t.saveModels(...m),["prevent"]))},"Save"),e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:o[13]||(o[13]=(...m)=>t.close&&t.close(...m))},"Cancel")])])])]))],64)}const Kn=$(Ko,[["render",Zn]]),Qn={props:{wizardData:{type:Object,required:!0}},setup(r,{emit:o}){const{commands:n}=re();function t(y,i){return Object.fromEntries(Object.entries(n).slice(y,i))}function v(y){o("selectTask",y)}return{sliceItems:t,selectTask:v,commands:n}}},ea={class:"pf-c-wizard__main-body"},ta=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 1 - Task Type")],-1),oa=e("h5",{class:"pf-u-color-300 pf-u-pt-sm"},"Config Downloads",-1),na={class:"pf-l-flex pf-m-column"},aa={class:"pf-l-flex"},sa=["onClick"],ia={class:"pf-c-tile__header"},ra={class:"pf-c-tile__icon"},la={class:"pf-c-tile__title"},ca={class:"pf-c-tile__body pf-m-hidden-on-xl"};function da(r,o,n,t,v,y){return c(),u("div",ea,[ta,oa,e("div",na,[e("div",aa,[(c(!0),u(W,null,Y(t.sliceItems(0,4),i=>(c(),u("div",{class:"pf-l-flex__item pf-u-pt-sm",key:i.id},[e("div",{class:F(["pf-c-tile",{"pf-m-selected":n.wizardData.selectedTask.id===i.id}]),tabindex:"1",onClick:h=>t.selectTask(i),style:{"min-width":"160px","max-width":"220px",height:"100px"}},[e("div",ia,[e("div",ra,[e("i",{class:F(i.iconClass),"aria-hidden":"true"},null,2)]),e("div",la,M(i.label),1)]),e("div",ca,M(i.description),1)],10,sa)]))),128))])])])}const pa=$(Qn,[["render",da]]),_a={props:{wizardData:{type:Object,required:!0},model:{type:Object}},components:{},setup(r,{emit:o}){function n(){o("goToPageOne")}return{goToPageOne:n}}},fa={class:"pf-c-wizard__main-body"},ua={class:"pf-c-empty-state"},ma={class:"pf-c-empty-state__content"},ha=e("i",{class:"fas fa-cubes pf-c-empty-state__icon","aria-hidden":"true"},null,-1),va=e("h1",{class:"pf-c-title pf-m-lg"},"Task not selected",-1),ga=e("div",{class:"pf-c-empty-state__body"},"Please go back to step 1 and select your task type.",-1);function ya(r,o,n,t,v,y){return c(),u("div",fa,[e("div",ua,[e("div",ma,[ha,va,ga,e("button",{class:"pf-c-button pf-m-primary",type:"button",onClick:o[0]||(o[0]=U((...i)=>t.goToPageOne&&t.goToPageOne(...i),["prevent"]))},"Go to step 1")])])])}const ne=$(_a,[["render",ya]]),wa={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne},setup(r){return{}}},ba={class:"pf-c-wizard__main-body"},ka=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 2 - Task Information")],-1),Ta={key:1,novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-lg pf-u-w-100 pf-u-w-75-on-xl"},xa={class:"pf-c-form__group"},Oa=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Task Name"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),za={class:"pf-c-form__group-control"},Sa={class:"pf-c-form__group"},Ca=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Description"),e("span",{class:"pf-c-form__label-required","aria-hidden":"true"},"*")])],-1),Da={class:"pf-c-form__group-control"};function Ma(r,o,n,t,v,y){const i=T("task-wizard-task-not-selected");return c(),u("div",ba,[ka,n.wizardData.selectedTask.id===0?(c(),O(i,{key:0,onGoToPageOne:o[0]||(o[0]=h=>n.wizardData.currentPage=1)})):(c(),u("form",Ta,[e("div",xa,[Oa,e("div",za,[P(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"task_name",name:"task_name","onUpdate:modelValue":o[1]||(o[1]=h=>n.model.task_name=h),autocomplete:"off"},null,512),[[G,n.model.task_name]])])]),e("div",Sa,[Ca,e("div",Da,[P(e("input",{class:"pf-c-form-control",required:"",type:"text",id:"task_desc",name:"task_desc","onUpdate:modelValue":o[2]||(o[2]=h=>n.model.task_desc=h),autocomplete:"off"},null,512),[[G,n.model.task_desc]])])])]))])}const Ea=$(wa,[["render",Ma]]),Pa={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne,TaskWizardStep31:pe,TaskWizardStep32:_e,TaskWizardStep33:fe},setup(r){return{}}},$a={class:"pf-c-wizard__main-body"},Xa=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 3 - Task Configuration")],-1);function ja(r,o,n,t,v,y){const i=T("task-wizard-task-not-selected"),h=T("task-wizard-step-31"),f=T("task-wizard-step-32"),l=T("task-wizard-step-33"),x=T("task-wizard-step-35"),b=T("task-wizard-step-36"),s=T("task-wizard-step-37"),a=T("task-wizard-step-38"),_=T("task-wizard-step-39"),d=T("task-wizard-step-310"),p=T("task-wizard-step-311");return c(),u("div",$a,[Xa,n.wizardData.selectedTask.id===0?(c(),O(i,{key:0,onGoToPageOne:o[0]||(o[0]=w=>n.wizardData.currentPage=1)})):g("",!0),n.wizardData.selectedTask.id===1?(c(),O(h,{key:1,model:n.model},null,8,["model"])):g("",!0),n.wizardData.selectedTask.id===2?(c(),O(f,{key:2,model:n.model},null,8,["model"])):g("",!0),n.wizardData.selectedTask.id===3?(c(),O(l,{key:3,model:n.model},null,8,["model"])):g("",!0),n.wizardData.selectedTask.id===5?(c(),O(x,{key:4,model:n.model},null,8,["model"])):g("",!0),n.wizardData.selectedTask.id===6?(c(),O(b,{key:5,model:n.model},null,8,["model"])):g("",!0),n.wizardData.selectedTask.id===7?(c(),O(s,{key:6,model:n.model},null,8,["model"])):g("",!0),n.wizardData.selectedTask.id===8?(c(),O(a,{key:7,model:n.model,onGoToPageFour:o[1]||(o[1]=w=>n.wizardData.currentPage=4)},null,8,["model"])):g("",!0),n.wizardData.selectedTask.id===9?(c(),O(_,{key:8,model:n.model,onGoToPageFour:o[2]||(o[2]=w=>n.wizardData.currentPage=4)},null,8,["model"])):g("",!0),n.wizardData.selectedTask.id===10?(c(),O(d,{key:9,model:n.model},null,8,["model"])):g("",!0),n.wizardData.selectedTask.id===11?(c(),O(p,{key:10,model:n.model},null,8,["model"])):g("",!0)])}const Aa=$(Pa,[["render",ja]]),La={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskCronForm:ue,TaskWizardTaskNotSelected:ne},setup(r){const o=D([]),n=D("");function t(v){var y=v.target.value,i=y.split(" ");r.model.task_cron=i}return B(()=>{r.model.task_cron!=""&&(o.value=r.model.task_cron)}),q(()=>{r.model.task_cron&&(n.value=ie.toString(r.model.task_cron.join(" ")))}),{cronExampleArray:o,selectExample:t,cronToHuman:n}}},Ra={class:"pf-c-wizard__main-body"},Ua=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 4 - Task Schedule")],-1),Fa={key:1},Ia={novalidate:"",class:"pf-c-form pf-m-horizontal pf-u-pt-xl",style:{"max-width":"75%"}},Wa={class:"pf-c-form__group"},Ha=e("div",{class:"pf-c-form__group-label"},[e("label",{class:"pf-c-form__label",for:"form-demo-basic-name"},[e("span",{class:"pf-c-form__label-text"},"Cron Examples")])],-1),Va={class:"pf-c-form__group-control"},Ga=H('<option value="--">-- Select an option --</option><option value="* * * * *">Every minute (* * * * *)</option><option value="*/5 * * * *">Every 5 minutes (*/5 * * * *)</option><option value="0,30 * * * *">Twice an hour (0,30 * * * *)</option><option value="0 * * * *">Once an hour (0 * * * *)</option><option value="0 0,12 * * *">Twice a day (0 0,12 * * *)</option><option value="0 0 * * *">Once a day (0 0 * * *)</option><option value="0 0 * * 0">Once a week (0 0 * * 0)</option><option value="0 0 1,15 * *">1st and 15th (0 0 1,15 * *)</option><option value="0 0 1 * *">Once a month (0 0 1 * *)</option><option value="0 0 1 1 *">Once a year (0 0 1 1 *)</option>',11),Na=[Ga],qa={class:"pf-u-pt-xl"},Ba={key:0,class:"pf-c-label pf-m-blue"},Ya={class:"pf-c-label__content"},Ja=e("span",{class:"pf-c-label__icon"},[e("i",{class:"fas fa-fw fa-info-circle","aria-hidden":"true"})],-1),Za=e("b",null,"Task Schedule is set:",-1),Ka={key:0,class:"pf-c-switch pf-m-reverse pf-u-pt-xl",for:"task_email_notifyswitch-reverse-1"},Qa=e("span",{class:"pf-c-switch__toggle"},null,-1),es=e("span",{class:"pf-c-switch__label pf-m-on",id:"task_email_notifyswitch-reverse-1-on","aria-hidden":"true"},"Send task email notification on",-1),ts=e("span",{class:"pf-c-switch__label pf-m-off",id:"task_email_notifyswitch-reverse-1-off","aria-hidden":"true"},"Send task email notification off",-1);function os(r,o,n,t,v,y){const i=T("task-wizard-task-not-selected"),h=T("task-cron-form");return c(),u("div",Ra,[Ua,n.wizardData.selectedTask.id===0?(c(),O(i,{key:0,onGoToPageOne:o[0]||(o[0]=f=>n.wizardData.currentPage=1)})):(c(),u("div",Fa,[e("form",Ia,[e("div",Wa,[Ha,e("div",Va,[e("select",{id:"exampleOptions",class:"pf-c-form-control",onChange:o[1]||(o[1]=f=>t.selectExample(f))},Na,32)])]),j(h,{cronProp:n.model.task_cron},null,8,["cronProp"])]),e("div",qa,[t.cronToHuman!=""?(c(),u("span",Ba,[e("span",Ya,[Ja,Za,A(" "+M(t.cronToHuman),1)])])):g("",!0)]),n.wizardData.selectedTask.id!=0?(c(),u("label",Ka,[P(e("input",{class:"pf-c-switch__input",type:"checkbox",id:"task_email_notifyswitch-reverse-1","aria-labelledby":"task_email_notifyswitch-reverse-1-on",name:"switchExample1","onUpdate:modelValue":o[2]||(o[2]=f=>n.model.task_email_notify=f)},null,512),[[N,n.model.task_email_notify]]),Qa,es,ts])):g("",!0)]))])}const ns=$(La,[["render",os]]),as={props:{model:{type:Object,default:()=>({})}},setup(r){function o(n){const t={...r.model.device};delete t[n],r.model.device=Object.values(t)}return{remove:o}}},ss={class:"pf-c-chip-group pf-m-category"},is={class:"pf-c-chip-group__main"},rs=e("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-devices-label"},"Devices",-1),ls={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-devices-label"},cs={class:"pf-c-chip"},ds=["id"],ps=["id","onClick"],_s=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),fs=[_s];function us(r,o,n,t,v,y){return c(),u("div",ss,[e("div",is,[rs,e("ul",ls,[(c(!0),u(W,null,Y(n.model.device,(i,h)=>(c(),u("li",{class:"pf-c-chip-group__list-item",key:i.id},[e("div",cs,[e("span",{class:"pf-c-chip__text",id:i.id},M(i.device_name),9,ds),e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-devicesremove_chip_one_toolbar_collapsed chip-group-with-deviceschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+i.id,onClick:f=>t.remove(h)},fs,8,ps)])]))),128))])])])}const ms=$(as,[["render",us]]),hs={props:{model:{type:Object,default:()=>({})}},setup(r){function o(n){const t={...r.model.category};delete t[n],r.model.category=Object.values(t)}return{remove:o}}},vs={class:"pf-c-chip-group pf-m-category"},gs={class:"pf-c-chip-group__main"},ys=e("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-categories-label"},"Categories",-1),ws={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-categories-label"},bs={class:"pf-c-chip"},ks=["id"],Ts=["id","onClick"],xs=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),Os=[xs];function zs(r,o,n,t,v,y){return c(),u("div",vs,[e("div",gs,[ys,e("ul",ws,[(c(!0),u(W,null,Y(n.model.category,(i,h)=>(c(),u("li",{class:"pf-c-chip-group__list-item",key:i.id},[e("div",bs,[e("span",{class:"pf-c-chip__text",id:i.id},M(i.categoryName),9,ks),e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-categoriesremove_chip_one_toolbar_collapsed chip-group-with-categorieschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+i.id,onClick:f=>t.remove(h)},Os,8,Ts)])]))),128))])])])}const Ss=$(hs,[["render",zs]]),Cs={props:{model:{type:Object,default:()=>({})}},setup(r){function o(n){const t={...r.model.tag};delete t[n],r.model.tag=Object.values(t)}return{remove:o}}},Ds={class:"pf-c-chip-group pf-m-category"},Ms={class:"pf-c-chip-group__main"},Es=e("span",{class:"pf-c-chip-group__label","aria-hidden":"true",id:"chip-group-with-tags-label"},"Tags",-1),Ps={class:"pf-c-chip-group__list",role:"list","aria-labelledby":"chip-group-with-tags-label"},$s={class:"pf-c-chip"},Xs=["id"],js=["id","onClick"],As=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),Ls=[As];function Rs(r,o,n,t,v,y){return c(),u("div",Ds,[e("div",Ms,[Es,e("ul",Ps,[(c(!0),u(W,null,Y(n.model.tag,(i,h)=>(c(),u("li",{class:"pf-c-chip-group__list-item",key:i.id},[e("div",$s,[e("span",{class:"pf-c-chip__text",id:i.id},M(i.tagname),9,Xs),e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-labelledby":"chip-group-with-tagsremove_chip_one_toolbar_collapsed chip-group-with-tagschip_one_toolbar_collapsed","aria-label":"Remove",id:"chip"+i.id,onClick:f=>t.remove(h)},Ls,8,js)])]))),128))])])])}const Us=$(Cs,[["render",Rs]]),Fs={props:{model:{type:Object}},components:{TaskFinalResultOutputChipGroupDevices:ms,TaskFinalResultOutputChipGroupCategories:Ss,TaskFinalResultOutputChipGroupTags:Us},setup(r){const{commands:o}=re(),n=D(""),t=D(""),v=I({command:""});function y(h,f){Object.entries(h).forEach(l=>{l[1].command===f&&(n.value=l[0])})}function i(h){const f={...r.model.category};delete f[h],r.model.category=Object.values(f)}return y(o,r.model.task_command),Object.assign(v,o[n.value]),t.value=ie.toString(r.model.task_cron.join(" ")),{selectedCmdObj:v,cronToHuman:t,removeCategory:i}}},Is={class:"pf-c-description-list pf-m-horizontal pf-u-pt-md"},Ws={class:"pf-c-description-list__group"},Hs=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Type")],-1),Vs={class:"pf-c-description-list__description"},Gs={class:"pf-c-description-list__text"},Ns={class:"pf-c-description-list__group"},qs=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Name")],-1),Bs={class:"pf-c-description-list__description"},Ys={class:"pf-c-description-list__text"},Js={class:"pf-c-description-list__group"},Zs=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Description")],-1),Ks={class:"pf-c-description-list__description"},Qs={class:"pf-c-description-list__text"},ei={key:0,class:"pf-c-description-list__group"},ti=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Configuration")],-1),oi={class:"pf-c-description-list__description"},ni={class:"pf-c-description-list__text"},ai={class:"pf-c-description-list__group"},si=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Schedule")],-1),ii={class:"pf-c-description-list__description"},ri={class:"pf-c-description-list__text"},li={key:0,class:"pf-c-label pf-m-blue"},ci={class:"pf-c-label__content"},di={class:"pf-c-description-list__group"},pi=e("dt",{class:"pf-c-description-list__term"},[e("span",{class:"pf-c-description-list__text"},"Task Reporting")],-1),_i={class:"pf-c-description-list__description"},fi={class:"pf-c-description-list__text"},ui={key:0,class:"pf-c-helper-text"},mi=e("div",{class:"pf-c-helper-text__item pf-m-success"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"Task notification email will be sent after each run")],-1),hi=[mi],vi={key:1,class:"pf-c-helper-text"},gi=e("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"Task notification email will not be sent after each run")],-1),yi=[gi],wi={key:2},bi={key:0,class:"pf-c-helper-text"},ki=e("div",{class:"pf-c-helper-text__item pf-m-success"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A device download failure report will be sent after task completes.")],-1),Ti=[ki],xi={key:1,class:"pf-c-helper-text"},Oi=e("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A device download failure report will not be sent after task completes.")],-1),zi=[Oi],Si={key:2,class:"pf-c-helper-text"},Ci=e("div",{class:"pf-c-helper-text__item pf-m-success"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-bell","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A verbose device download failure report will be sent after task completes.")],-1),Di=[Ci],Mi={key:3,class:"pf-c-helper-text"},Ei=e("div",{class:"pf-c-helper-text__item pf-m-indeterminate"},[e("span",{class:"pf-c-helper-text__item-icon"},[e("i",{class:"fas fa-fw fa-minus","aria-hidden":"true"})]),e("span",{class:"pf-c-helper-text__item-text"},"A verbose device download failure report will not be sent after task completes.")],-1),Pi=[Ei];function $i(r,o,n,t,v,y){const i=T("task-final-result-output-chip-group-devices"),h=T("task-final-result-output-chip-group-categories"),f=T("task-final-result-output-chip-group-tags");return c(),u("dl",Is,[e("div",Ws,[Hs,e("dd",Vs,[e("div",Gs,M(t.selectedCmdObj.categoryLabel)+" - "+M(t.selectedCmdObj.label),1)])]),e("div",Ns,[qs,e("dd",Bs,[e("div",Ys,M(n.model.task_name),1)])]),e("div",Js,[Zs,e("dd",Ks,[e("div",Qs,M(n.model.task_desc),1)])]),n.model.device||n.model.category||n.model.tag?(c(),u("div",ei,[ti,e("dd",oi,[e("div",ni,[n.model.device?(c(),O(i,{key:0,model:n.model},null,8,["model"])):g("",!0),n.model.category?(c(),O(h,{key:1,model:n.model},null,8,["model"])):g("",!0),n.model.tag?(c(),O(f,{key:2,model:n.model},null,8,["model"])):g("",!0)])])])):g("",!0),e("div",ai,[si,e("dd",ii,[e("div",ri,[t.cronToHuman!=""?(c(),u("span",li,[e("span",ci,M(t.cronToHuman),1)])):g("",!0)])])]),e("div",di,[pi,e("dd",_i,[e("div",fi,[e("div",null,[n.model.task_email_notify?(c(),u("div",ui,hi)):g("",!0),n.model.task_email_notify?g("",!0):(c(),u("div",vi,yi)),n.model.device||n.model.category||n.model.tag?(c(),u("div",wi,[n.model.download_report_notify?(c(),u("div",bi,Ti)):g("",!0),n.model.download_report_notify?g("",!0):(c(),u("div",xi,zi)),n.model.verbose_download_report_notify?(c(),u("div",Si,Di)):g("",!0),n.model.verbose_download_report_notify?g("",!0):(c(),u("div",Mi,Pi))])):g("",!0)])])])])])}const Xi=$(Fs,[["render",$i]]),ji={props:{status:{type:String,required:!0}},setup(r,{emit:o}){const n=D(0),t=D(null),v=D({checking:"checking",success:"success",error:"error"}),y=D("checking");B(()=>{t.value=setInterval(i,10)});function i(){n.value>=100?(clearInterval(t.value),n.value=0):n.value++}return q(()=>{r.status===v.value.checking&&n.value<100?y.value="checking":r.status===v.value.success&&n.value===100?y.value="success":r.status===v.value.error&&n.value===100&&(y.value="error")}),q(()=>{y.value!="checking"&&o("verificationDone")}),{progressCount:n,progressStatus:y}}},Ai={class:"pf-u-pt-lg"},Li={key:0,class:"pf-c-progress",style:{"max-width":"75%"}},Ri=e("div",{class:"pf-c-progress__description"},"Task Verification",-1),Ui={class:"pf-c-progress__status","aria-hidden":"true"},Fi={class:"pf-c-progress__measure"},Ii={class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"10","aria-valuenow":"4","aria-valuetext":"Verifying Task Data"},Wi={key:1,class:"pf-c-progress pf-m-inside pf-m-success",style:{"max-width":"75%"}},Hi=e("div",{class:"pf-c-progress__description"},"Task Verification Success",-1),Vi=e("div",{class:"pf-c-progress__status","aria-hidden":"true"},[e("span",{class:"pf-c-progress__status-icon"},[e("i",{class:"fas fa-fw fa-check-circle","aria-hidden":"true"})])],-1),Gi=e("div",{class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100"},[e("div",{class:"pf-c-progress__indicator",style:{width:"100%"}},[e("span",{class:"pf-c-progress__measure"},"100%")])],-1),Ni=[Hi,Vi,Gi],qi={key:2,class:"pf-c-progress pf-m-danger",style:{"max-width":"75%"}},Bi=H('<div class="pf-c-progress__description">Task Verification Failed</div><div class="pf-c-progress__status" aria-hidden="true"><span class="pf-c-progress__measure">100%</span><span class="pf-c-progress__status-icon"><i class="fas fa-fw fa-times-circle" aria-hidden="true"></i></span></div>',2),Yi=e("div",{class:"pf-c-progress__bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100"},[e("div",{class:"pf-c-progress__indicator",style:"width: 100%"})],-1),Ji=[Bi,Yi];function Zi(r,o,n,t,v,y){return c(),u("div",Ai,[t.progressStatus==="checking"?(c(),u("div",Li,[Ri,e("div",Ui,[e("span",Fi,M(t.progressCount+"%"),1)]),e("div",Ii,[e("div",{class:"pf-c-progress__indicator",style:ye("width: "+t.progressCount+"%")},null,4)])])):g("",!0),t.progressStatus==="success"?(c(),u("div",Wi,Ni)):g("",!0),t.progressStatus==="error"?(c(),u("div",qi,Ji)):g("",!0)])}const Ki=$(ji,[["render",Zi]]),Qi={props:{wizardData:{type:Object},model:{type:Object}},components:{TaskWizardTaskNotSelected:ne,TaskFinalResultOutput:Xi,TaskVerifyProgress:Ki},setup(r){const o=D(!1),n=oe("create-notification"),t=D(null),v=D("checking"),y=D(!1),i=D(!1),{toClipboard:h}=we();B(()=>{f()});const f=async x=>{t.value="";try{await axios.post("/api/tasks/validate-task",r.model),v.value="success"}catch(b){b.response.status===422?(v.value="error",t.value=b.response.data.errors):(t.status=b.response.status,t.message=b.response.data.message,n({type:"danger",title:"Error",message:b.response.data.message}))}};return{copy:async()=>{try{await h(r.model),o.value=!0,setTimeout(()=>{o.value=!1},3e3),n({type:"success",title:"Copy Success",message:"Output copied to clipboard"})}catch(x){n({type:"danger",title:"Error",message:x})}},errors:t,progressCheckStatus:v,showRawOutput:y,verificationDone:i}}},er={class:"pf-c-wizard__main-body"},tr=e("h4",null,[e("strong",{class:"pf-u-color-300"},"Step 5 - Review")],-1),or={key:1,class:"pf-u-pt-sm"},nr={key:0,class:"pf-u-pt-md"},ar=e("span",{class:"pf-c-form__helper-text-icon"},[e("i",{class:"fas fa-exclamation-circle","aria-hidden":"true"})],-1),sr={key:1,class:"pf-u-pt-md"},ir={class:"pf-u-pt-sm"},rr={key:0,class:"pf-c-code-block",style:{"max-width":"75%"}},lr={class:"pf-c-code-block__header"},cr={class:"pf-c-code-block__actions"},dr={class:"pf-c-code-block__actions-item"},pr=e("i",{class:"fas fa-copy","aria-hidden":"true"},null,-1),_r=[pr],fr={class:"pf-c-code-block__content"},ur={class:"pf-c-code-block__pre"},mr={class:"pf-c-code-block__code"};function hr(r,o,n,t,v,y){const i=T("task-wizard-task-not-selected"),h=T("task-verify-progress"),f=T("task-final-result-output");return c(),u("div",er,[tr,n.wizardData.selectedTask.id===0?(c(),O(i,{key:0,onGoToPageOne:o[0]||(o[0]=l=>n.wizardData.currentPage=1)})):(c(),u("div",or,[j(h,{status:t.progressCheckStatus,onVerificationDone:o[1]||(o[1]=l=>t.verificationDone=!0)},null,8,["status"]),t.verificationDone&&t.errors?(c(),u("div",nr,[(c(!0),u(W,null,Y(t.errors,l=>(c(),u("p",{class:"pf-c-form__helper-text pf-m-error",key:l},[ar,A(" "+M(l[0]),1)]))),128))])):g("",!0),t.verificationDone&&t.errors?(c(),u("div",sr,[e("button",{class:"pf-c-button pf-m-link",type:"button",onClick:o[2]||(o[2]=l=>t.showRawOutput=!t.showRawOutput)},"View Raw Output")])):g("",!0),e("div",ir,[t.showRawOutput?(c(),u("div",rr,[e("div",lr,[A(" Raw Output "),e("div",cr,[e("div",dr,[e("button",{class:"pf-c-button pf-m-plain",type:"button","aria-label":"Copy to clipboard",onClick:o[3]||(o[3]=l=>t.copy())},_r)])])]),e("div",fr,[e("pre",ur,[e("code",mr,M(n.model),1)])])])):g("",!0)]),t.verificationDone&&!t.errors?(c(),O(f,{key:2,model:n.model},null,8,["model"])):g("",!0)]))])}const vr=$(Qi,[["render",hr]]),gr={props:{viewstate:{type:Object}},emits:["closeDrawer","formsubmitted"],components:{LoadingSpinner:K,TaskWizardStep1:pa,TaskWizardStep2:Ea,TaskWizardStep3:Aa,TaskWizardStep4:ns,TaskWizardStep5:vr},setup(r,{emit:o}){const n=I({currentPage:1,selectedTask:{id:0,command:"",label:"",description:"",categoryLabel:""}}),t=I({id:0,command:"",label:"",description:"",categoryLabel:""});D(1),D(r.viewstate.editid===0?"add":"edit");const{errors:v,model:y,clearModel:i,updateModel:h,getModel:f,storeModel:l,isLoading:x}=ce(r.viewstate.modelName,r.viewstate.modelObject);B(()=>{f(r.viewstate.editid)});function b(w){Object.assign(y,r.viewstate.modelObject),Object.assign(n.selectedTask,w),y.task_command=w.command,v.value=""}const s=async()=>{await l(y),v.value===""&&(o("formsubmitted",r.viewstate.pagenamesingle+" added!"),Object.assign(n.selectedTask,t),Object.assign(y,r.viewstate.modelObject),p())};q(()=>{Array.isArray(y.device)&&y.device.length>0&&(v.value="")}),q(()=>{y.task_cron!=""&&(v.value="")});function a(){v.value="",n.currentPage>1&&n.currentPage--}function _(){if(n.currentPage===1&&y.task_command===""){v.value="Please select a task";return}if(n.currentPage===2&&y.task_name===""){v.value="Please enter a task name";return}if(n.currentPage===2&&y.task_desc===""){v.value="Please enter a task description";return}if(n.currentPage===3&&y.task_command==="rconfig:download-device"&&y.device.length===0){v.value="Please choose one or more devices";return}if(n.currentPage===3&&y.task_command==="rconfig:download-category"&&y.category.length===0){v.value="Please choose one or more categories";return}if(n.currentPage===3&&y.task_command==="rconfig:download-tag"&&y.tag.length===0){v.value="Please choose one or more tags";return}if(n.currentPage===4&&y.task_cron===""){v.value="Please enter schedule values";return}v.value="",n.currentPage===5||n.currentPage++}function d(w){n.currentPage=w}function p(){o("closeDrawer")}return{wizard:n,setSelectedTask:b,prevPage:a,nextPage:_,setPage:d,close:p,errors:v,model:y,saveTask:s,clearModel:i,isLoading:x}}},yr={key:0,novalidate:"",class:"pf-c-form"},wr={class:"pf-c-wizard",style:{height:"78vh"}},br={class:"pf-c-wizard__header"},kr=e("i",{class:"fas fa-times","aria-hidden":"true"},null,-1),Tr=[kr],xr=e("h2",{"data-ouia-component-type":"PF4/Title","data-ouia-safe":"true","data-ouia-component-id":"OUIA-Generated-Title-4","aria-label":"Simple wizard in modal",id:"wiz-modal-demo-title",class:"pf-c-title pf-m-3xl pf-c-wizard__title"}," Scheduled Task Wizard ",-1),Or={class:"pf-c-wizard__description",id:"wiz-modal-demo-description"},zr={key:0},Sr={key:1},Cr={key:2},Dr={class:"pf-u-default-color-100"},Mr={class:"pf-c-wizard__toggle","aria-label":"Wizard Toggle","aria-expanded":"false"},Er=e("span",{class:"pf-c-wizard__toggle-list"},[e("span",{class:"pf-c-wizard__toggle-list-item"},[e("span",{class:"pf-c-wizard__toggle-num"},"1"),A(" Task Type")])],-1),Pr={class:"pf-c-wizard__toggle-icon"},$r={fill:"currentColor",height:"1em",width:"1em",viewBox:"0 0 320 512","aria-hidden":"true",role:"img",style:{"vertical-align":"-0.125em"}},Xr=e("path",{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},null,-1),jr=[Xr],Ar={class:"pf-c-wizard__outer-wrap"},Lr={class:"pf-c-wizard__inner-wrap"},Rr={class:"pf-c-wizard__nav","aria-label":"Basic wizard steps"},Ur={class:"pf-c-wizard__nav-list"},Fr={class:"pf-c-wizard__nav-item"},Ir={class:"pf-c-wizard__nav-item"},Wr={class:"pf-c-wizard__nav-item"},Hr={class:"pf-c-wizard__nav-item"},Vr={class:"pf-c-wizard__nav-item"},Gr={key:0,class:"pf-c-alert pf-m-danger pf-m-inline taskWizardAlert","aria-label":"Inline danger alert"},Nr=e("div",{class:"pf-c-alert__icon"},[e("i",{class:"fas fa-fw fa-exclamation-circle","aria-hidden":"true"})],-1),qr={class:"pf-c-alert__title"},Br=e("span",{class:"pf-screen-reader"},"Danger alert:",-1),Yr={key:1,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Jr={key:2,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Zr={key:3,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Kr={key:4,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},Qr={key:5,"aria-label":"Basic wizard content",class:"pf-c-wizard__main"},el={class:"pf-c-wizard__footer"},tl=["disabled"],ol={class:"pf-c-wizard__footer-cancel"};function nl(r,o,n,t,v,y){const i=T("loading-spinner"),h=T("task-wizard-step-1"),f=T("task-wizard-step-2"),l=T("task-wizard-step-3"),x=T("task-wizard-step-4"),b=T("task-wizard-step-5");return c(),u(W,null,[j(i,{showSpinner:t.isLoading},null,8,["showSpinner"]),t.isLoading?g("",!0):(c(),u("form",yr,[e("div",wr,[e("div",br,[e("button",{class:"pf-c-button pf-m-plain pf-c-wizard__close",type:"button",onClick:o[0]||(o[0]=(...s)=>t.close&&t.close(...s)),style:{"font-weight":"300","font-size":"medium"}},Tr),xr,e("p",Or,[t.wizard.selectedTask.id===0?(c(),u("span",zr,"Create a new scheduled task")):(c(),u("span",Sr,"Selected Task")),t.wizard.selectedTask.id>0?(c(),u("span",Cr,[A(": "),e("span",Dr,M(t.wizard.selectedTask.categoryLabel)+" - "+M(t.wizard.selectedTask.label),1)])):g("",!0)])]),e("button",Mr,[Er,e("span",Pr,[(c(),u("svg",$r,jr))])]),e("div",Ar,[e("div",Lr,[e("nav",Rr,[e("ol",Ur,[e("li",Fr,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===1}]),onClick:o[1]||(o[1]=U(s=>t.setPage(1),["prevent"]))},"Task Type",2)]),e("li",Ir,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===2}]),onClick:o[2]||(o[2]=U(s=>t.setPage(2),["prevent"]))},"Task Information",2)]),e("li",Wr,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===3}]),onClick:o[3]||(o[3]=U(s=>t.setPage(3),["prevent"]))},"Task Configuration",2)]),e("li",Hr,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===4}]),onClick:o[4]||(o[4]=U(s=>t.setPage(4),["prevent"]))},"Task Schedule",2)]),e("li",Vr,[e("button",{class:F(["pf-c-wizard__nav-link",{"pf-m-current":t.wizard.currentPage===5}]),onClick:o[5]||(o[5]=U(s=>t.setPage(5),["prevent"]))},"Review",2)])])]),t.errors?(c(),u("div",Gr,[Nr,e("p",qr,[Br,A(" "+M(t.errors),1)])])):g("",!0),t.wizard.currentPage===1?(c(),u("div",Yr,[j(h,{wizardData:t.wizard,onSelectTask:o[6]||(o[6]=s=>t.setSelectedTask(s))},null,8,["wizardData"])])):g("",!0),t.wizard.currentPage===2?(c(),u("div",Jr,[j(f,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):g("",!0),t.wizard.currentPage===3?(c(),u("div",Zr,[j(l,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):g("",!0),t.wizard.currentPage===4?(c(),u("div",Kr,[j(x,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):g("",!0),t.wizard.currentPage===5?(c(),u("div",Qr,[j(b,{wizardData:t.wizard,model:t.model},null,8,["wizardData","model"])])):g("",!0)]),e("footer",el,[e("button",{class:F(["pf-c-button pf-m-secondary",{" pf-m-disabled":t.wizard.currentPage===1}]),disabled:t.wizard.currentPage===1,type:"button",onClick:o[7]||(o[7]=U((...s)=>t.prevPage&&t.prevPage(...s),["prevent"]))}," Back ",10,tl),t.wizard.currentPage!=5?(c(),u("button",{key:0,class:"pf-c-button pf-m-primary",type:"submit",onClick:o[8]||(o[8]=U((...s)=>t.nextPage&&t.nextPage(...s),["prevent"]))},"Next")):g("",!0),t.wizard.currentPage===5?(c(),u("button",{key:1,class:"pf-c-button pf-m-primary",type:"button",onClick:o[9]||(o[9]=U((...s)=>t.saveTask&&t.saveTask(...s),["prevent"]))},"Save Task")):g("",!0),e("div",ol,[e("button",{"aria-disabled":"false",class:"pf-c-button pf-m-link",type:"button",onClick:o[10]||(o[10]=(...s)=>t.close&&t.close(...s))},"Cancel")])])])])]))],64)}const al=$(gr,[["render",nl]]),sl={components:{TasksWizard:al,PageHeader:Oe,DataTable:ke,SideDrawer:ze,DeleteModal:xe,ConfirmationModal:Fe,TaskWizardModal:bt,TasksForm:Kn,ModalTasksRunHistory:mt},setup(){const r=I({editid:0,pagename:"Tasks",pagedesc:"rConfig scheduled tasks",pagenamesingle:"Task",modelName:"tasks",openDrawerState:!1,openDrawerStateEdit:!1,drawerOuterWidth:"pf-m-width-100-on-xl pf-m-width-100-on-lg  pf-m-width-100 ",showDeleteModal:!1,showTaskRunHistoryModal:!1,sideDrawerComponentKey:1,sideDrawerComponentKeyEdit:2,pageOptionsState:{page:1,per_page:10},modelObject:{task_name:"",task_desc:"",task_command:"",task_categories:null,task_devices:null,task_tags:null,task_cron:"",task_email_notify:!0,download_report_notify:!0,verbose_download_report_notify:!1,is_system:0,created_at:null,updated_at:null,device:[],category:[],tag:[]},showConfirmModal:!1}),o=D(0),n=oe("create-notification"),t=D(!1),v=D(),{models:y,isLoading:i,dataTablePageChanged:h,closeDrawerState:f,deleteRow:l,formSubmitted:x,confirmDelete:b,destroyModel:s}=Se(r,r.modelName,r.modelObject);B(()=>{h(r.pageOptionsState),w()});const a=I({headers:[{key:"id",label:"Task ID",sortable:!0},{key:"task_name",label:"Task Name",sortable:!1},{key:"cron_plain",label:"Frequency",sortable:!1},{key:"task_desc",label:"Description",sortable:!1},{key:"taskViewRuns",label:"Run history",sortable:!1,isTasksActionLink:!0,actionLink:{label:"view",action:"viewtaskHistory"}},{key:"finished",label:"Last run",sortable:!1}],data:y,isLoading:i});function _(m){r.editid=m.id,r.isClone=!!m.isClone,m.id===0?r.openDrawerState=!r.openDrawerState:r.openDrawerStateEdit=!r.openDrawerStateEdit}function d(m){r.editid=m,r.showConfirmModal=!0}function p(){axios.post("/api/tasks/run-manual-task",{id:r.editid}).then(m=>{n({type:"success",message:m.data.message,duration:3})}).catch(m=>{n({type:"danger",title:"Error",message:m.response.data.message})})}function w(){axios.get("/api/tasks/recent-failed-jobs-count").then(m=>{m.data.success===!0&&(v.value=m.data.data,v.value>0&&(t.value=!0))}).catch(m=>{n({type:"danger",title:"Error",message:m.response.data.message})})}function k(m){o.value=m,r.showTaskRunHistoryModal=!0}return{viewstate:r,dataTablePageChanged:h,openDrawer:_,closeDrawerState:f,deleteRow:l,confirmDelete:b,table:a,destroyModel:s,formSubmitted:x,showConfirmModal:d,runTaskNow:p,recentFailedJobs:v,showRecentFailedJobs:t,viewtaskHistory:k,historyTaskId:o}}},il={class:"pf-c-page__main",tabindex:"-1"},rl={class:"pf-l-flex pf-m-grow pf-m-column pf-m-row-on-lg pf-m-justify-content-flex-end pf-m-justify-content-flex-start-on-lg pf-m-align-content-flex-end-on-lg",style:{"row-gap":"var(--pf-global--spacer--md)"}},ll={class:"pf-l-flex__item",style:{"margin-bottom":"-0.25em"}},cl={class:"pf-c-label pf-m-red"},dl={class:"pf-c-label__content"},pl=e("a",{href:"/horizon/dashboard",target:"_blank"},"view",-1),_l=e("div",{class:"pf-c-divider",role:"separator"},null,-1),fl={class:"pf-c-page__main-section pf-m-no-padding"},ul={class:"pf-c-drawer__main"},ml=e("div",{class:"pf-l-flex__item"},"Please complete all fields",-1),hl=e("p",null,"Run task now?",-1),vl=e("p",null,"Are you sure you want to run this task now?",-1),gl=e("p",null,"Run",-1),yl=e("p",null,"Cancel",-1);function wl(r,o,n,t,v,y){const i=T("page-header"),h=T("data-table"),f=T("tasks-form"),l=T("side-drawer"),x=T("delete-modal"),b=T("tasks-wizard"),s=T("task-wizard-modal"),a=T("confirmation-modal"),_=T("modal-tasks-run-history");return c(),u(W,null,[e("main",il,[j(i,{pagename:t.viewstate.pagename,desc:t.viewstate.pagedesc},be({_:2},[t.showRecentFailedJobs?{name:"header-right-side",fn:R(()=>[e("div",rl,[e("div",ll,[e("span",cl,[e("span",dl,M(t.recentFailedJobs)+" recent failed jobs ",1),A("-"),pl])])])]),key:"0"}:void 0]),1032,["pagename","desc"]),_l,e("section",fl,[e("div",{class:F(["pf-c-drawer",{"pf-m-expanded":t.viewstate.openDrawerState||t.viewstate.openDrawerStateEdit}])},[e("div",ul,[j(h,{pagename:t.viewstate.pagenamesingle,tabledata:t.table,taskRunBtnEnabled:!0,onPagechanged:t.dataTablePageChanged,onOpenDrawer:o[0]||(o[0]=d=>t.openDrawer(d)),onDeleteRow:o[1]||(o[1]=d=>t.deleteRow(d)),onShowTaskRunConfirmModal:o[2]||(o[2]=d=>t.showConfirmModal(d)),onActionLink:o[3]||(o[3]=d=>t.viewtaskHistory(d))},null,8,["pagename","tabledata","onPagechanged"]),(c(),O(l,{pagename:t.viewstate.pagenamesingle,drawerState:t.viewstate.openDrawerStateEdit,editid:t.viewstate.editid,outerWidth:t.viewstate.drawerOuterWidth,onCloseDrawer:o[6]||(o[6]=d=>t.viewstate.openDrawerStateEdit=!1),key:t.viewstate.sideDrawerComponentKey},{subtext:R(()=>[ml]),form:R(()=>[(c(),O(f,{viewstate:t.viewstate,onCloseDrawer:o[4]||(o[4]=d=>t.viewstate.openDrawerStateEdit=!1),onFormsubmitted:o[5]||(o[5]=d=>t.formSubmitted(d)),key:t.viewstate.editid},null,8,["viewstate"]))]),_:1},8,["pagename","drawerState","editid","outerWidth"]))])],2)])]),t.viewstate.showDeleteModal?(c(),O(x,{key:0,editid:t.viewstate.editid,onCloseModal:o[7]||(o[7]=d=>t.viewstate.showDeleteModal=!1),onConfirmDelete:t.confirmDelete},null,8,["editid","onConfirmDelete"])):g("",!0),t.viewstate.openDrawerState?(c(),O(s,{key:1},{wizard:R(()=>[(c(),O(b,{viewstate:t.viewstate,onCloseDrawer:t.closeDrawerState,onFormsubmitted:o[8]||(o[8]=d=>t.formSubmitted(d)),key:t.viewstate.editid},null,8,["viewstate","onCloseDrawer"]))]),_:1})):g("",!0),t.viewstate.showConfirmModal?(c(),O(a,{key:2,onCloseModal:o[9]||(o[9]=d=>t.viewstate.showConfirmModal=!1),onAction1:t.runTaskNow},{title:R(()=>[hl]),question:R(()=>[vl]),action1:R(()=>[gl]),action2:R(()=>[yl]),_:1},8,["onAction1"])):g("",!0),t.viewstate.showTaskRunHistoryModal?(c(),O(_,{key:3,onClose:o[10]||(o[10]=d=>t.viewstate.showTaskRunHistoryModal=!1),task_id:t.historyTaskId},null,8,["task_id"])):g("",!0)],64)}const Pl=$(sl,[["render",wl]]);export{Pl as default};
