import{x,c4 as d,_ as O,D as $,c as f,a as e,b as i,u as n,s as h,w,r as S,o as l,bS as b,a4 as M,I as z,J as B,K as j,e as I,v as G,t as D,d as N,c2 as V,L as K}from"./app-BmGHSIr0.js";import P from"./MSLogo-CGzWkNw7.js";import R from"./OktaLogo-BCFN4n2J.js";import T from"./GoogleLogo-BWuS_V67.js";import A from"./PassboltLogo-CXBgGiES.js";import E from"./StatusGreenIcon-C5Lo1VKs.js";import F from"./StatusGrayIcon-BSu_xhBm.js";import{S as U}from"./shield-user-C1Cw0JNc.js";import{I as J}from"./info-DwP3ilAk.js";/* empty css               */import"./RcToolTip.vue_vue_type_script_setup_true_lang-XcC5fzgR.js";function q(){const c=x(!1),a=x([]),g=x([]),u=x([]),_={MSLogo:d(P),OktaLogo:d(R),GoogleLogo:d(T),PassboltLogo:d(A)},y={StatusGreenIcon:d(E),StatusGrayIcon:d(F)};function p(){return c.value=!0,axios.get("/api/integrations/configured/").then(s=>{u.value=s.data,c.value=!1}).catch(s=>{console.log(s),c.value=!1})}function t(){return c.value=!0,axios.get("/api/integrations/options").then(s=>{a.value=s.data.data,a.value=a.value.filter(o=>o.status==="Active"),a.value=a.value.map(o=>(!o.icon||!_[o.icon]?(console.warn(`Icon component '${o.icon}' not found for integration: ${o.name}`),o.iconComponent=null):o.iconComponent=_[o.icon],o)),g.value=a.value.filter(o=>o.type==="SSO"),c.value=!1}).catch(s=>{console.error("Failed to fetch integrations:",s),c.value=!1})}function m(s){if(!u.value||!u.value.auth_services)return!1;const o={Okta:"okta",Microsoft:"microsoft",Google:"google",SAML2:"saml2"};let v=null;for(const[C,L]of Object.entries(o))if(s.name.includes(C)){v=L;break}return!v||!u.value.auth_services[v]?!1:u.value.auth_services[v].is_configured===!0}function k(s){s.external_url===1?window.open(s.config_url,"_blank"):window.location.href=s.config_url}function r(){return Promise.all([t(),p()])}return{isLoading:c,integrations:a,ssoIntegrations:g,configuredIntegrations:u,statusIcons:y,getConfiguredIntegrations:p,getIntegrationOptions:t,isIntegrationConfigured:m,openLink:k,initializeIntegrations:r}}const H={class:"pb-16 pl-10 space-y-6 md:block"},Q={class:"space-y-0.5"},W={class:"flex items-center space-x-2 text-2xl font-bold tracking-tight"},X={class:"flex justify-center w-full"},Y={class:"flex flex-col items-center w-full gap-4 md:w-3/4"},Z={class:"grid w-full max-w-full items-center gap-1.5"},ee={key:0,class:"flex items-center justify-center w-full"},te={key:1,class:"flex items-start gap-4 mt-6"},se={class:"w-3/4"},oe={class:"flex items-center gap-2 mt-2 text-xs text-muted-foreground"},ne=["href"],ae={class:"space-y-6 mt-4"},ie={class:"flex items-center"},re={class:"flex-shrink-0"},le={class:"ml-2 flex items-center justify-between w-full"},ce={class:"text-sm font-medium text-muted-foreground"},ue={class:"flex items-center justify-end w-full"},de={key:0,class:"ml-1.5"},fe={__name:"Main",setup(c){const{isLoading:a,ssoIntegrations:g,isIntegrationConfigured:u,openLink:_,initializeIntegrations:y}=q();return $(()=>{y()}),(p,t)=>{const m=S("RcIcon"),k=S("Button");return l(),f("div",H,[e("div",Q,[e("h2",W,[i(m,{name:"integrations",class:"w-8 h-8"}),t[0]||(t[0]=e("span",null,"Integrations",-1))]),t[1]||(t[1]=e("p",{class:"text-muted-foreground"},"Setup integrations with systems for security and credentials",-1))]),i(n(b),{class:"my-6"}),e("div",X,[e("div",Y,[e("div",Z,[t[5]||(t[5]=e("h3",{class:"rc-panel-heading"},"rConfig Integrations",-1)),t[6]||(t[6]=e("p",{class:"text-sm text-muted-foreground"},"Setup integrations with systems for security and credentials",-1)),n(a)?(l(),f("div",ee,[i(M)])):h("",!0),n(a)?h("",!0):(l(),f("div",te,[i(n(U),{color:"#eed49f",size:"24"}),e("div",se,[t[3]||(t[3]=e("div",null,[e("strong",null,"SSO Integrations")],-1)),t[4]||(t[4]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},[e("span",{class:"text-gray-500 dark:text-gray-400"}," SSO Integrations allow you to use your existing SSO provider to authenticate users in rConfig. This is useful for organizations that want to centralize user management and authentication. ")],-1)),e("div",oe,[i(n(J),{color:"#8aadf4",size:"12"}),e("a",{href:p.$rconfigDocsUrl+"/integrations/sso/sso-overview/",target:"_blank",class:"text-blue-500 underline"}," Learn more about SSO Integrations ",8,ne)]),i(n(K),{class:"mt-4"},{default:w(()=>[i(n(z),null,{default:w(()=>[e("div",ae,[(l(!0),f(B,null,j(n(g),r=>(l(),f("div",{class:"rounded-md border p-4",key:r.id},[e("div",ie,[e("div",re,[r.iconComponent?(l(),I(G(r.iconComponent),{key:0,class:"w-6 h-6"})):h("",!0)]),e("div",le,[e("div",null,[e("h3",ce,D(r.name),1)]),e("div",ue,[i(k,{variant:"outline",size:"sm",onClick:s=>n(_)(r),class:"flex items-center gap-1 text-xs",disabled:n(a)},{default:w(()=>[t[2]||(t[2]=N(" Configure ",-1)),r.external_url===1?(l(),f("span",de,[i(n(V),{class:"w-4 h-4"})])):h("",!0)]),_:2},1032,["onClick","disabled"]),n(u)(r)?(l(),I(m,{key:0,name:"status-green",class:"w-6 h-6 ml-2"})):(l(),I(m,{key:1,name:"status-gray",class:"w-6 h-6 ml-2"}))])])])]))),128))])]),_:1})]),_:1})])])),i(n(b),{class:"my-6"})])])])])}}},Se=O(fe,[["__scopeId","data-v-20223ed7"]]);export{Se as default};
