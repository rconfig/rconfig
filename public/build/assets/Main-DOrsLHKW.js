import{B as Se,C as Te,R as Ve,v as _,y as le,E as ge,F as De,r as K,e as j,o as r,w as s,b as l,u as t,H as Ne,I as Re,a as n,J as Ae,K as Oe,t as $,c as m,d as a,M as X,N as h,s as Ee,n as Q,c1 as ne,Q as ze,U as oe,_ as Fe,g as ye,x as ue,q as V,T as He,a3 as _e,c5 as de,aS as et,z as tt,bD as Me,bE as lt,cw as st,a0 as Ie,c6 as te,a2 as Ue,at,a4 as xe,au as ot,av as nt,bb as dt,az as Le,bu as rt,b6 as ke,cu as ut,cx as it,a9 as mt,aa as ft,cy as vt,P as gt}from"./app-CJzaFoze.js";import{i as Be,f as qe,_ as Ke,a as be,b as G,c as We,d as Ge,e as J,n as Je,g as Qe,x as pt,v as yt,C as ct,o as Ce,u as xt,h as kt,j as Xe,k as bt,l as wt,m as $t}from"./useRowSelection-BFCWzlct.js";import{_ as $e}from"./BadgeList-4vlrJdLK.js";import{C as Ye}from"./circle-check-big-CMcUnYvW.js";import{C as Ze}from"./clock-D43-sGns.js";import{I as _t}from"./info-DQTur3RV.js";import{S as Ct}from"./settings-BnpZyw7k.js";import{C as St}from"./calendar-B-SKnn1i.js";import{T as Tt,F as Vt,S as Dt,_ as ee}from"./SelectLabel-CCfwbPCA.js";import{S as je}from"./search-C_mFc5fq.js";import{u as Et,_ as It,a as Pt}from"./TagMultiSelect-DRXu6HV2.js";import{X as Mt}from"./x-BZtJYEPQ.js";import{a as ie,b as me,c as fe,d as o,_ as ve}from"./SelectScrollDownButton-J3p3NQBa.js";import{_ as pe}from"./SelectGroup-DejCAw_l.js";/* empty css               */import"./useCopy-BWNQ9n7L.js";import"./HoverCardTrigger-Cn5OPtsS.js";import"./cloud-alert-CDaoKUU3.js";const Lt={class:"flex items-center"},jt={class:"ml-2"},Nt={class:"flex flex-col h-[70vh] gap-1 text-center"},Rt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-2 md:p-4 gap-2 sm:gap-0"},At={class:"flex items-center justify-center sm:justify-start ml-0 sm:ml-2"},Ot={class:"text-sm text-rcgray-300"},zt={class:"ml-1 font-mono"},Ft={class:"flex items-center justify-center sm:justify-end"},Ht={class:"px-2 md:px-6 overflow-auto"},Ut={key:0,class:"flex flex-col items-center justify-center p-4 md:p-8"},Bt={class:"w-12 h-12 md:w-16 md:h-16 mb-4 rounded-full bg-muted/50 flex items-center justify-center"},qt={key:1},Kt={class:"flex items-center space-x-1 md:space-x-2"},Wt={class:"flex items-center justify-end p-2 md:p-4 border-t border-rcgray-700"},Gt={__name:"TaskHistoryDialog",props:{taskId:{type:Number,default:0}},setup(v){const C=Se(),{isDialogOpen:c,closeDialog:f}=C,{toastError:D}=Te(),d=Ve("formatters"),{reload:k}=Be(u),b=v,P=_([]),T=_(!1),E=_(1),H=_(1),w=_(10),e=_(0);async function u(){if(b.taskId){T.value=!0;try{const i=await oe.get(`/api/tasks/monitored/${b.taskId}`,{params:{page:E.value,per_page:w.value}});P.value=i.data.data||[],H.value=i.data.last_page||1,e.value=i.data.total||0}catch(i){console.error("Error fetching task history:",i),D("Error","Failed to fetch task history.")}finally{T.value=!1}}}function I(i){const g=i.toLowerCase();return g.includes("started")?{icon:pt,color:"text-blue-500",variant:"primary"}:g.includes("finished")?{icon:Ye,color:"text-green-500",variant:"success"}:g.includes("failed")||g.includes("error")?{icon:yt,color:"text-red-500",variant:"danger"}:{icon:Ze,color:"text-gray-500",variant:"default"}}function R(i){i.key==="Escape"&&f("DialogViewHistory")}return le(E,()=>{u()}),le(()=>b.taskId,i=>{i&&u()}),ge(()=>{window.addEventListener("keydown",R)}),De(()=>{window.removeEventListener("keydown",R)}),(i,g)=>{const x=K("RcIcon"),A=K("RcBadge");return r(),j(t(ze),{open:t(c)("DialogViewHistory")},{default:s(()=>[l(t(Ne),{"as-child":""}),l(t(Re),{class:"max-w-[95vw] md:max-w-7xl gap-0 p-0 m-2 md:m-4 bg-rcgray-900 h-[90vh] md:h-auto",onEscapeKeyDown:g[4]||(g[4]=O=>t(f)("DialogViewHistory")),onCloseClicked:g[5]||(g[5]=O=>t(f)("DialogViewHistory"))},{default:s(()=>[l(t(Ae),{class:"rc-dialog-header"},{default:s(()=>[l(t(Oe),{class:"text-sm text-rcgray-200"},{default:s(()=>[n("div",Lt,[l(x,{name:"history"}),n("span",jt,"Task History - ID: "+$(v.taskId),1)])]),_:1}),g[6]||(g[6]=n("p",{class:"text-xs text-rcgray-400 mt-1"}," View the execution history for this scheduled task ",-1))]),_:1}),n("div",Nt,[n("div",Rt,[n("div",At,[n("div",Ot,[g[7]||(g[7]=n("span",{class:"font-medium"},"Total Runs:",-1)),n("span",zt,$(e.value),1)])]),n("div",Ft,[l(x,{name:"refresh",class:"w-4 h-4 mx-2 md:mx-4 text-muted-foreground cursor-pointer hover:text-rcgray-200",onClick:g[0]||(g[0]=O=>t(k)())})])]),n("div",Ht,[v.taskId?(r(),m("div",qt,[l(t(qe),null,{default:s(()=>[l(t(Ke),null,{default:s(()=>[l(t(be),null,{default:s(()=>[l(t(G),{class:"w-[8%] min-w-[60px] text-xs md:text-sm"},{default:s(()=>[...g[10]||(g[10]=[a("Task ID",-1)])]),_:1}),l(t(G),{class:"w-[8%] min-w-[80px] text-xs md:text-sm"},{default:s(()=>[...g[11]||(g[11]=[a("Monitored Task ID",-1)])]),_:1}),l(t(G),{class:"w-[12%] min-w-[60px] text-xs md:text-sm"},{default:s(()=>[...g[12]||(g[12]=[a("Type",-1)])]),_:1}),l(t(G),{class:"w-[15%] min-w-[100px] text-xs md:text-sm"},{default:s(()=>[...g[13]||(g[13]=[a("Status",-1)])]),_:1}),l(t(G),{class:"w-[15%] min-w-[100px] text-xs md:text-sm"},{default:s(()=>[...g[14]||(g[14]=[a("Timestamp",-1)])]),_:1})]),_:1})]),_:1}),l(t(We),null,{default:s(()=>[T.value?(r(),j(Ge,{key:0})):P.value.length>0?(r(!0),m(X,{key:1},h(P.value,O=>(r(),j(t(be),{key:O.id},{default:s(()=>[l(t(J),{class:"text-start font-mono text-xs md:text-sm"},{default:s(()=>[a($(O.task_id),1)]),_:2},1024),l(t(J),{class:"text-start font-mono text-xs md:text-sm"},{default:s(()=>[a($(O.monitored_scheduled_task_id),1)]),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>[l(A,{variant:"outline"},{default:s(()=>[a($(O.type),1)]),_:2},1024)]),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>[n("div",Kt,[(r(),j(Ee(I(O.meta).icon),{class:Q([I(O.meta).color,"w-3 h-3 md:w-4 md:h-4"])},null,8,["class"])),l(A,{variant:I(O.meta).variant},{default:s(()=>[a($(O.meta),1)]),_:2},1032,["variant"])])]),_:2},1024),l(t(J),{class:"text-start text-xs md:text-sm"},{default:s(()=>[a($(t(d).formatTime(O.created_at)),1)]),_:2},1024)]),_:2},1024))),128)):(r(),j(Je,{key:2}))]),_:1})]),_:1}),l(Qe,{currentPage:E.value,lastPage:H.value,perPage:w.value,"onUpdate:currentPage":g[1]||(g[1]=O=>E.value=O),"onUpdate:perPage":g[2]||(g[2]=O=>w.value=O),totalRecords:e.value,isLoading:T.value},null,8,["currentPage","lastPage","perPage","totalRecords","isLoading"])])):(r(),m("div",Ut,[n("div",Bt,[l(x,{name:"history",class:"w-6 h-6 md:w-8 md:h-8 text-muted-foreground"})]),g[8]||(g[8]=n("h3",{class:"text-base md:text-lg font-semibold mb-2"},"No Task Selected",-1)),g[9]||(g[9]=n("p",{class:"text-muted-foreground text-sm text-center max-w-sm"}," Select a task from the list to view its execution history ",-1))]))])]),n("div",Wt,[l(t(ne),{variant:"outline",size:"sm",onClick:g[3]||(g[3]=O=>t(f)("DialogViewHistory")),class:"px-3 py-1 md:px-4 text-sm"},{default:s(()=>[...g[15]||(g[15]=[a(" Close ",-1),n("div",{class:"pl-2 ml-auto hidden sm:block"},[n("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1})])]),_:1})]),_:1},8,["open"])}}},Jt={class:"space-y-6 ml-2"},Qt={class:"relative"},Xt={class:"space-y-6"},Yt={key:0,class:"absolute inset-0.5 rounded-full bg-gradient-to-br from-emerald-400/20 to-emerald-600/30 animate-pulse-slow"},Zt={key:3,class:"text-xs font-medium text-gray-400"},ht={class:"ml-4 flex-1"},el={class:"text-xs text-gray-500 mt-1"},tl={class:"p-3 bg-gray-800/30 rounded-lg border border-gray-700/50 mr-4"},ll={class:"flex items-center justify-between text-xs"},sl={class:"text-white font-medium"},al={__name:"NavPanel",props:{currentStep:{type:Number,required:!0,default:1},completedSteps:{type:Array,default:()=>[]}},setup(v){const C=v,c=[{id:2,key:"taskInfo",label:"Task Info",icon:_t,color:"#04a5e5",description:"Basic information"},{id:3,key:"taskConfiguration",label:"Configuration",icon:Ct,color:"#c6a0f6",description:"Configure parameters"},{id:4,key:"taskSchedule",label:"Schedule",icon:St,color:"#f97316",description:"Set timing"},{id:5,key:"taskFinalize",label:"Finalize",icon:Ye,color:"#059669",description:"Review & finalize"}],f=d=>(Array.isArray(C.completedSteps)?C.completedSteps:[]).includes(d.id)?"completed":d.id===C.currentStep?"active":d.id<C.currentStep?"completed":"pending",D=ye(()=>{const d=Array.isArray(C.completedSteps)?C.completedSteps:[];return Math.round(d.length/c.length*100)});return(d,k)=>(r(),m("div",Jt,[n("div",Qt,[n("div",{class:"absolute left-4 top-0 w-0.5 bg-gradient-to-b from-cyan-500 via-purple-500 to-emerald-600 transition-all duration-1000 ease-out",style:ue({height:`${D.value}%`})},null,4),n("div",Xt,[(r(),m(X,null,h(c,(b,P)=>n("div",{key:b.id,class:"relative flex items-center group"},[n("div",{class:Q(["relative z-10 w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all duration-300 hover:scale-110",{"bg-gray-800 border-gray-600":f(b)==="pending","border-gray-500 shadow-lg":f(b)==="active","completed-step-circle":f(b)==="completed"}]),style:ue(f(b)==="active"?{borderColor:b.color,backgroundColor:b.color+"20",boxShadow:`0 0 15px ${b.color}40`}:{})},[f(b)==="completed"?(r(),m("div",Yt)):V("",!0),f(b)==="completed"?(r(),j(t(ct),{key:1,class:"w-4 h-4 text-emerald-100 relative z-10 drop-shadow-sm animate-check-in"})):f(b)==="active"?(r(),j(Ee(b.icon),{key:2,class:"w-4 h-4",style:ue({color:b.color})},null,8,["style"])):(r(),m("span",Zt,$(P+1),1))],6),n("div",ht,[n("div",{class:Q(["font-medium transition-all duration-300",{"text-gray-400":f(b)==="pending","text-white":f(b)==="active"||f(b)==="completed"}]),style:ue(f(b)==="active"?{color:b.color}:{})},$(b.label),7),n("div",el,$(b.description),1),f(b)==="active"?(r(),m("div",{key:0,class:"mt-1.5 flex items-center text-xs font-medium animate-pulse",style:ue({color:b.color})},[n("div",{class:"w-1.5 h-1.5 rounded-full mr-2",style:ue({backgroundColor:b.color})},null,4),k[0]||(k[0]=a(" Current Step ",-1))],4)):V("",!0)])])),64))])]),n("div",tl,[n("div",ll,[k[1]||(k[1]=n("span",{class:"text-gray-400"},"Status:",-1)),n("span",sl," Step "+$(C.currentStep-1)+" of "+$(c.length),1)])])]))}},ol=Fe(al,[["__scopeId","data-v-082596a1"]]);function nl(){return{commands:He({1:{id:1,command:"rconfig:download-device",label:"Devices",description:"Get configs for one or many devices",categoryLabel:"Config Downloads",iconClass:"fa fa-th"},2:{id:2,command:"rconfig:download-category",label:"Command Groups",description:"Get configs for one or many command groups",categoryLabel:"Config Downloads",iconClass:"fa fa-object-group"},3:{id:3,command:"rconfig:download-tag",label:"Tags",description:"Get configs for one or many tags",categoryLabel:"Config Downloads",iconClass:"fa fa-tag"}})}}function dl(v,C){const{commands:c}=nl(),f=_(null),D=_(""),d=_("all"),k=_({config:!0}),b={"rconfig:download-device":Dt,"rconfig:download-category":Vt,"rconfig:download-tag":Tt},P={"Config Downloads":"config"},T=[{key:"all",label:"All Tasks",count:0},{key:"config",label:"Config Downloads",count:0}],E=ye(()=>{let i=Object.values(c);if(D.value){const g=D.value.toLowerCase();i=i.filter(x=>x.label.toLowerCase().includes(g)||x.description.toLowerCase().includes(g)||x.categoryLabel.toLowerCase().includes(g))}return d.value!=="all"&&(i=i.filter(g=>P[g.categoryLabel]===d.value)),i}),H=ye(()=>{const i={all:Object.values(c).length,config:0,api:0,snippets:0,other:0};return Object.values(c).forEach(g=>{const x=P[g.categoryLabel];x&&i[x]++}),T.map(g=>({...g,count:i[g.key]}))}),w=i=>{f.value=i.command,v.model.task_command=i.command,e(i.command),C("taskSelected",i)};function e(i){v.model.task_devices=0,v.model.task_tags=0,v.model.task_categories=0;const x={"rconfig:download-device":{task_devices:1},"rconfig:download-category":{task_categories:1},"rconfig:download-tag":{task_tags:1}}[i];x&&Object.assign(v.model,x),delete v.model.category,delete v.model.tag,delete v.model.device}function u(){f.value&&C("continue")}function I(i){k.value[i]=!k.value[i]}function R(i){let g=Object.values(c);if(D.value){const x=D.value.toLowerCase();g=g.filter(A=>A.label.toLowerCase().includes(x)||A.description.toLowerCase().includes(x)||A.categoryLabel.toLowerCase().includes(x))}return d.value!=="all"&&(g=g.filter(x=>P[x.categoryLabel]===d.value)),g.filter(x=>P[x.categoryLabel]===i)}return ge(()=>{v.model.task_command&&(f.value=v.model.task_command)}),le(D,(i,g)=>{g&&g.length>0&&(!i||i.length===0)?k.value={config:!0}:i&&i.length>0&&["config"].filter(A=>R(A).length>0).forEach(A=>{k.value[A]=!1})}),le(d,i=>{i!=="all"&&(k.value[i]=!1)}),{selectedValue:f,searchTerm:D,activeCategory:d,collapsedCategories:k,iconMap:b,categoryMap:P,categories:T,commands:c,filteredCommands:E,categoriesWithCounts:H,handleTaskSelect:w,setTaskType:e,continueToNextStep:u,toggleCategory:I,getCategoryTasks:R}}const rl={class:"space-y-3 px-3"},ul={class:"space-y-2"},il={class:"relative max-w-md mx-auto"},ml={class:"flex flex-wrap justify-center gap-2"},fl={class:"space-y-3"},vl={key:0,class:"result-section"},gl={class:"w-full flex items-center text-blue-300 text-sm font-medium"},pl={class:"pl-4 space-y-0"},yl=["onClick"],cl={class:"flex items-center space-x-2"},xl={class:"font-medium text-gray-900 dark:text-white"},kl={class:"text-xs text-gray-500 dark:text-gray-400"},bl={key:0,class:"text-blue-300"},wl={key:1,class:"text-center py-6"},$l={key:0,class:"flex justify-center pt-2"},_l={__name:"TaskTypeSelection",props:{model:Object},emits:["taskSelected","continue"],setup(v,{emit:C}){const c=v,f=C,{selectedValue:D,searchTerm:d,activeCategory:k,collapsedCategories:b,iconMap:P,commands:T,filteredCommands:E,categoriesWithCounts:H,handleTaskSelect:w,continueToNextStep:e,toggleCategory:u,getCategoryTasks:I}=dl(c,f);return(R,i)=>{const g=K("RcIcon");return r(),m("div",rl,[i[8]||(i[8]=n("div",{class:"text-center space-y-1"},[n("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Select Task Type"),n("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Choose the type of task you want to create ")],-1)),n("div",ul,[n("div",il,[l(t(je),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l(t(de),{modelValue:t(d),"onUpdate:modelValue":i[0]||(i[0]=x=>_e(d)?d.value=x:null),placeholder:"Search tasks...",class:"pl-10 h-9 text-sm bg-white dark:bg-rcgray-900 border-gray-200 dark:border-gray-700 rounded-md"},null,8,["modelValue"])]),n("div",ml,[(r(!0),m(X,null,h(t(H),x=>(r(),j(t(ne),{key:x.key,onClick:A=>k.value=x.key,size:"sm",variant:"outline",class:Q(["px-2 py-0.5 text-xs hover:animate-pulse flex items-center",t(k)===x.key?"bg-gray-50 border-gray-300 text-gray-700 dark:bg-rcgray-900 dark:border-slate-600 dark:text-slate-100":""])},{default:s(()=>[a($(x.label)+" ",1),l(et,{variant:"outline",size:"small",class:Q(["ml-1",{"border-blue-300 text-blue-300 bg-blue-50 dark:border-blue-300 dark:text-blue-300 dark:bg-blue-900/20":x.key==="config","border-gray-400 text-gray-600 bg-gray-50 dark:border-gray-500 dark:text-gray-400 dark:bg-gray-800/20":x.key==="all"}])},{default:s(()=>[a($(x.count),1)]),_:2},1032,["class"])]),_:2},1032,["onClick","class"]))),128))])]),l(t(Ie),{class:"h-[400px] w-full rounded-md border p-3"},{default:s(()=>[n("div",fl,[t(I)("config").length>0?(r(),m("div",vl,[n("div",{onClick:i[1]||(i[1]=x=>t(u)("config")),class:"flex items-center mb-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-rcgray-600 rounded-md p-1.5"},[t(b).config?(r(),j(t(Me),{key:0,class:"w-4 h-4 mr-2 text-blue-300"})):(r(),j(t(lt),{key:1,class:"w-4 h-4 mr-2 text-blue-300"})),l(g,{name:"config-tools",class:"w-4 h-4 mr-3"}),n("div",gl,[i[3]||(i[3]=n("span",null,"Config Downloads",-1)),i[4]||(i[4]=n("div",{class:"flex-1 mx-2 border-t border-blue-300 opacity-30"},null,-1)),n("span",null,"("+$(t(I)("config").length)+")",1)])]),tt(n("div",pl,[(r(!0),m(X,null,h(t(I)("config"),x=>(r(),m("div",{key:x.id,onClick:A=>t(w)(x),class:Q(["flex items-center justify-between w-full px-2 py-1.5 text-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-rcgray-600 rounded-md transition-colors",{"bg-blue-50 dark:bg-blue-900/20 border-l-3 border-blue-300":t(D)===x.command}])},[n("div",cl,[(r(),j(Ee(t(P)[x.command]),{class:"h-4 w-4 text-gray-600 dark:text-gray-400"})),n("div",null,[n("div",xl,$(x.label),1),n("div",kl,$(x.description),1)])]),t(D)===x.command?(r(),m("div",bl,[...i[5]||(i[5]=[n("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):V("",!0)],10,yl))),128))],512),[[st,!t(b).config]])])):V("",!0),t(E).length===0?(r(),m("div",wl,[l(t(je),{class:"w-8 h-8 text-gray-400 mx-auto mb-2"}),i[6]||(i[6]=n("h3",{class:"text-sm font-medium text-gray-900 dark:text-white mb-1"},"No tasks found",-1)),i[7]||(i[7]=n("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Try adjusting your search or filter criteria.",-1))])):V("",!0)])]),_:1}),t(D)?(r(),m("div",$l,[l(t(ne),{onClick:i[2]||(i[2]=x=>t(e)()),class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",size:"sm",variant:"outline"},{default:s(()=>{var x;return[l(t(Me),{class:"h-4 w-4 mr-0.5"}),a(" Continue with "+$((x=Object.values(t(T)).find(A=>A.command===t(D)))==null?void 0:x.label),1)]}),_:1})])):V("",!0)])}}},Cl=Fe(_l,[["__scopeId","data-v-36ec0c8c"]]),Sl={class:"grid gap-2 p-4"},Tl={class:"grid items-center grid-cols-4 gap-4"},Vl={class:"grid items-center grid-cols-4 gap-4"},Dl={__name:"Step2",props:{model:Object},setup(v){return(C,c)=>(r(),m("div",null,[c[4]||(c[4]=n("h3",{class:"mb-5 text-lg font-medium text-gray-900 dark:text-white"},"Enter Task Details",-1)),n("div",Sl,[n("div",Tl,[l(t(te),{for:"task_name",class:"text-right"},{default:s(()=>[...c[2]||(c[2]=[a(" Task Name ",-1),n("span",{class:"text-red-500"},"*",-1)])]),_:1}),l(t(de),{modelValue:v.model.task_name,"onUpdate:modelValue":c[0]||(c[0]=f=>v.model.task_name=f),id:"task_name",autocomplete:"off",class:"col-span-3 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"])]),n("div",Vl,[l(t(te),{for:"task_desc",class:"text-right"},{default:s(()=>[...c[3]||(c[3]=[a(" Description ",-1)])]),_:1}),l(t(de),{modelValue:v.model.task_desc,"onUpdate:modelValue":c[1]||(c[1]=f=>v.model.task_desc=f),id:"task_desc",autocomplete:"off",class:"col-span-3 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"])])])]))}},El={key:0,class:"flex-1 text-left mr-2"},Il={key:1,class:"flex flex-wrap gap-1 flex-1 overflow-hidden"},Pl={class:"flex items-center text-xs font-medium px-2.5 py-0.5 rounded-xl border whitespace-nowrap max-w-[150px]"},Ml={class:"truncate"},Ll={key:0,class:"flex items-center text-xs font-medium px-2.5 py-0.5 rounded-xl border bg-muted text-muted-foreground flex-shrink-0"},jl={class:"relative items-center w-full"},Nl={class:"absolute inset-y-0 flex items-center justify-center px-2 start-0"},Rl={class:"py-1"},Al=["onClick"],Ol={class:"cursor-default text-xs font-medium me-2 px-2.5 py-0.5 rounded-xl border"},zl={key:0,class:"text-center rc-text-xs-muted"},Fl={key:1,class:"flex justify-center py-2"},Hl={key:2,class:"text-center py-2 rc-text-xs-muted"},Ul={key:3,class:"text-center py-4 rc-text-xs-muted"},Bl={__name:"DeviceMultiSelect",props:{modelValue:{type:[Array,Object],required:!0},singleSelect:{type:Boolean,default:!1},placeholder:{type:String,default:"Select devices"}},emits:["update:modelValue"],setup(v,{emit:C}){const c=C,f=_([]),D=_(!1),d=_(!1),k=_(!0),b=_(1),P=_(0),T=_(""),E=_(null),H=v,{selectedItems:w,selectItem:e,deleteItem:u}=Et({items:f,modelValue:H.modelValue,singleSelect:H.singleSelect,displayField:"device_name",searchFields:["device_name"],emit:c}),I=ye(()=>{if(!T.value)return f.value;const M=T.value.toLowerCase();return f.value.filter(N=>N.device_name.toLowerCase().includes(M))}),R=ye(()=>T.value?I.value:f.value);function i(M){const N=w.value.find(B=>B.device_name===M);N&&u(N.id)}const g=Ue(async M=>{M.length>0?await x(1,M,!0):A()},300);le(T,M=>{(M.length>=2||M.length===0)&&g(M)});async function x(M=1,N="",B=!1){M===1?D.value=!0:d.value=!0;try{const z={page:M,per_page:50,sort:"device_name"};N&&(z["filter[device_name]"]=N);const S=await oe.get("/api/get-devices-filter-list",{params:z}),U=S.data.data;if(B||M===1)f.value=U;else{const F=new Set(f.value.map(se=>se.id)),Z=U.filter(se=>!F.has(se.id));f.value=[...f.value,...Z]}b.value=S.data.current_page,k.value=S.data.current_page<S.data.last_page,P.value=S.data.total}catch(z){console.error("Error fetching devices:",z)}finally{D.value=!1,d.value=!1}}function A(){f.value=[],b.value=1,k.value=!0,x(1)}async function O(M){if(T.value||d.value||!k.value)return;const{scrollTop:N,scrollHeight:B,clientHeight:z}=M.target;N+z>=B-100&&await x(b.value+1)}function q(){dt(()=>{var N,B,z;const M=((N=E.value)==null?void 0:N.querySelector("[data-radix-scroll-area-viewport]"))||((B=E.value)==null?void 0:B.querySelector(".scroll-area-viewport"))||((z=E.value)==null?void 0:z.querySelector("[data-scroll-area-viewport]"));M?M.addEventListener("scroll",O):E.value&&E.value.addEventListener("scroll",O)})}return ge(()=>{x(1),q()}),(M,N)=>{const B=K("RcIcon"),z=K("Button"),S=K("Input"),U=K("Separator");return r(),j(t(nt),null,{default:s(()=>[l(t(at),{class:"flex items-center"},{default:s(()=>[l(z,{variant:"ghost",class:Q(["flex items-center justify-start p-1 pl-2 border h-fit gap-1 min-w-2xl",t(w).length===0?"text-muted-foreground":""])},{default:s(()=>[l(B,{name:"device",class:"flex-shrink-0 mx-2"}),t(w)&&t(w).length===0?(r(),m("span",El," Select devices ")):(r(),m("div",Il,[(r(!0),m(X,null,h(t(w).slice(0,3),(F,Z)=>(r(),m("span",{key:F.id,class:"relative group flex-shrink-0"},[n("span",Pl,[n("span",Ml,$(F.device_name),1),l(t(Mt),{size:"10",class:"ml-1 cursor-pointer text-rcgray-300 hover:text-white flex-shrink-0",onClick:xe(se=>i(F.device_name),["stop"])},null,8,["onClick"])])]))),128)),t(w).length>3?(r(),m("span",Ll," +"+$(t(w).length-3)+" more ",1)):V("",!0)]))]),_:1},8,["class"])]),_:1}),l(t(ot),{side:"bottom",align:"start",class:"col-span-3 p-0"},{default:s(()=>[n("div",jl,[l(S,{id:"search",type:"text",modelValue:T.value,"onUpdate:modelValue":N[0]||(N[0]=F=>T.value=F),autocomplete:"off",placeholder:"Search...",class:"pl-10 border-none focus:outline-none focus-visible:ring-0 text-muted-foreground font-inter"},null,8,["modelValue"]),n("span",Nl,[l(B,{name:"search"})])]),l(U),l(t(Ie),{ref_key:"scrollContainer",ref:E,class:"h-64"},{default:s(()=>[n("div",Rl,[D.value?(r(),j(B,{key:0,name:"three-dots-loading",class:"w-8 h-8 mx-auto my-4 text-muted-foreground"})):(r(),m(X,{key:1},[(r(!0),m(X,null,h(R.value,F=>(r(),m("div",{key:F.id,class:"w-full p-1 pl-2 my-1 text-xs rounded-lg hover:bg-rcgray-600 cursor-pointer",onClick:Z=>t(e)(F)},[n("span",Ol,$(F.device_name),1)],8,Al))),128)),k.value&&!T.value?(r(),m("div",zl,[l(z,{onClick:N[1]||(N[1]=F=>x(b.value+1)),disabled:d.value,variant:"outline",class:"load-more-btn my-4"},{default:s(()=>[N[2]||(N[2]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[n("path",{d:"M12 8v8m0 0l4-4m-4 4l-4-4"}),n("path",{d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})],-1)),a(" "+$(d.value?"Loading...":`Load More (${f.value.length}/${P.value})`),1)]),_:1},8,["disabled"])])):V("",!0),d.value?(r(),m("div",Fl,[l(B,{name:"three-dots-loading",class:"w-6 h-6 text-muted-foreground"})])):!k.value&&!T.value&&f.value.length>0?(r(),m("div",Hl,"No more devices to load ("+$(f.value.length)+" total)",1)):T.value&&R.value.length===0?(r(),m("div",Ul," No devices found ")):V("",!0)],64))])]),_:1},512)]),_:1})]),_:1})}}},ql={class:"space-y-4"},Kl={key:0,class:"space-y-2"},Wl={key:1,class:"space-y-2"},Gl={key:2,class:"space-y-2"},Jl={class:"space-y-4"},Ql={class:"flex flex-row items-center justify-between p-4 space-y-2 border rounded-lg"},Xl={class:"flex flex-row items-center justify-between p-4 space-y-2 border rounded-lg"},Yl={__name:"Step3",props:{model:Object},setup(v){return(C,c)=>(r(),m("div",null,[c[11]||(c[11]=n("h3",{class:"mb-5 text-lg font-medium text-gray-900 dark:text-white"},"Task Configuration",-1)),n("div",ql,[v.model.task_command==="rconfig:download-device"?(r(),m("div",Kl,[l(t(te),{for:"device-select",class:"block"},{default:s(()=>[...c[5]||(c[5]=[a("Devices",-1)])]),_:1}),l(Bl,{modelValue:v.model.device,"onUpdate:modelValue":c[0]||(c[0]=f=>v.model.device=f),id:"device-select",class:"block"},null,8,["modelValue"])])):V("",!0),v.model.task_command==="rconfig:download-category"?(r(),m("div",Wl,[l(t(te),{for:"category-select",class:"block"},{default:s(()=>[...c[6]||(c[6]=[a("Command Groups",-1)])]),_:1}),l(It,{modelValue:v.model.category,"onUpdate:modelValue":c[1]||(c[1]=f=>v.model.category=f),id:"category-select",class:"block"},null,8,["modelValue"])])):V("",!0),v.model.task_command==="rconfig:download-tag"?(r(),m("div",Gl,[l(t(te),{for:"tag-select",class:"block"},{default:s(()=>[...c[7]||(c[7]=[a("Tags",-1)])]),_:1}),l(Pt,{modelValue:v.model.tag,"onUpdate:modelValue":c[2]||(c[2]=f=>v.model.tag=f),id:"tag-select",class:"block"},null,8,["modelValue"])])):V("",!0)]),n("div",null,[c[10]||(c[10]=n("h3",{class:"mt-4 mb-2 text-sm font-medium"},"Task Email Settings",-1)),n("div",Jl,[n("div",Ql,[c[8]||(c[8]=n("div",{class:"space-y-0.5"},[n("label",{for:"radix-v-37-form-item",class:"text-base font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Failure Only Report "),n("p",{id:"radix-v-37-form-item-description",class:"text-sm text-muted-foreground"}," Send an email report only when a task fails ")],-1)),l(t(Le),{checked:v.model.download_report_notify,"onUpdate:checked":c[3]||(c[3]=f=>v.model.download_report_notify=!v.model.download_report_notify)},null,8,["checked"])]),n("div",Xl,[c[9]||(c[9]=n("div",{class:"space-y-0.5"},[n("label",{for:"radix-v-37-form-item",class:"text-base font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Verbose Report "),n("p",{id:"radix-v-37-form-item-description",class:"text-sm text-muted-foreground"}," Send a detailed verbose report via email ")],-1)),l(t(Le),{checked:v.model.verbose_download_report_notify,"onUpdate:checked":c[4]||(c[4]=f=>v.model.verbose_download_report_notify=!v.model.verbose_download_report_notify)},null,8,["checked"])])])])]))}},Zl={class:"text-red-500"},hl={class:"flex w-full max-w-xl items-center gap-1.5"},es={class:"flex w-full max-w-xl items-center gap-1.5"},ts={class:"flex w-full max-w-xl items-center gap-1.5"},ls={class:"flex w-full max-w-xl items-center gap-1.5"},ss={class:"flex w-full max-w-xl items-center gap-1.5"},as={__name:"Step4CronForm",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(v,{emit:C}){const c=C,f=v,D=_(""),d=He({minute:f.modelValue[0]?f.modelValue[0]:"*",hour:f.modelValue[1]?f.modelValue[1]:"*",day:f.modelValue[2]?f.modelValue[2]:"*",month:f.modelValue[3]?f.modelValue[3]:"*",weekday:f.modelValue[4]?f.modelValue[4]:"*"}),{minute:k,hour:b,day:P,month:T,weekday:E}=rt(d);le(()=>[d.minute,d.hour,d.day,d.month,d.weekday],w=>{if(w[0]===""||w[1]===""||w[2]===""||w[3]===""||w[4]===""){D.value="All fields are required";return}f.modelValue=w,H()});function H(){c("update:modelValue",[d.minute,d.hour,d.day,d.month,d.weekday])}return ke(()=>{d.minute=f.modelValue[0],d.hour=f.modelValue[1],d.day=f.modelValue[2],d.month=f.modelValue[3],d.weekday=f.modelValue[4],D.value=""}),(w,e)=>(r(),m("div",null,[n("div",Zl,$(D.value),1),e[184]||(e[184]=n("br",null,null,-1)),n("div",hl,[l(t(te),{class:"w-1/4",for:"picture"},{default:s(()=>[...e[10]||(e[10]=[a(" Select Minute ",-1)])]),_:1}),l(t(de),{class:"w-1/4 focus:outline-none focus-visible:ring-0",modelValue:d.minute,"onUpdate:modelValue":e[0]||(e[0]=u=>d.minute=u)},null,8,["modelValue"]),l(t(ve),{modelValue:d.minute,"onUpdate:modelValue":e[1]||(e[1]=u=>d.minute=u),class:"w-1/2"},{default:s(()=>[l(t(ie),{class:"w-full focus:outline-none focus:ring-0"},{default:s(()=>[l(t(me),{placeholder:"Select an option"})]),_:1}),l(t(fe),null,{default:s(()=>[l(t(pe),null,{default:s(()=>[l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[11]||(e[11]=[a("Select an option",-1)])]),_:1}),l(t(o),{value:"*"},{default:s(()=>[...e[12]||(e[12]=[a("Every Minute (*)",-1)])]),_:1}),l(t(o),{value:"*/2"},{default:s(()=>[...e[13]||(e[13]=[a("Every Other Minute (*/2)",-1)])]),_:1}),l(t(o),{value:"*/5"},{default:s(()=>[...e[14]||(e[14]=[a("Every 5 Minutes (*/5)",-1)])]),_:1}),l(t(o),{value:"*/10"},{default:s(()=>[...e[15]||(e[15]=[a("Every 10 Minutes (*/10)",-1)])]),_:1}),l(t(o),{value:"*/15"},{default:s(()=>[...e[16]||(e[16]=[a("Every 15 Minutes (*/15)",-1)])]),_:1}),l(t(o),{value:"0,30"},{default:s(()=>[...e[17]||(e[17]=[a("Every 30 Minutes (0,30)",-1)])]),_:1}),l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[18]||(e[18]=[a("-- Minutes --",-1)])]),_:1}),l(t(o),{value:"0"},{default:s(()=>[...e[19]||(e[19]=[a(":00 Top of the Hour (0)",-1)])]),_:1}),l(t(o),{value:"1"},{default:s(()=>[...e[20]||(e[20]=[a(":01 (1)",-1)])]),_:1}),l(t(o),{value:"2"},{default:s(()=>[...e[21]||(e[21]=[a(":02 (2)",-1)])]),_:1}),l(t(o),{value:"3"},{default:s(()=>[...e[22]||(e[22]=[a(":03 (3)",-1)])]),_:1}),l(t(o),{value:"4"},{default:s(()=>[...e[23]||(e[23]=[a(":04 (4)",-1)])]),_:1}),l(t(o),{value:"5"},{default:s(()=>[...e[24]||(e[24]=[a(":05 (5)",-1)])]),_:1}),l(t(o),{value:"6"},{default:s(()=>[...e[25]||(e[25]=[a(":06 (6)",-1)])]),_:1}),l(t(o),{value:"7"},{default:s(()=>[...e[26]||(e[26]=[a(":07 (7)",-1)])]),_:1}),l(t(o),{value:"8"},{default:s(()=>[...e[27]||(e[27]=[a(":08 (8)",-1)])]),_:1}),l(t(o),{value:"9"},{default:s(()=>[...e[28]||(e[28]=[a(":09 (9)",-1)])]),_:1}),l(t(o),{value:"10"},{default:s(()=>[...e[29]||(e[29]=[a(":10 (10)",-1)])]),_:1}),l(t(o),{value:"11"},{default:s(()=>[...e[30]||(e[30]=[a(":11 (11)",-1)])]),_:1}),l(t(o),{value:"12"},{default:s(()=>[...e[31]||(e[31]=[a(":12 (12)",-1)])]),_:1}),l(t(o),{value:"13"},{default:s(()=>[...e[32]||(e[32]=[a(":13 (13)",-1)])]),_:1}),l(t(o),{value:"14"},{default:s(()=>[...e[33]||(e[33]=[a(":14 (14)",-1)])]),_:1}),l(t(o),{value:"15"},{default:s(()=>[...e[34]||(e[34]=[a(":15 Quarter Past (15)",-1)])]),_:1}),l(t(o),{value:"16"},{default:s(()=>[...e[35]||(e[35]=[a(":16 (16)",-1)])]),_:1}),l(t(o),{value:"17"},{default:s(()=>[...e[36]||(e[36]=[a(":17 (17)",-1)])]),_:1}),l(t(o),{value:"18"},{default:s(()=>[...e[37]||(e[37]=[a(":18 (18)",-1)])]),_:1}),l(t(o),{value:"19"},{default:s(()=>[...e[38]||(e[38]=[a(":19 (19)",-1)])]),_:1}),l(t(o),{value:"20"},{default:s(()=>[...e[39]||(e[39]=[a(":20 (20)",-1)])]),_:1}),l(t(o),{value:"21"},{default:s(()=>[...e[40]||(e[40]=[a(":21 (21)",-1)])]),_:1}),l(t(o),{value:"22"},{default:s(()=>[...e[41]||(e[41]=[a(":22 (22)",-1)])]),_:1}),l(t(o),{value:"23"},{default:s(()=>[...e[42]||(e[42]=[a(":23 (23)",-1)])]),_:1}),l(t(o),{value:"24"},{default:s(()=>[...e[43]||(e[43]=[a(":24 (24)",-1)])]),_:1}),l(t(o),{value:"25"},{default:s(()=>[...e[44]||(e[44]=[a(":25 (25)",-1)])]),_:1}),l(t(o),{value:"26"},{default:s(()=>[...e[45]||(e[45]=[a(":26 (26)",-1)])]),_:1}),l(t(o),{value:"27"},{default:s(()=>[...e[46]||(e[46]=[a(":27 (27)",-1)])]),_:1}),l(t(o),{value:"28"},{default:s(()=>[...e[47]||(e[47]=[a(":28 (28)",-1)])]),_:1}),l(t(o),{value:"29"},{default:s(()=>[...e[48]||(e[48]=[a(":29 (29)",-1)])]),_:1}),l(t(o),{value:"30"},{default:s(()=>[...e[49]||(e[49]=[a(":30 Half Past (30)",-1)])]),_:1}),l(t(o),{value:"31"},{default:s(()=>[...e[50]||(e[50]=[a(":31 (31)",-1)])]),_:1}),l(t(o),{value:"32"},{default:s(()=>[...e[51]||(e[51]=[a(":32 (32)",-1)])]),_:1}),l(t(o),{value:"33"},{default:s(()=>[...e[52]||(e[52]=[a(":33 (33)",-1)])]),_:1}),l(t(o),{value:"34"},{default:s(()=>[...e[53]||(e[53]=[a(":34 (34)",-1)])]),_:1}),l(t(o),{value:"35"},{default:s(()=>[...e[54]||(e[54]=[a(":35 (35)",-1)])]),_:1}),l(t(o),{value:"36"},{default:s(()=>[...e[55]||(e[55]=[a(":36 (36)",-1)])]),_:1}),l(t(o),{value:"37"},{default:s(()=>[...e[56]||(e[56]=[a(":37 (37)",-1)])]),_:1}),l(t(o),{value:"38"},{default:s(()=>[...e[57]||(e[57]=[a(":38 (38)",-1)])]),_:1}),l(t(o),{value:"39"},{default:s(()=>[...e[58]||(e[58]=[a(":39 (39)",-1)])]),_:1}),l(t(o),{value:"40"},{default:s(()=>[...e[59]||(e[59]=[a(":40 (40)",-1)])]),_:1}),l(t(o),{value:"41"},{default:s(()=>[...e[60]||(e[60]=[a(":41 (41)",-1)])]),_:1}),l(t(o),{value:"42"},{default:s(()=>[...e[61]||(e[61]=[a(":42 (42)",-1)])]),_:1}),l(t(o),{value:"43"},{default:s(()=>[...e[62]||(e[62]=[a(":43 (43)",-1)])]),_:1}),l(t(o),{value:"44"},{default:s(()=>[...e[63]||(e[63]=[a(":44 (44)",-1)])]),_:1}),l(t(o),{value:"45"},{default:s(()=>[...e[64]||(e[64]=[a(":45 Quarter Til (45)",-1)])]),_:1}),l(t(o),{value:"46"},{default:s(()=>[...e[65]||(e[65]=[a(":46 (46)",-1)])]),_:1}),l(t(o),{value:"47"},{default:s(()=>[...e[66]||(e[66]=[a(":47 (47)",-1)])]),_:1}),l(t(o),{value:"48"},{default:s(()=>[...e[67]||(e[67]=[a(":48 (48)",-1)])]),_:1}),l(t(o),{value:"49"},{default:s(()=>[...e[68]||(e[68]=[a(":49 (49)",-1)])]),_:1}),l(t(o),{value:"50"},{default:s(()=>[...e[69]||(e[69]=[a(":50 (50)",-1)])]),_:1}),l(t(o),{value:"51"},{default:s(()=>[...e[70]||(e[70]=[a(":51 (51)",-1)])]),_:1}),l(t(o),{value:"52"},{default:s(()=>[...e[71]||(e[71]=[a(":52 (52)",-1)])]),_:1}),l(t(o),{value:"53"},{default:s(()=>[...e[72]||(e[72]=[a(":53 (53)",-1)])]),_:1}),l(t(o),{value:"54"},{default:s(()=>[...e[73]||(e[73]=[a(":54 (54)",-1)])]),_:1}),l(t(o),{value:"55"},{default:s(()=>[...e[74]||(e[74]=[a(":55 (55)",-1)])]),_:1}),l(t(o),{value:"56"},{default:s(()=>[...e[75]||(e[75]=[a(":56 (56)",-1)])]),_:1}),l(t(o),{value:"57"},{default:s(()=>[...e[76]||(e[76]=[a(":57 (57)",-1)])]),_:1}),l(t(o),{value:"58"},{default:s(()=>[...e[77]||(e[77]=[a(":58 (58)",-1)])]),_:1}),l(t(o),{value:"59"},{default:s(()=>[...e[78]||(e[78]=[a(":59 (59)",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",es,[l(t(te),{class:"w-1/4",for:"picture"},{default:s(()=>[...e[79]||(e[79]=[a(" Select Hour ",-1)])]),_:1}),l(t(de),{class:"w-1/4 focus:outline-none focus-visible:ring-0",modelValue:d.hour,"onUpdate:modelValue":e[2]||(e[2]=u=>d.hour=u)},null,8,["modelValue"]),l(t(ve),{modelValue:d.hour,"onUpdate:modelValue":e[3]||(e[3]=u=>d.hour=u),class:"w-1/2"},{default:s(()=>[l(t(ie),{class:"w-full focus:outline-none focus:ring-0"},{default:s(()=>[l(t(me),{placeholder:"Select an option"})]),_:1}),l(t(fe),null,{default:s(()=>[l(t(pe),null,{default:s(()=>[l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[80]||(e[80]=[a("Select an option",-1)])]),_:1}),l(t(o),{value:"*"},{default:s(()=>[...e[81]||(e[81]=[a("Every Hour (*)",-1)])]),_:1}),l(t(o),{value:"*/2"},{default:s(()=>[...e[82]||(e[82]=[a("Every Other Hour (*/2)",-1)])]),_:1}),l(t(o),{value:"*/3"},{default:s(()=>[...e[83]||(e[83]=[a("Every 3 Hours (*/3)",-1)])]),_:1}),l(t(o),{value:"*/4"},{default:s(()=>[...e[84]||(e[84]=[a("Every 4 Hours (*/4)",-1)])]),_:1}),l(t(o),{value:"*/6"},{default:s(()=>[...e[85]||(e[85]=[a("Every 6 Hours (*/6)",-1)])]),_:1}),l(t(o),{value:"0,12"},{default:s(()=>[...e[86]||(e[86]=[a("Every 12 Hours (0,12)",-1)])]),_:1}),l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[87]||(e[87]=[a("-- Hours --",-1)])]),_:1}),l(t(o),{value:"0"},{default:s(()=>[...e[88]||(e[88]=[a("12:00 a.m. Midnight (0)",-1)])]),_:1}),l(t(o),{value:"1"},{default:s(()=>[...e[89]||(e[89]=[a("1:00 a.m. (1)",-1)])]),_:1}),l(t(o),{value:"2"},{default:s(()=>[...e[90]||(e[90]=[a("2:00 a.m. (2)",-1)])]),_:1}),l(t(o),{value:"3"},{default:s(()=>[...e[91]||(e[91]=[a("3:00 a.m. (3)",-1)])]),_:1}),l(t(o),{value:"4"},{default:s(()=>[...e[92]||(e[92]=[a("4:00 a.m. (4)",-1)])]),_:1}),l(t(o),{value:"5"},{default:s(()=>[...e[93]||(e[93]=[a("5:00 a.m. (5)",-1)])]),_:1}),l(t(o),{value:"6"},{default:s(()=>[...e[94]||(e[94]=[a("6:00 a.m. (6)",-1)])]),_:1}),l(t(o),{value:"7"},{default:s(()=>[...e[95]||(e[95]=[a("7:00 a.m. (7)",-1)])]),_:1}),l(t(o),{value:"8"},{default:s(()=>[...e[96]||(e[96]=[a("8:00 a.m. (8)",-1)])]),_:1}),l(t(o),{value:"9"},{default:s(()=>[...e[97]||(e[97]=[a("9:00 a.m. (9)",-1)])]),_:1}),l(t(o),{value:"10"},{default:s(()=>[...e[98]||(e[98]=[a("10:00 a.m. (10)",-1)])]),_:1}),l(t(o),{value:"11"},{default:s(()=>[...e[99]||(e[99]=[a("11:00 a.m. (11)",-1)])]),_:1}),l(t(o),{value:"12"},{default:s(()=>[...e[100]||(e[100]=[a("12:00 p.m. Noon (12)",-1)])]),_:1}),l(t(o),{value:"13"},{default:s(()=>[...e[101]||(e[101]=[a("1:00 p.m. (13)",-1)])]),_:1}),l(t(o),{value:"14"},{default:s(()=>[...e[102]||(e[102]=[a("2:00 p.m. (14)",-1)])]),_:1}),l(t(o),{value:"15"},{default:s(()=>[...e[103]||(e[103]=[a("3:00 p.m. (15)",-1)])]),_:1}),l(t(o),{value:"16"},{default:s(()=>[...e[104]||(e[104]=[a("4:00 p.m. (16)",-1)])]),_:1}),l(t(o),{value:"17"},{default:s(()=>[...e[105]||(e[105]=[a("5:00 p.m. (17)",-1)])]),_:1}),l(t(o),{value:"18"},{default:s(()=>[...e[106]||(e[106]=[a("6:00 p.m. (18)",-1)])]),_:1}),l(t(o),{value:"19"},{default:s(()=>[...e[107]||(e[107]=[a("7:00 p.m. (19)",-1)])]),_:1}),l(t(o),{value:"20"},{default:s(()=>[...e[108]||(e[108]=[a("8:00 p.m. (20)",-1)])]),_:1}),l(t(o),{value:"21"},{default:s(()=>[...e[109]||(e[109]=[a("9:00 p.m. (21)",-1)])]),_:1}),l(t(o),{value:"22"},{default:s(()=>[...e[110]||(e[110]=[a("10:00 p.m. (22)",-1)])]),_:1}),l(t(o),{value:"23"},{default:s(()=>[...e[111]||(e[111]=[a("11:00 p.m. (23)",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",ts,[l(t(te),{class:"w-1/4",for:"picture"},{default:s(()=>[...e[112]||(e[112]=[a(" Select Day ",-1)])]),_:1}),l(t(de),{class:"w-1/4 focus:outline-none focus-visible:ring-0",modelValue:d.day,"onUpdate:modelValue":e[4]||(e[4]=u=>d.day=u)},null,8,["modelValue"]),l(t(ve),{modelValue:d.day,"onUpdate:modelValue":e[5]||(e[5]=u=>d.day=u),class:"w-1/2"},{default:s(()=>[l(t(ie),{class:"w-full focus:outline-none focus:ring-0"},{default:s(()=>[l(t(me),{placeholder:"Select an option"})]),_:1}),l(t(fe),null,{default:s(()=>[l(t(pe),null,{default:s(()=>[l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[113]||(e[113]=[a("Select an option",-1)])]),_:1}),l(t(o),{value:"*"},{default:s(()=>[...e[114]||(e[114]=[a("Every Day (*)",-1)])]),_:1}),l(t(o),{value:"*/2"},{default:s(()=>[...e[115]||(e[115]=[a("Every Other Day (*/2)",-1)])]),_:1}),l(t(o),{value:"1,15"},{default:s(()=>[...e[116]||(e[116]=[a("1st and 15th (1,15)",-1)])]),_:1}),l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[117]||(e[117]=[a("-- Days --",-1)])]),_:1}),l(t(o),{value:"1"},{default:s(()=>[...e[118]||(e[118]=[a("1st (1)",-1)])]),_:1}),l(t(o),{value:"2"},{default:s(()=>[...e[119]||(e[119]=[a("2nd (2)",-1)])]),_:1}),l(t(o),{value:"3"},{default:s(()=>[...e[120]||(e[120]=[a("3rd (3)",-1)])]),_:1}),l(t(o),{value:"4"},{default:s(()=>[...e[121]||(e[121]=[a("4th (4)",-1)])]),_:1}),l(t(o),{value:"5"},{default:s(()=>[...e[122]||(e[122]=[a("5th (5)",-1)])]),_:1}),l(t(o),{value:"6"},{default:s(()=>[...e[123]||(e[123]=[a("6th (6)",-1)])]),_:1}),l(t(o),{value:"7"},{default:s(()=>[...e[124]||(e[124]=[a("7th (7)",-1)])]),_:1}),l(t(o),{value:"8"},{default:s(()=>[...e[125]||(e[125]=[a("8th (8)",-1)])]),_:1}),l(t(o),{value:"9"},{default:s(()=>[...e[126]||(e[126]=[a("9th (9)",-1)])]),_:1}),l(t(o),{value:"10"},{default:s(()=>[...e[127]||(e[127]=[a("10th (10)",-1)])]),_:1}),l(t(o),{value:"11"},{default:s(()=>[...e[128]||(e[128]=[a("11th (11)",-1)])]),_:1}),l(t(o),{value:"12"},{default:s(()=>[...e[129]||(e[129]=[a("12th (12)",-1)])]),_:1}),l(t(o),{value:"13"},{default:s(()=>[...e[130]||(e[130]=[a("13th (13)",-1)])]),_:1}),l(t(o),{value:"14"},{default:s(()=>[...e[131]||(e[131]=[a("14th (14)",-1)])]),_:1}),l(t(o),{value:"15"},{default:s(()=>[...e[132]||(e[132]=[a("15th (15)",-1)])]),_:1}),l(t(o),{value:"16"},{default:s(()=>[...e[133]||(e[133]=[a("16th (16)",-1)])]),_:1}),l(t(o),{value:"17"},{default:s(()=>[...e[134]||(e[134]=[a("17th (17)",-1)])]),_:1}),l(t(o),{value:"18"},{default:s(()=>[...e[135]||(e[135]=[a("18th (18)",-1)])]),_:1}),l(t(o),{value:"19"},{default:s(()=>[...e[136]||(e[136]=[a("19th (19)",-1)])]),_:1}),l(t(o),{value:"20"},{default:s(()=>[...e[137]||(e[137]=[a("20th (20)",-1)])]),_:1}),l(t(o),{value:"21"},{default:s(()=>[...e[138]||(e[138]=[a("21st (21)",-1)])]),_:1}),l(t(o),{value:"22"},{default:s(()=>[...e[139]||(e[139]=[a("22nd (22)",-1)])]),_:1}),l(t(o),{value:"23"},{default:s(()=>[...e[140]||(e[140]=[a("23rd (23)",-1)])]),_:1}),l(t(o),{value:"24"},{default:s(()=>[...e[141]||(e[141]=[a("24th (24)",-1)])]),_:1}),l(t(o),{value:"25"},{default:s(()=>[...e[142]||(e[142]=[a("25th (25)",-1)])]),_:1}),l(t(o),{value:"26"},{default:s(()=>[...e[143]||(e[143]=[a("26th (26)",-1)])]),_:1}),l(t(o),{value:"27"},{default:s(()=>[...e[144]||(e[144]=[a("27th (27)",-1)])]),_:1}),l(t(o),{value:"28"},{default:s(()=>[...e[145]||(e[145]=[a("28th (28)",-1)])]),_:1}),l(t(o),{value:"29"},{default:s(()=>[...e[146]||(e[146]=[a("29th (29)",-1)])]),_:1}),l(t(o),{value:"30"},{default:s(()=>[...e[147]||(e[147]=[a("30th (30)",-1)])]),_:1}),l(t(o),{value:"31"},{default:s(()=>[...e[148]||(e[148]=[a("31st (31)",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",ls,[l(t(te),{class:"w-1/4",for:"picture"},{default:s(()=>[...e[149]||(e[149]=[a(" Select Month ",-1)])]),_:1}),l(t(de),{class:"w-1/4 focus:outline-none focus-visible:ring-0",modelValue:d.month,"onUpdate:modelValue":e[6]||(e[6]=u=>d.month=u)},null,8,["modelValue"]),l(t(ve),{modelValue:d.month,"onUpdate:modelValue":e[7]||(e[7]=u=>d.month=u),class:"w-1/2"},{default:s(()=>[l(t(ie),{class:"w-full focus:outline-none focus:ring-0"},{default:s(()=>[l(t(me),{placeholder:"Select an option"})]),_:1}),l(t(fe),null,{default:s(()=>[l(t(pe),null,{default:s(()=>[l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[150]||(e[150]=[a("Select an option",-1)])]),_:1}),l(t(o),{value:"*"},{default:s(()=>[...e[151]||(e[151]=[a("Every Month (*)",-1)])]),_:1}),l(t(o),{value:"*/2"},{default:s(()=>[...e[152]||(e[152]=[a("Every Other Month (*/2)",-1)])]),_:1}),l(t(o),{value:"*/4"},{default:s(()=>[...e[153]||(e[153]=[a("Every 3 Months (*/4)",-1)])]),_:1}),l(t(o),{value:"1,7"},{default:s(()=>[...e[154]||(e[154]=[a("Every 6 Months (1,7)",-1)])]),_:1}),l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[155]||(e[155]=[a("-- Months --",-1)])]),_:1}),l(t(o),{value:"1"},{default:s(()=>[...e[156]||(e[156]=[a("January (1)",-1)])]),_:1}),l(t(o),{value:"2"},{default:s(()=>[...e[157]||(e[157]=[a("February (2)",-1)])]),_:1}),l(t(o),{value:"3"},{default:s(()=>[...e[158]||(e[158]=[a("March (3)",-1)])]),_:1}),l(t(o),{value:"4"},{default:s(()=>[...e[159]||(e[159]=[a("April (4)",-1)])]),_:1}),l(t(o),{value:"5"},{default:s(()=>[...e[160]||(e[160]=[a("May (5)",-1)])]),_:1}),l(t(o),{value:"6"},{default:s(()=>[...e[161]||(e[161]=[a("June (6)",-1)])]),_:1}),l(t(o),{value:"7"},{default:s(()=>[...e[162]||(e[162]=[a("July (7)",-1)])]),_:1}),l(t(o),{value:"8"},{default:s(()=>[...e[163]||(e[163]=[a("August (8)",-1)])]),_:1}),l(t(o),{value:"9"},{default:s(()=>[...e[164]||(e[164]=[a("September (9)",-1)])]),_:1}),l(t(o),{value:"10"},{default:s(()=>[...e[165]||(e[165]=[a("October (10)",-1)])]),_:1}),l(t(o),{value:"11"},{default:s(()=>[...e[166]||(e[166]=[a("November (11)",-1)])]),_:1}),l(t(o),{value:"12"},{default:s(()=>[...e[167]||(e[167]=[a("December (12)",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",ss,[l(t(te),{class:"w-1/4",for:"picture"},{default:s(()=>[...e[168]||(e[168]=[a(" Select Weekday ",-1)])]),_:1}),l(t(de),{class:"w-1/4 focus:outline-none focus-visible:ring-0",modelValue:d.weekday,"onUpdate:modelValue":e[8]||(e[8]=u=>d.weekday=u)},null,8,["modelValue"]),l(t(ve),{modelValue:d.weekday,"onUpdate:modelValue":e[9]||(e[9]=u=>d.weekday=u),class:"w-1/2"},{default:s(()=>[l(t(ie),{class:"w-full focus:outline-none focus:ring-0"},{default:s(()=>[l(t(me),{placeholder:"Select an option"})]),_:1}),l(t(fe),null,{default:s(()=>[l(t(pe),null,{default:s(()=>[l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[169]||(e[169]=[a("Select an option",-1)])]),_:1}),l(t(o),{value:"*"},{default:s(()=>[...e[170]||(e[170]=[a("Every Weekday (*)",-1)])]),_:1}),l(t(o),{value:"1-5"},{default:s(()=>[...e[171]||(e[171]=[a("Mon thru Fri (1-5)",-1)])]),_:1}),l(t(o),{value:"0,6"},{default:s(()=>[...e[172]||(e[172]=[a("Sat and Sun (6,0)",-1)])]),_:1}),l(t(o),{value:"1,3,5"},{default:s(()=>[...e[173]||(e[173]=[a("Mon Wed Fri (1,3,5)",-1)])]),_:1}),l(t(o),{value:"2,4"},{default:s(()=>[...e[174]||(e[174]=[a("Tues Thurs (2,4)",-1)])]),_:1}),l(t(o),{value:"2,5"},{default:s(()=>[...e[175]||(e[175]=[a("Tues Fri (2,5)",-1)])]),_:1}),l(t(ee),{class:"text-muted-foreground",value:"--"},{default:s(()=>[...e[176]||(e[176]=[a("-- Weekday --",-1)])]),_:1}),l(t(o),{value:"0"},{default:s(()=>[...e[177]||(e[177]=[a("Sunday (0)",-1)])]),_:1}),l(t(o),{value:"1"},{default:s(()=>[...e[178]||(e[178]=[a("Monday (1)",-1)])]),_:1}),l(t(o),{value:"2"},{default:s(()=>[...e[179]||(e[179]=[a("Tuesday (2)",-1)])]),_:1}),l(t(o),{value:"3"},{default:s(()=>[...e[180]||(e[180]=[a("Wednesday (3)",-1)])]),_:1}),l(t(o),{value:"4"},{default:s(()=>[...e[181]||(e[181]=[a("Thursday (4)",-1)])]),_:1}),l(t(o),{value:"5"},{default:s(()=>[...e[182]||(e[182]=[a("Friday (5)",-1)])]),_:1}),l(t(o),{value:"6"},{default:s(()=>[...e[183]||(e[183]=[a("Saturday (6)",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))}},os={class:"grid w-full max-w-xl items-center gap-1.5"},ns={class:"mb-0 text-muted-foreground"},ds={key:0,class:"mb-4 text-muted-foreground"},rs={__name:"Step4",props:{model:Object},setup(v){const C=v,c=_(null),f=_("");return ge(()=>{C.model.task_cron!=""&&(c.value=C.model.task_cron.join(" "))}),le(c,(D,d)=>{var k=D.split(" ");C.model.task_cron=k}),ke(()=>{C.model.task_cron&&(f.value=ut.toString(C.model.task_cron.join(" ")))}),(D,d)=>(r(),m("div",null,[d[14]||(d[14]=n("h3",{class:"mb-5 text-lg font-medium text-gray-900 dark:text-white"},"Select Task Schedule",-1)),n("div",os,[l(t(te),{for:"picture"},{default:s(()=>[...d[2]||(d[2]=[a("Example CRON Schedules",-1)])]),_:1}),l(t(ve),{modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=k=>c.value=k)},{default:s(()=>[l(t(ie),{class:"w-full focus:outline-none focus:ring-0"},{default:s(()=>[l(t(me),{placeholder:"Select an example CRON option"})]),_:1}),l(t(fe),{class:""},{default:s(()=>[l(t(pe),null,{default:s(()=>[l(t(ee),null,{default:s(()=>[...d[3]||(d[3]=[a("Select an Option",-1)])]),_:1}),l(t(o),{value:"* * * * *"},{default:s(()=>[...d[4]||(d[4]=[a("Every Minute (* * * * *)",-1)])]),_:1}),l(t(o),{value:"*/5 * * * *"},{default:s(()=>[...d[5]||(d[5]=[a("Every 5 Minutes (*/5 * * * *)",-1)])]),_:1}),l(t(o),{value:"0,30 * * * *"},{default:s(()=>[...d[6]||(d[6]=[a("Twice an Hour (0,30 * * * *)",-1)])]),_:1}),l(t(o),{value:"0 * * * *"},{default:s(()=>[...d[7]||(d[7]=[a("Once an Hour (0 * * * *)",-1)])]),_:1}),l(t(o),{value:"0 0,12 * * *"},{default:s(()=>[...d[8]||(d[8]=[a("Twice a Day (0 0,12 * * *)",-1)])]),_:1}),l(t(o),{value:"0 0 * * *"},{default:s(()=>[...d[9]||(d[9]=[a("Once a Day (0 0 * * *)",-1)])]),_:1}),l(t(o),{value:"0 0 * * 0"},{default:s(()=>[...d[10]||(d[10]=[a("Once a Week (0 0 * * 0)",-1)])]),_:1}),l(t(o),{value:"0 0 1,15 * *"},{default:s(()=>[...d[11]||(d[11]=[a("1st and 15th of Month (0 0 1,15 * *)",-1)])]),_:1}),l(t(o),{value:"0 0 1 * *"},{default:s(()=>[...d[12]||(d[12]=[a("Once a Month (0 0 1 * *)",-1)])]),_:1}),l(t(o),{value:"0 0 1 1 *"},{default:s(()=>[...d[13]||(d[13]=[a("Once a Year (0 0 1 1 *)",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n("span",ns,[a($(f.value)+" Â  ",1),v.model.task_cron?(r(),m("span",ds," ("+$(v.model.task_cron.join(" "))+") ",1)):V("",!0)])]),d[15]||(d[15]=n("br",null,null,-1)),l(as,{modelValue:v.model.task_cron,"onUpdate:modelValue":d[1]||(d[1]=k=>v.model.task_cron=k)},null,8,["modelValue"])]))}},us={__name:"Progress",props:{modelValue:{type:[Number,null],required:!1,default:0},max:{type:Number,required:!1},getValueLabel:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(v){const C=v,c=ye(()=>{const{class:f,...D}=C;return D});return(f,D)=>(r(),j(t(vt),mt(c.value,{class:t(ft)("relative h-2 w-full overflow-hidden rounded-full bg-primary/40",C.class)}),{default:s(()=>[l(t(it),{class:Q(["flex-1 w-full h-full transition-all",{"bg-red-500":C.modelValue<25,"bg-yellow-500":C.modelValue>=25&&C.modelValue<50,"bg-blue-500":C.modelValue>=50&&C.modelValue<75,"bg-green-500":C.modelValue>=75&&C.modelValue<100,"bg-green-500":C.modelValue===100}]),style:ue(`transform: translateX(-${100-(C.modelValue??0)}%);`)},null,8,["class","style"])]),_:1},16,["class"]))}},is={key:0,class:"text-red-500"},ms={__name:"Step5TaskVerifyProgress",props:{model:{type:Object}},emits:["checkSuccess","errors"],setup(v,{emit:C}){const c=v,f=C,D=_(50),d=_("checking"),k=_(null);ge(()=>{b()});const b=async P=>{k.value="";try{await axios.post("/api/tasks/validate-task",c.model),d.value="success",ke(T=>{const E=setTimeout(()=>D.value=100,500);T(()=>clearTimeout(E))}),f("checkSuccess")}catch(T){ke(E=>{const H=setTimeout(()=>D.value=20,500);E(()=>clearTimeout(H))}),T.response.status===422?(d.value="error",k.value=T.response.data.errors):(k.status=T.response.status,k.message=T.response.data.message),f("errors",T.response)}};return(P,T)=>(r(),m(X,null,[T[1]||(T[1]=n("h2",{class:"mb-0 text-base font-semibold text-gray-900 dark:text-white"},"Task Verification",-1)),d.value==="error"?(r(),m("span",is," Status: "+$(d.value),1)):V("",!0),l(t(us),{modelValue:D.value,"onUpdate:modelValue":T[0]||(T[0]=E=>D.value=E),class:"w-3/5"},null,8,["modelValue"])],64))}},fs={class:"card"},vs={key:0,class:"grid gap-2"},gs={class:"grid items-center grid-cols-3 gap-4"},ps={class:"col-span-2 font-light text-red-500"},ys={class:"grid gap-2"},cs={class:"grid gap-2"},xs={class:"grid items-center grid-cols-3 gap-4"},ks={class:"col-span-2 font-light"},bs={class:"grid gap-2"},ws={class:"grid items-center grid-cols-3 gap-4"},$s={class:"col-span-2 font-light"},_s={class:"grid gap-2"},Cs={class:"grid items-center grid-cols-3 gap-4"},Ss={class:"col-span-2 font-light"},Ts={key:0,class:"grid gap-2"},Vs={class:"grid items-center grid-cols-3 gap-4 group"},Ds={key:0},Es={key:1},Is={key:1,class:"text-gray-400 items-center text-xs font-normal px-2.5 py-0.5 rounded-xl ml-1"},Ps={key:1,class:"grid gap-2"},Ms={class:"grid items-center grid-cols-3 gap-4 group"},Ls={key:0},js={key:1},Ns={key:1,class:"text-gray-400 items-center text-xs font-normal px-2.5 py-0.5 rounded-xl ml-1"},Rs={key:2,class:"grid gap-2"},As={class:"grid items-center grid-cols-3 gap-4 group"},Os={key:0},zs={key:1},Fs={key:1,class:"text-gray-400 items-center text-xs font-normal px-2.5 py-0.5 rounded-xl ml-1"},Hs={class:"grid gap-2"},Us={class:"grid items-center grid-cols-3 gap-4"},Bs={class:"col-span-2 font-light"},qs={class:"grid gap-2"},Ks={class:"grid items-center grid-cols-3 gap-4"},Ws={class:"flex flex-col col-span-2 gap-2 font-light"},Gs={class:"flex items-center"},Js={key:0,class:"flex items-center"},Qs={key:1,class:"flex items-center"},Xs={__name:"Step5",props:{model:Object},emits:["itemChecked","checkSuccess"],setup(v,{emit:C}){const c=C,f=_(!1),D=_(!1),d=_(!1),k=_(4),b=_([]),P=_(!1),T=Ve("formatters");function E(e){e<=4||(k.value===4?k.value=e:k.value=4,P.value=!P.value)}function H(){c("checkSuccess")}function w(e){b.value=e}return(e,u)=>{const I=K("Label"),R=K("RcIcon");return r(),m("div",null,[u[27]||(u[27]=n("h3",{class:"mb-5 text-lg font-medium text-gray-900 dark:text-white"},"Finalize Task",-1)),n("div",fs,[l(ms,{onErrors:u[0]||(u[0]=i=>w(i)),model:v.model,onCheckSuccess:u[1]||(u[1]=i=>H())},null,8,["model"]),b.value.data?(r(),m("div",vs,[n("div",gs,[l(I,{class:"text-muted-foreground"},{default:s(()=>[...u[11]||(u[11]=[a("Task Errors:",-1)])]),_:1}),n("span",ps,$(b.value.data.message),1)])])):V("",!0),u[26]||(u[26]=n("h2",{class:"my-4"},"Task Details",-1)),n("div",ys,[n("div",cs,[n("div",xs,[l(I,{class:"text-muted-foreground"},{default:s(()=>[...u[12]||(u[12]=[a("Task Name:",-1)])]),_:1}),n("span",ks,$(v.model.task_name),1)])]),n("div",bs,[n("div",ws,[l(I,{class:"text-muted-foreground"},{default:s(()=>[...u[13]||(u[13]=[a("Description:",-1)])]),_:1}),n("span",$s,$(v.model.task_desc||"No description provided"),1)])]),n("div",_s,[n("div",Cs,[l(I,{class:"text-muted-foreground"},{default:s(()=>[...u[14]||(u[14]=[a("Command:",-1)])]),_:1}),n("span",Ss,$(v.model.task_command),1)])]),v.model.task_categories===1?(r(),m("div",Ts,[n("div",Vs,[l(I,{class:"text-muted-foreground"},{default:s(()=>[...u[15]||(u[15]=[a("Categories:",-1)])]),_:1}),n("div",{class:"flex flex-wrap items-start justify-start w-full col-span-2 p-1 whitespace-normal h-fit group-hover:bg-rcgray-800 group-hover:cursor-pointer group-hover:rounded-lg",onClick:u[2]||(u[2]=i=>E(v.model.category.length)),onMouseover:u[3]||(u[3]=i=>f.value=!0),onMouseleave:u[4]||(u[4]=i=>f.value=!1)},[(r(!0),m(X,null,h(v.model.category.slice(0,k.value),(i,g)=>(r(),m("span",{key:i.id},[n("span",{class:Q([i.badgeColor?i.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","items-center text-xs font-medium px-2.5 py-0.5 rounded-xl border ml-1"])},$(i.categoryName),3),v.model.category.length>k.value&&k.value===4&&g===3?(r(),m("span",{key:0,class:Q([f.value?" text-gray-400":"border bg-gray-600 border-gray-500 text-gray-200","items-center text-xs font-normal px-2.5 py-0.5 rounded-xl ml-1"])},[f.value?(r(),m("span",Ds,"Show All")):(r(),m("span",Es,"+ "+$(v.model.category.length-4),1))],2)):V("",!0),k.value===g+1&&P.value?(r(),m("span",Is,[...u[16]||(u[16]=[n("span",null,"Show Less",-1)])])):V("",!0)]))),128))],32)])])):V("",!0),v.model.task_devices===1?(r(),m("div",Ps,[n("div",Ms,[l(I,{class:"text-muted-foreground"},{default:s(()=>[...u[17]||(u[17]=[a("Devices:",-1)])]),_:1}),n("div",{class:"flex flex-wrap items-start justify-start w-full col-span-2 p-1 whitespace-normal h-fit group-hover:bg-rcgray-800 group-hover:cursor-pointer group-hover:rounded-lg",onClick:u[5]||(u[5]=i=>E(v.model.device.length)),onMouseover:u[6]||(u[6]=i=>D.value=!0),onMouseleave:u[7]||(u[7]=i=>D.value=!1)},[(r(!0),m(X,null,h(v.model.device.slice(0,k.value),(i,g)=>(r(),m("span",{key:i.id},[n("span",{class:Q([i.badgeColor?i.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","items-center text-xs font-medium px-2.5 py-0.5 rounded-xl border ml-1"])},$(i.device_name),3),v.model.device.length>k.value&&k.value===4&&g===3?(r(),m("span",{key:0,class:Q([D.value?" text-gray-400":"border bg-gray-600 border-gray-500 text-gray-200","items-center text-xs font-normal px-2.5 py-0.5 rounded-xl ml-1"])},[D.value?(r(),m("span",Ls,"Show All")):(r(),m("span",js,"+ "+$(v.model.device.length-4),1))],2)):V("",!0),k.value===g+1&&P.value?(r(),m("span",Ns,[...u[18]||(u[18]=[n("span",null,"Show Less",-1)])])):V("",!0)]))),128))],32)])])):V("",!0),v.model.task_tags===1?(r(),m("div",Rs,[n("div",As,[l(I,{class:"text-muted-foreground"},{default:s(()=>[...u[19]||(u[19]=[a("Tags:",-1)])]),_:1}),n("div",{class:"flex flex-wrap items-start justify-start w-full col-span-2 p-1 whitespace-normal h-fit group-hover:bg-rcgray-800 group-hover:cursor-pointer group-hover:rounded-lg",onClick:u[8]||(u[8]=i=>E(v.model.tag.length)),onMouseover:u[9]||(u[9]=i=>d.value=!0),onMouseleave:u[10]||(u[10]=i=>d.value=!1)},[(r(!0),m(X,null,h(v.model.tag.slice(0,k.value),(i,g)=>(r(),m("span",{key:i.id},[n("span",{class:Q([i.badgeColor?i.badgeColor:"bg-gray-600 text-gray-200 border-gray-500","items-center text-xs font-medium px-2.5 py-0.5 rounded-xl border ml-1"])},$(i.tagname),3),v.model.tag.length>k.value&&k.value===4&&g===3?(r(),m("span",{key:0,class:Q([d.value?" text-gray-400":"border bg-gray-600 border-gray-500 text-gray-200","items-center text-xs font-normal px-2.5 py-0.5 rounded-xl ml-1"])},[d.value?(r(),m("span",Os,"Show All")):(r(),m("span",zs,"+ "+$(v.model.tag.length-4),1))],2)):V("",!0),k.value===g+1&&P.value?(r(),m("span",Fs,[...u[20]||(u[20]=[n("span",null,"Show Less",-1)])])):V("",!0)]))),128))],32)])])):V("",!0),n("div",Hs,[n("div",Us,[l(I,{class:"text-muted-foreground"},{default:s(()=>[...u[21]||(u[21]=[a("Task Schedule:",-1)])]),_:1}),n("span",Bs,$(t(T).cronToHuman(v.model.task_cron.join(" "))),1)])]),n("div",qs,[n("div",Ks,[l(I,{class:"text-muted-foreground"},{default:s(()=>[...u[22]||(u[22]=[a("Task Reporting:",-1)])]),_:1}),n("div",Ws,[n("span",Gs,[l(R,{name:"alert",class:"flex-shrink-0 h-4 mr-2 text-blue-600"}),u[23]||(u[23]=a(" Task notification email ",-1))]),v.model.download_report_notify?(r(),m("span",Js,[l(R,{name:"alert",class:"flex-shrink-0 h-4 mr-2 text-blue-600"}),u[24]||(u[24]=a(" Device download failure report ",-1))])):V("",!0),v.model.verbose_download_report_notify?(r(),m("span",Qs,[l(R,{name:"alert",class:"flex-shrink-0 h-4 mr-2 text-blue-600"}),u[25]||(u[25]=a(" Verbose device download failure report ",-1))])):V("",!0)])])])])])])}}},Ys={class:"flex items-center"},Zs={class:"ml-2"},hs={key:0,class:"p-6"},ea={key:1},ta={key:2,class:"w-full py-2 border-t border-b"},la={key:0,class:"text-sm text-red-500"},sa={class:"list-disc list-inside"},aa={key:1,class:"text-sm text-red-500"},oa={class:"flex"},na={class:"pl-2 ml-auto"},da={class:"rc-kdb-class2"},ra={class:"pl-2 ml-auto"},ua={class:"rc-kdb-class2"},ia={__name:"TaskAddEditDialog",props:{editId:Number},emits:["save"],setup(v,{emit:C}){const{toastSuccess:c}=Te(),f=Se(),{openDialog:D,closeDialog:d,isDialogOpen:k}=f,b=C,P=_(!1),T=_([]),E=_(""),H=_(!0),w=_({task_name:"",task_desc:"",task_command:"",task_categories:null,task_devices:null,task_tags:null,task_cron:["*","*","*","*","*"],task_email_notify:!0,download_report_notify:!0,verbose_download_report_notify:!1,is_system:0,created_at:null,updated_at:null,device:[],category:[],tag:[]}),e=_(0),u=_(!0),I=v;function R(z){z.ctrlKey&&z.key==="Enter"&&i()}ge(()=>{I.editId>0?oe.get(`/api/tasks/${I.editId}`).then(z=>{w.value={...w.value,...z.data},u.value=!1,e.value=2}):(u.value=!0,e.value=0),window.addEventListener("keydown",R)}),De(()=>{window.removeEventListener("keydown",R)});function i(){let z=I.editId>0?`/${I.editId}`:"",S=I.editId>0?"patch":"post";oe[S]("/api/tasks"+z,w.value).then(U=>{b("save",U.data);const F=I.editId>0?"Task updated successfully":"Task created successfully";c("Success",F),d("DialogNewTask")}).catch(U=>{U.response&&U.response.data&&U.response.data.errors?T.value=Object.values(U.response.data.errors).flat():E.value="An error occurred while saving the task"})}function g(){if(e.value===2){e.value=0,u.value=!0;return}e.value>1&&e.value--}function x(){if(E.value="",T.value=[],e.value===0){e.value=2,u.value=!1;return}if(e.value===1&&(!w.value.task_command||w.value.task_command==="")){E.value="Please select a task type";return}if(e.value===2&&w.value.task_name===""){E.value="Please enter a task name";return}if(e.value===3&&w.value.task_command==="rconfig:download-device"&&(!w.value.device||w.value.device.length===0)){E.value="Please choose one or more devices";return}if(e.value===3&&w.value.task_command==="rconfig:download-category"&&(!w.value.category||w.value.category.length===0)){E.value="Please choose one or more categories";return}if(e.value===3&&w.value.task_command==="rconfig:download-tag"&&(!w.value.tag||w.value.tag.length===0)){E.value="Please choose one or more tags";return}if(e.value===4&&w.value.task_cron===""){E.value="Please enter schedule values";return}e.value++}function A(z){console.log("Task selected:",z)}function O(){e.value=2,u.value=!1}function q(){P.value=!0}function M(){P.value=!1}function N(){P.value=!1,d("DialogNewTask")}function B(){console.log("Step5CheckSuccess"),H.value=!1}return(z,S)=>{const U=K("RcIcon"),F=K("ResizablePanel"),Z=K("ResizableHandle"),se=K("ResizablePanelGroup");return r(),m(X,null,[l(t(ze),{open:t(k)("DialogNewTask")},{default:s(()=>[l(t(Ne),{"as-child":""}),l(t(Re),{onInteractOutside:S[6]||(S[6]=W=>q()),onPointerDownOutside:S[7]||(S[7]=W=>q()),class:"max-w-4xl gap-0 p-0 m-4 bg-rcgray-900",onEscapeKeyDown:S[8]||(S[8]=W=>t(d)("DialogNewTask")),onCloseClicked:S[9]||(S[9]=W=>t(d)("DialogNewTask"))},{default:s(()=>[l(t(Ae),{class:"rc-dialog-header"},{default:s(()=>[l(t(Oe),{class:"text-sm text-rcgray-200"},{default:s(()=>[n("div",Ys,[l(U,{name:"tasks"}),n("span",Zs,$(I.editId>0?"Edit":"Add")+" Task "+$(I.editId>0?`(ID: ${I.editId})`:""),1)])]),_:1})]),_:1}),u.value?(r(),m("div",hs,[l(Cl,{model:w.value,onTaskSelected:A,onContinue:O},null,8,["model"])])):(r(),m("div",ea,[l(se,{direction:"horizontal",class:"p-4"},{default:s(()=>[l(F,{"default-size":25,"max-size":25,"min-size":25,collapsible:"","collapsed-size":25,ref:"panelElement",class:""},{default:s(()=>[l(ol,{currentStep:e.value},null,8,["currentStep"])]),_:1},512),l(Z),l(F,{class:"max-h-[80vh]"},{default:s(()=>[l(t(Ie),{class:"h-full px-4 border border-none rounded-md"},{default:s(()=>[e.value===2?(r(),j(Dl,{key:0,model:w.value},null,8,["model"])):V("",!0),e.value===3?(r(),j(Yl,{key:1,model:w.value},null,8,["model"])):V("",!0),e.value===4?(r(),j(rs,{key:2,model:w.value},null,8,["model"])):V("",!0),e.value===5?(r(),j(Xs,{key:3,onCheckSuccess:S[0]||(S[0]=W=>B()),model:w.value},null,8,["model"])):V("",!0)]),_:1})]),_:1})]),_:1})])),u.value?V("",!0):(r(),m("div",ta,[n("div",{class:Q(["flex items-center px-2",T.value.length>0||E.value?"justify-between":"justify-end"])},[T.value.length>0?(r(),m("div",la,[n("ul",sa,[(r(!0),m(X,null,h(T.value,W=>(r(),m("li",{key:W},$(W),1))),128))])])):E.value?(r(),m("div",aa,$(E.value),1)):V("",!0),n("div",oa,[l(t(ne),{onClick:S[1]||(S[1]=xe(W=>g(),["prevent"])),variant:"outline",class:"px-2 py-1 text-sm hover:animate-pulse",size:"sm"},{default:s(()=>[...S[10]||(S[10]=[a(" Previous ",-1)])]),_:1}),l(t(ne),{disabled:e.value===5,onClick:S[2]||(S[2]=xe(W=>x(),["prevent"])),variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:animate-pulse",size:"sm"},{default:s(()=>[...S[11]||(S[11]=[a(" Next ",-1)])]),_:1},8,["disabled"])])],2)])),l(t(gt),{class:"rc-dialog-footer bg-rcgray-800"},{default:s(()=>[l(t(ne),{type:"close",variant:"outline",class:"px-2 py-1 ml-2 text-sm hover:bg-gray-700 hover:animate-pulse",onClick:S[3]||(S[3]=W=>q()),size:"sm"},{default:s(()=>[...S[12]||(S[12]=[a(" Cancel ",-1),n("div",{class:"pl-2 ml-auto"},[n("kbd",{class:"rc-kdb-class"},"ESC")],-1)])]),_:1}),I.editId===0?(r(),j(t(ne),{key:0,disabled:H.value,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:S[4]||(S[4]=W=>i()),variant:"primary"},{default:s(()=>[S[14]||(S[14]=a(" Save ",-1)),n("div",na,[n("kbd",da,[S[13]||(S[13]=a(" CtrlÂ  ",-1)),l(U,{name:"enter",class:"ml-1"})])])]),_:1},8,["disabled"])):V("",!0),I.editId>0?(r(),j(t(ne),{key:1,type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:S[5]||(S[5]=W=>i()),variant:"primary"},{default:s(()=>[S[16]||(S[16]=a(" Update ",-1)),n("div",ra,[n("kbd",ua,[S[15]||(S[15]=a(" CtrlÂ  ",-1)),l(U,{name:"enter",class:"ml-1"})])])]),_:1})):V("",!0)]),_:1})]),_:1})]),_:1},8,["open"]),l(Ce,{showConfirmCloseAlert:P.value,onHandleClose:M,onHandleConfirm:N},null,8,["showConfirmCloseAlert"])],64)}}};function ma(){const v=_([]),C=_(!1),c=_(!1),f=_(null),D=_(!1),d=_(0),k=_(null),b=_(1),P=_(1),T=xt(),E=_(T.get("useTasks","perPage",10)),H=_(1),w=_("-id"),e=_(""),u=_({}),I=Se(),{openDialog:R}=I,{toastSuccess:i,toastError:g}=Te(),x=Ve("formatters"),{reload:A}=Be(q),{toggleSort:O}=kt(w,q,"useTasks");async function q(L={}){C.value=!0;try{const y=await oe.get("/api/tasks",{params:{page:P.value,perPage:E.value,sort:w.value,...u.value}});v.value=y.data,H.value=y.data.last_page}catch(y){console.error("Error fetching tasks:",y),g("Error","Failed to fetch tasks.")}finally{C.value=!1}}const M=L=>{d.value=0,b.value=Math.random(),R("DialogNewTask")};function N(L){d.value=L,b.value=Math.random(),R("DialogNewTask")}const B=async L=>{try{await oe.delete(`/api/tasks/${L}`),q(),i("Task Deleted","The task has been deleted successfully.")}catch(y){console.error("Error deleting task:",y),g("Error","Failed to delete task.")}},z=async L=>{try{await oe.post("/api/tasks/delete-many",{ids:L}),q(),i("Tasks Deleted","The tasks have been deleted successfully."),D.value=!1,Xe.emit("deleteManyTasksSuccess")}catch(y){y.status===422?g("Error",y.response.data.message):(console.error("Error deleting Tasks:",y),g("Error","Failed to delete Tasks.")),D.value=!1}},S=L=>{d.value=L,b.value=Math.random(),R("DialogNewTask")},U=L=>{k.value=L,R("DialogViewHistory")},F=()=>{q(),b.value=Math.random()};function Z(L){L.altKey&&L.key==="n"&&(L.preventDefault(),R("DialogNewTask"))}const se=Ue(()=>{u.value["filter[q]"]=e.value,P.value=1,q()},500);function W(L){c.value=!0,f.value=L}function re(L){L&&oe.post("/api/tasks/run-manual-task",{id:L}).then(y=>{c.value=!1,i("Task Run","The task has been run successfully.")}).catch(y=>{console.error("Error running task:",y),g("Error","Failed to run task.")})}function we(L){oe.get(`/api/tasks/toggle-pause-task/${L}`).then(()=>{q()})}return le(P,()=>{q()}),le(e,()=>{se()}),le(E,L=>{T.set("useTasks","perPage",L),q()}),{tasks:v,isLoading:C,showConfirmConfirmProceedAlertAlert:c,proceedEditId:f,showConfirmDelete:D,editId:d,newTaskModalKey:b,currentPage:P,perPage:E,lastPage:H,sortParam:w,searchTerm:e,filters:u,fetchTasks:q,createTask:M,updateTask:N,deleteTask:B,deleteManyTasks:z,openDialog:R,handleSave:F,handleKeyDown:Z,runTaskConfirm:W,runTaskNow:re,pauseTask:we,viewEditDialog:S,viewHistoryDialog:U,historyTaskId:k,toggleSort:O,formatters:x,reload:A}}const fa={class:"flex flex-col h-full gap-1 text-center"},va={class:"flex items-center justify-between p-4"},ga={class:"flex items-center gap-2"},pa={class:"flex items-center justify-end"},ya={class:"px-6"},ca={class:"flex items-center gap-2"},xa={key:2,class:"text-xs text-muted-foreground"},ka={class:"flex flex-col"},ba={class:"border-b font-medium"},wa={class:"text-xs text-muted-foreground ml-2"},$a={class:"max-w-xs"},_a=["title"],Ca={class:"flex items-center gap-1"},Sa={class:"text-xs font-mono bg-muted px-2 py-1 rounded"},Ta={class:"flex flex-col gap-1"},Va={key:0,class:"flex items-center gap-1"},Da={class:"text-xs"},Ea={key:1,class:"flex items-center gap-1"},Ia={class:"text-xs"},Pa={key:2,class:"flex items-center gap-1"},Ma={class:"text-xs"},La={key:3,class:"flex items-center gap-1"},ja={key:4,class:"text-xs text-muted-foreground"},Na={key:0,class:"flex items-center gap-1 mb-1"},Ra={key:1,class:"flex items-center gap-1"},Aa={key:2,class:"flex items-center gap-1"},Oa={key:3,class:"text-xs text-muted-foreground"},za={class:"flex items-center gap-1"},Fa={class:"text-sm"},Ha={class:"flex flex-col gap-1"},Ua={key:0,class:"flex items-center gap-1"},Ba={key:1,class:"flex items-center gap-1"},qa={key:2,class:"flex items-center gap-1"},Ka={key:3,class:"text-xs text-muted-foreground"},Wa={class:"text-xs text-muted-foreground"},fo={__name:"Main",setup(v){const{reload:C,createTask:c,currentPage:f,deleteTask:D,editId:d,historyTaskId:k,fetchTasks:b,formatters:P,handleKeyDown:T,handleSave:E,isLoading:H,lastPage:w,newTaskModalKey:e,pauseTask:u,perPage:I,proceedEditId:R,runTaskConfirm:i,runTaskNow:g,searchTerm:x,showConfirmDelete:A,deleteManyTasks:O,showConfirmConfirmProceedAlertAlert:q,sortParam:M,tasks:N,toggleSort:B,viewEditDialog:z,viewHistoryDialog:S,filters:U}=ma(),{selectedRows:F,selectAll:Z,toggleSelectAll:se,toggleSelectRow:W}=bt(N),re=_("all"),we=[{value:"all",label:"All Tasks"},{value:"rconfig:download-device",label:"Download by Device"},{value:"rconfig:download-category",label:"Download by Category"},{value:"rconfig:download-tag",label:"Download by Tag"}];return le(re,L=>{L==="all"?delete U.value["filter[task_command]"]:U.value["filter[task_command]"]=L,b()}),ge(()=>{b(),window.addEventListener("keydown",T),Xe.on("deleteManyTagsSuccess",()=>{F.value=[],Z.value=!1})}),De(()=>{window.removeEventListener("keydown",T)}),(L,y)=>{const he=K("Input"),ce=K("Button"),Y=K("RcIcon"),Pe=K("Checkbox");return r(),m("div",fa,[n("div",va,[n("div",ga,[l(he,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter tasks...",modelValue:t(x),"onUpdate:modelValue":y[0]||(y[0]=p=>_e(x)?x.value=p:null)},null,8,["modelValue"]),l(t(ve),{modelValue:re.value,"onUpdate:modelValue":y[1]||(y[1]=p=>re.value=p)},{default:s(()=>[l(t(ie),{class:"w-48 focus:ring-0 focus:ring-offset-0"},{default:s(()=>[l(t(me),{placeholder:"Filter task type"})]),_:1}),l(t(fe),null,{default:s(()=>[(r(),m(X,null,h(we,p=>l(t(o),{key:p.value,value:p.value},{default:s(()=>[a($(p.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),t(x)||re.value!=="all"?(r(),j(wt,{key:0,"onUpdate:modelValue":y[2]||(y[2]=p=>{x.value="",re.value="all",delete t(U)["filter[task_command]"],t(b)()})})):V("",!0)]),n("div",pa,[t(F).length?(r(),j(ce,{key:0,onClick:y[3]||(y[3]=xe(p=>A.value=!0,["prevent"])),class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",variant:"primary"},{default:s(()=>[a(" Delete Selected "+$(t(F).length)+" Task(s) ",1)]),_:1})):V("",!0),l(ce,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",onClick:xe(t(c),["prevent"]),variant:"primary"},{default:s(()=>[...y[16]||(y[16]=[a(" New Task ",-1),n("div",{class:"pl-2 ml-auto"},[n("kbd",{class:"rc-kdb-class2"},"ALT N")],-1)])]),_:1},8,["onClick"]),l(Y,{name:"refresh",class:"w-4 h-4 mx-4 text-muted-foreground cursor-pointer hover:text-rcgray-200",onClick:y[4]||(y[4]=p=>t(C)())})])]),n("div",ya,[l(t(qe),null,{default:s(()=>[l(t(Ke),null,{default:s(()=>[l(t(be),null,{default:s(()=>[l(t(G),{class:"w-[2%]"},{default:s(()=>[l(Pe,{id:"selectAll",modelValue:t(Z),"onUpdate:modelValue":y[5]||(y[5]=p=>_e(Z)?Z.value=p:null),onClick:y[6]||(y[6]=p=>t(se)())},null,8,["modelValue"])]),_:1}),l(t(G),{class:"w-[2%]"},{default:s(()=>[...y[17]||(y[17]=[a("Status",-1)])]),_:1}),l(t(G),{class:"w-[15%]"},{default:s(()=>[l(ce,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:y[7]||(y[7]=p=>t(B)("task_name"))},{default:s(()=>[l(Y,{name:"sort",sortParam:t(M),field:"task_name"},null,8,["sortParam"]),y[18]||(y[18]=n("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),l(t(G),{class:"w-[15%]"},{default:s(()=>[...y[19]||(y[19]=[a("Description",-1)])]),_:1}),l(t(G),{class:"w-[10%]"},{default:s(()=>[...y[20]||(y[20]=[a("Command",-1)])]),_:1}),l(t(G),{class:"w-[8%]"},{default:s(()=>[...y[21]||(y[21]=[a("Targets",-1)])]),_:1}),l(t(G),{class:"w-[8%]"},{default:s(()=>[...y[22]||(y[22]=[a("Target Values",-1)])]),_:1}),l(t(G),{class:"w-[10%]"},{default:s(()=>[...y[23]||(y[23]=[a("Frequency",-1)])]),_:1}),l(t(G),{class:"w-[8%]"},{default:s(()=>[...y[24]||(y[24]=[a("Notifications",-1)])]),_:1}),l(t(G),{class:"w-[10%]"},{default:s(()=>[l(ce,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:y[8]||(y[8]=p=>t(B)("created_at"))},{default:s(()=>[l(Y,{name:"sort",sortParam:t(M),field:"created_at"},null,8,["sortParam"]),y[25]||(y[25]=n("span",{class:"ml-2"},"Created",-1))]),_:1})]),_:1}),l(t(G),{class:"w-[5%]"},{default:s(()=>[...y[26]||(y[26]=[a("Actions",-1)])]),_:1})]),_:1})]),_:1}),l(t(We),null,{default:s(()=>[t(H)?(r(),j(Ge,{key:0})):t(H)?(r(),j(Je,{key:2})):(r(!0),m(X,{key:1},h(t(N).data,p=>(r(),j(t(be),{class:Q(p.is_paused?"bg-rcgray-800 hover:bg-rcgray-800":""),key:p.id},{default:s(()=>[l(t(J),{class:"text-start"},{default:s(()=>[l(Pe,{class:"cursor-pointer",id:"select-"+p.id,checked:!!t(F).includes(p.id),onClick:ae=>t(W)(p.id)},null,8,["id","checked","onClick"])]),_:2},1024),l(t(J),{class:"text-start",title:p.is_paused?`Task ${p.id} is paused`:`Task ${p.id} is active`},{default:s(()=>[n("div",ca,[p.is_paused?(r(),j(Y,{key:0,name:"pulsing",size:16,color:"#f59e0b",animate:!0,speed:"3s"})):(r(),j(Y,{key:1,name:"spinning-task",size:16,color:"#4ade80",animate:!0,speed:"2s"})),p.is_system?(r(),m("span",xa,"System")):V("",!0)])]),_:2},1032,["title"]),l(t(J),{class:"text-start"},{default:s(()=>[n("div",ka,[l(ce,{class:"px-2 py-0 text-sm hover:bg-rcgray-800 rounded-xl justify-start",variant:"ghost",onClick:ae=>t(S)(p.id)},{default:s(()=>[n("span",ba,$(p.task_name),1)]),_:2},1032,["onClick"]),n("span",wa,"ID: "+$(p.id),1)])]),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>[n("div",$a,[n("span",{class:"text-sm truncate block",title:p.task_desc},$(p.task_desc||"-"),9,_a)])]),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>{var ae;return[n("div",Ca,[l(Y,{name:"commands",width:16,class:"w-4 h-4 text-muted-foreground flex-shrink-0 mr-1"}),n("span",Sa,$(((ae=p.task_command)==null?void 0:ae.replace("rconfig:",""))||"-"),1)])]}),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>[n("div",Ta,[p.device&&p.device.length>0?(r(),m("div",Va,[l(Y,{name:"device",width:14,class:"text-blue-400"}),n("span",Da,$(p.device.length)+" device(s)",1)])):V("",!0),p.category&&p.category.length>0?(r(),m("div",Ea,[l(Y,{name:"command-group",width:14,class:"mr-1"}),n("span",Ia,$(p.category.length)+" group(s)",1)])):V("",!0),p.tag&&p.tag.length>0?(r(),m("div",Pa,[l(Y,{name:"tag",width:14}),n("span",Ma,$(p.tag.length)+" tag(s)",1)])):V("",!0),p.task_command&&p.task_command.includes("download")?(r(),m("div",La,[l(Y,{name:"download2",width:14,class:"text-teal-400"}),y[27]||(y[27]=n("span",{class:"text-xs"},"Config Backup",-1))])):V("",!0),(!p.device||p.device.length===0)&&!p.category&&!p.tag?(r(),m("span",ja,"No targets")):V("",!0)])]),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>[p.device&&p.device.length>0?(r(),m("div",Na,[l($e,{items:p.device,displayField:"device_name",linkField:"view_url",maxVisible:4,hoverCardFields:["id","device_name","device_ip"],showIcon:!0,iconName:"device"},null,8,["items"])])):V("",!0),p.category&&p.category.length>0?(r(),m("div",Ra,[l($e,{items:p.category,displayField:"categoryName",linkField:"",maxVisible:4,hoverCardFields:["id","categoryName"],showIcon:!0,iconName:"command-group"},null,8,["items"])])):V("",!0),p.tag&&p.tag.length>0?(r(),m("div",Aa,[l($e,{items:p.tag,displayField:"tagname",linkField:"",maxVisible:4,hoverCardFields:["id","tagname"],showIcon:!0,iconName:"tag"},null,8,["items"])])):(r(),m("div",Oa))]),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>[n("div",za,[l(t(Ze),{class:"w-4 h-4 text-muted-foreground flex-shrink-0 mr-1"}),n("span",Fa,$(p.cron_plain),1)])]),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>[n("div",Ha,[p.task_email_notify?(r(),m("div",Ua,[l(Y,{name:"email",width:12,class:"text-blue-400"}),y[28]||(y[28]=n("span",{class:"text-xs"},"Email",-1))])):V("",!0),p.download_report_notify?(r(),m("div",Ba,[l(Y,{name:"docs",width:14,class:"text-green-400"}),y[29]||(y[29]=n("span",{class:"text-xs"},"Report",-1))])):V("",!0),p.verbose_download_report_notify?(r(),m("div",qa,[l(Y,{name:"docs",width:14,class:"text-yellow-400"}),y[30]||(y[30]=n("span",{class:"text-xs"},"Verbose",-1))])):V("",!0),!p.task_email_notify&&!p.download_report_notify&&!p.verbose_download_report_notify?(r(),m("span",Ka,"None")):V("",!0)])]),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>[n("div",Wa,$(p.created_at?t(P).formatTime(p.created_at):"-"),1)]),_:2},1024),l(t(J),{class:"text-start"},{default:s(()=>[l($t,{rowData:p,showTaskPauseBtn:!0,showViewHistoryBtn:!0,taskPaused:!!p.is_paused,showTaskRunNowBtn:!0,onOnRunManualTask:ae=>t(i)(p.id),onOnTaskPause:ae=>t(u)(p.id),onOnViewHistory:ae=>t(S)(p.id),onOnEdit:ae=>t(z)(p.id),onOnDelete:ae=>t(D)(p.id)},null,8,["rowData","taskPaused","onOnRunManualTask","onOnTaskPause","onOnViewHistory","onOnEdit","onOnDelete"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1}),l(Qe,{currentPage:t(f),lastPage:t(w),perPage:t(I),"onUpdate:currentPage":y[9]||(y[9]=p=>f.value=p),"onUpdate:perPage":y[10]||(y[10]=p=>I.value=p),totalRecords:t(N).total,isLoading:t(H)},null,8,["currentPage","lastPage","perPage","totalRecords","isLoading"]),(r(),j(ia,{onSave:y[11]||(y[11]=p=>t(E)()),key:t(e),editId:t(d)},null,8,["editId"])),l(Gt,{taskId:t(k)},null,8,["taskId"]),l(Ce,{showConfirmConfirmProceedAlertAlert:t(q),editId:t(R),onHandleClose:y[12]||(y[12]=p=>q.value=!1),onHandleConfirm:y[13]||(y[13]=p=>t(g)(t(R))),message:"Are you sure you want to run this task manually?"},null,8,["showConfirmConfirmProceedAlertAlert","editId"]),l(Ce,{ids:t(F),showConfirmDelete:t(A),onClose:y[14]||(y[14]=p=>A.value=!1),onHandleDelete:y[15]||(y[15]=p=>t(O)(t(F)))},null,8,["ids","showConfirmDelete"])])])}}};export{fo as default};
