import{o as g,c as $,m as A,n as B,u as e,aS as G,j as H,cp as _e,c7 as K,cq as $e,d5 as Ce,e as b,w as n,c9 as Z,K as k,e2 as Ie,cc as Pe,ad as z,e3 as Me,b as t,U as Ue,E as P,cu as Ve,g as C,d1 as Ae,aM as Be,ap as ve,X as Y,aJ as W,r as V,aw as E,a as s,V as be,cw as F,d as w,t as M,dM as J,ax as D,aL as Te,ak as q,al as O,e4 as qe,G as Ee,e5 as Fe,aD as R,ct as De,aZ as Re,a_ as Ye,aR as re,cr as ze,I as ne,Y as Le,e6 as ce,e7 as Ne,_ as ye,aE as je,bl as Oe,B as oe,aI as X,z as Ge,aB as ue,e8 as he,aC as fe,aA as pe,at as He,ar as Ke,aq as we,bg as Ze,df as We,am as Je}from"./app-DeY0Hx-B.js";import{_ as L}from"./CardFooter.vue_vue_type_script_setup_true_lang-C9qFCRgt.js";import{_ as Q,a as ee,b as se,c as te,d as T}from"./SelectScrollDownButton-1m1KQeGK.js";import{a as Xe,R as Qe,b as es}from"./AlertInfo.vue_vue_type_style_index_0_scoped_c93aa73f_lang-5smG5xlU.js";import{S as xe}from"./Spinner-Dy2A5szN.js";/* empty css               */const ss={__name:"AlertTitle",props:{class:{type:null,required:!1}},setup(p){const r=p;return(l,i)=>(g(),$("h5",{class:B(e(G)("mb-1 font-medium leading-none tracking-tight",r.class))},[A(l.$slots,"default")],2))}},[le,ts]=Pe("TabsRoot");var as=H({__name:"TabsRoot",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},activationMode:{type:String,required:!1,default:"automatic"},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(p,{emit:r}){const l=p,i=r,{orientation:a,unmountOnHide:o,dir:d}=_e(l),u=Xe(d);K();const m=$e(l,"modelValue",i,{defaultValue:l.defaultValue,passive:l.modelValue===void 0}),f=k(),c=Ie(new Set);return ts({modelValue:m,changeModelValue:_=>{m.value=_},orientation:a,dir:u,unmountOnHide:o,activationMode:l.activationMode,baseId:Ce(void 0,"reka-tabs"),tabsList:f,contentIds:c,registerContent:_=>{c.value=new Set([...c.value,_])},unregisterContent:_=>{const x=new Set(c.value);x.delete(_),c.value=x}}),(_,x)=>(g(),b(e(Z),{dir:e(u),"data-orientation":e(a),"as-child":_.asChild,as:_.as},{default:n(()=>[A(_.$slots,"default",{modelValue:e(m)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),ns=as;function ke(p,r){return`${p}-trigger-${r}`}function Se(p,r){return`${p}-content-${r}`}var os=H({__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(p){const r=p,{forwardRef:l}=K(),i=le(),a=C(()=>ke(i.baseId,r.value)),o=C(()=>Se(i.baseId,r.value)),d=C(()=>r.value===i.modelValue.value),u=k(d.value);return z(()=>{i.registerContent(r.value),requestAnimationFrame(()=>{u.value=!1})}),Me(()=>{i.unregisterContent(r.value)}),(m,f)=>(g(),b(e(Ve),{present:m.forceMount||d.value,"force-mount":""},{default:n(({present:c})=>[t(e(Z),{id:o.value,ref:e(l),"as-child":m.asChild,as:m.as,role:"tabpanel","data-state":d.value?"active":"inactive","data-orientation":e(i).orientation.value,"aria-labelledby":a.value,hidden:!c,tabindex:"0",style:Ue({animationDuration:u.value?"0s":void 0})},{default:n(()=>[!e(i).unmountOnHide.value||c?A(m.$slots,"default",{key:0}):P("v-if",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),rs=os,ls=H({__name:"TabsList",props:{loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(p){const r=p,{loop:l}=_e(r),{forwardRef:i,currentElement:a}=K(),o=le();return o.tabsList=a,(d,u)=>(g(),b(e(Qe),{"as-child":"",orientation:e(o).orientation.value,dir:e(o).dir.value,loop:e(l)},{default:n(()=>[t(e(Z),{ref:e(i),role:"tablist","as-child":d.asChild,as:d.as,"aria-orientation":e(o).orientation.value},{default:n(()=>[A(d.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),is=ls,ds=H({__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(p){const r=p,{forwardRef:l}=K(),i=le(),a=C(()=>ke(i.baseId,r.value)),o=C(()=>i.contentIds.value.has(r.value)?Se(i.baseId,r.value):void 0),d=C(()=>r.value===i.modelValue.value);return(u,m)=>(g(),b(e(es),{"as-child":"",focusable:!u.disabled,active:d.value},{default:n(()=>[t(e(Z),{id:a.value,ref:e(l),role:"tab",type:u.as==="button"?"button":void 0,as:u.as,"as-child":u.asChild,"aria-selected":d.value?"true":"false","aria-controls":o.value,"data-state":d.value?"active":"inactive",disabled:u.disabled,"data-disabled":u.disabled?"":void 0,"data-orientation":e(i).orientation.value,onMousedown:m[0]||(m[0]=Be(f=>{!u.disabled&&f.ctrlKey===!1?e(i).changeModelValue(u.value):f.preventDefault()},["left"])),onKeydown:m[1]||(m[1]=Ae(f=>e(i).changeModelValue(u.value),["enter","space"])),onFocus:m[2]||(m[2]=()=>{const f=e(i).activationMode!=="manual";!d.value&&!u.disabled&&f&&e(i).changeModelValue(u.value)})},{default:n(()=>[A(u.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),cs=ds;const us="Afrikaans",fs="Albanian",ps="Amharic",ms="Arabic - Algeria",gs="Arabic - Bahrain",_s="Arabic - Egypt",vs="Arabic - Iraq",bs="Arabic - Jordan",ys="Arabic - Kuwait",hs="Arabic - Lebanon",ws="Arabic - Libya",xs="Arabic - Morocco",ks="Arabic - Oman",Ss="Arabic - Qatar",$s="Arabic - Saudi Arabia",Cs="Arabic - Syria",Is="Arabic - Tunisia",Ps="Arabic - United Arab Emirates",Ms="Arabic - Yemen",Us="Armenian",Vs="Assamese",As="Azeri - Cyrillic",Bs="Basque",Ts="Belarusian",qs="Bengali - Bangladesh",Es="Bosnian",Fs="Bulgarian",Ds="Burmese",Rs="Catalan",Ys="Chinese - China",zs="Chinese - Hong Kong SAR",Ls="Chinese - Macau SAR",Ns="Chinese - Singapore",js="Chinese - Taiwan",Os="Croatian",Gs="Czech",Hs="Danish",Ks="Divehi; Dhivehi; Maldivian",Zs="Dutch - Belgium",Ws="Dutch - Netherlands",Js="English - Australia",Xs="English - Belize",Qs="English - Canada",et="English - Caribbean",st="English - Great Britain",tt="English - India",at="English - Ireland",nt="English - Jamaica",ot="English - New Zealand",rt="English - Phillippines",lt="English - Southern Africa",it="English - Trinidad",dt="English - United States",ct="Estonian",ut="Faroese",ft="Farsi - Persian",pt="Finnish",mt="French - Belgium",gt="French - Canada",_t="French - France",vt="French - Luxembourg",bt="French - Switzerland",yt="FYRO Macedonia",ht="Gaelic - Ireland",wt="Gaelic - Scotland",xt="German - Austria",kt="German - Germany",St="German - Liechtenstein",$t="German - Luxembourg",Ct="German - Switzerland",It="Greek",Pt="Guarani - Paraguay",Mt="Gujarati",Ut="Hebrew",Vt="Hindi",At="Hungarian",Bt="Icelandic",Tt="Indonesian",qt="Italian - Italy",Et="Italian - Switzerland",Ft="Japanese",Dt="Kannada",Rt="Kashmiri",Yt="Kazakh",zt="Khmer",Lt="Korean",Nt="Lao",jt="Latin",Ot="Latvian",Gt="Lithuanian",Ht="Malay - Brunei",Kt="Malay - Malaysia",Zt="Malayalam",Wt="Maltese",Jt="Maori",Xt="Marathi",Qt="Mongolian",ea="Nepali",sa="Norwegian - Bokml",ta="Oriya",aa="Polish",na="Portuguese - Brazil",oa="Portuguese - Portugal",ra="Punjabi",la="Raeto-Romance",ia="Romanian - Moldova",da="Romanian - Romania",ca="Russian",ua="Russian - Moldova",fa="Sanskrit",pa="Serbian - Cyrillic",ma="Setsuana",ga="Sindhi",_a="Sinhala; Sinhalese",va="Slovak",ba="Slovenian",ya="Somali",ha="Sorbian",wa="Spanish - Argentina",xa="Spanish - Bolivia",ka="Spanish - Chile",Sa="Spanish - Colombia",$a="Spanish - Costa Rica",Ca="Spanish - Dominican Republic",Ia="Spanish - Ecuador",Pa="Spanish - El Salvador",Ma="Spanish - Guatemala",Ua="Spanish - Honduras",Va="Spanish - Mexico",Aa="Spanish - Nicaragua",Ba="Spanish - Panama",Ta="Spanish - Paraguay",qa="Spanish - Peru",Ea="Spanish - Puerto Rico",Fa="Spanish - Spain (Traditional)",Da="Spanish - Uruguay",Ra="Spanish - Venezuela",Ya="Swahili",za="Swedish - Finland",La="Swedish - Sweden",Na="Tajik",ja="Tamil",Oa="Tatar",Ga="Telugu",Ha="Thai",Ka="Tibetan",Za="Tsonga",Wa="Turkish",Ja="Turkmen",Xa="Ukrainian",Qa="Urdu",en="Uzbek - Cyrillic",sn="Vietnamese",tn="Welsh",an="Xhosa",nn="Yiddish",on="Zulu",rn={af:us,sq:fs,am:ps,ar_DZ:ms,ar_BH:gs,ar_EG:_s,ar_IQ:vs,ar_JO:bs,ar_KW:ys,ar_LB:hs,ar_LY:ws,ar_MA:xs,ar_OM:ks,ar_QA:Ss,ar_SA:$s,ar_SY:Cs,ar_TN:Is,ar_AE:Ps,ar_YE:Ms,hy:Us,as:Vs,az_AZ:As,eu:Bs,be:Ts,bn:qs,bs:Es,bg:Fs,my:Ds,ca:Rs,zh_CN:Ys,zh_HK:zs,zh_MO:Ls,zh_SG:Ns,zh_TW:js,hr:Os,cs:Gs,da:Hs,dv:Ks,nl_BE:Zs,nl_NL:Ws,en_AU:Js,en_BZ:Xs,en_CA:Qs,en_CB:et,en_GB:st,en_IN:tt,en_IE:at,en_JM:nt,en_NZ:ot,en_PH:rt,en_ZA:lt,en_TT:it,en_US:dt,et:ct,fo:ut,fa:ft,fi:pt,fr_BE:mt,fr_CA:gt,fr_FR:_t,fr_LU:vt,fr_CH:bt,mk:yt,gd_IE:ht,gd:wt,de_AT:xt,de_DE:kt,de_LI:St,de_LU:$t,de_CH:Ct,el:It,gn:Pt,gu:Mt,he:Ut,hi:Vt,hu:At,is:Bt,id:Tt,it_IT:qt,it_CH:Et,ja:Ft,kn:Dt,ks:Rt,kk:Yt,km:zt,ko:Lt,lo:Nt,la:jt,lv:Ot,lt:Gt,ms_BN:Ht,ms_MY:Kt,ml:Zt,mt:Wt,mi:Jt,mr:Xt,mn:Qt,ne:ea,no_NO:sa,or:ta,pl:aa,pt_BR:na,pt_PT:oa,pa:ra,rm:la,ro_MO:ia,ro:da,ru:ca,ru_MO:ua,sa:fa,sr_SP:pa,tn:ma,sd:ga,si:_a,sk:va,sl:ba,so:ya,sb:ha,es_AR:wa,es_BO:xa,es_CL:ka,es_CO:Sa,es_CR:$a,es_DO:Ca,es_EC:Ia,es_SV:Pa,es_GT:Ma,es_HN:Ua,es_MX:Va,es_NI:Aa,es_PA:Ba,es_PY:Ta,es_PE:qa,es_PR:Ea,es_ES:Fa,es_UY:Da,es_VE:Ra,sw:Ya,sv_FI:za,sv_SE:La,tg:Na,ta:ja,tt:Oa,te:Ga,th:Ha,bo:Ka,ts:Za,tr:Wa,tk:Ja,uk:Xa,ur:Qa,uz_UZ:en,vi:sn,cy:tn,xh:an,yi:nn,zu:on};function ln(p,r){const l=k(!1),i=k(rn),a=ve("userLocale"),o=k(a),{toastSuccess:d,toastError:u}=W(),m=k({timezone:"UTC",dateFormat:"MM/DD/YYYY",timeFormat:"24",locale:"en_US"});Y(o,_=>{m.value.locale=_,f()}),Y(m,_=>{console.log("Preferences changed:",_),f()},{deep:!0});async function f(){var _,x;l.value=!0;try{await axios.post(`/api/user/${p}/setLocale`,{datestyle:m.value.dateFormat,timestyle:m.value.timeFormat,locale:m.value.locale}),d("Preferences Updated","Your time and locale preferences have been saved.")}catch(y){let I="Failed to update preferences";(x=(_=y.response)==null?void 0:_.data)!=null&&x.message&&(I=y.response.data.message),u("Update Failed",I)}finally{l.value=!1}}function c(_){l.value=_}return{preferences:m,locales:i,savePreferences:f,selectedLocale:o,setSaving:c,isSaving:l}}const dn={class:"flex items-center justify-between"},cn={class:"flex items-center space-x-3"},un={class:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"},fn={class:"flex flex-col items-start space-y-2"},pn={class:"space-y-8"},mn={class:"space-y-4"},gn={class:"pl-3"},_n={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},vn={class:"space-y-3"},bn={class:"pl-3 space-y-2"},yn={class:"text-sm font-medium text-green-700 dark:text-green-300"},hn={class:"space-y-4"},wn={class:"pl-3"},xn={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},kn={class:"space-y-2"},Sn={class:"space-y-2"},$n={class:"pt-4"},Cn={__name:"TimeLocaleCard",props:{user:{type:Object,required:!0},profileUserId:{type:String,required:!0}},setup(p){const r=p,{preferences:l,locales:i,selectedLocale:a,setSaving:o,isSaving:d}=ln(r.profileUserId,r.user),u=k(!1),m=()=>{localStorage.getItem("TableCompactView")==="true"&&(u.value=!0)};return Y(u,f=>{localStorage.setItem("TableCompactView",f.toString()),o(!0),setTimeout(()=>o(!1),500)}),z(()=>{m()}),(f,c)=>{const _=V("RcBadge"),x=V("Label");return g(),b(e(R),{class:"bg-transparent border-none"},{default:n(()=>[t(e(E),{class:"pb-6"},{default:n(()=>[s("div",dn,[s("div",cn,[s("div",un,[t(e(be),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),s("div",null,[t(e(F),{class:"text-xl font-semibold text-gray-900 dark:text-white"},{default:n(()=>[w(" Time & Locale "+M(e(a)),1)]),_:1}),t(e(J),{class:"text-gray-500 dark:text-gray-400"},{default:n(()=>[...c[3]||(c[3]=[w(" Customize your regional and time preferences ",-1)])]),_:1})])]),s("div",fn,[s("div",{class:B(["flex items-center space-x-2 text-sm",e(d)?"text-blue-500 dark:text-blue-400":"text-gray-500 dark:text-gray-400"])},[s("div",{class:B(["w-2 h-2 rounded-full",e(d)?"bg-blue-500 animate-pulse":"bg-gray-400"])},null,2),s("span",null,M(e(d)?"Saving changes…":"Changes auto-saved"),1)],2)])])]),_:1}),t(e(D),{class:"space-y-8"},{default:n(()=>[s("form",pn,[s("div",mn,[s("div",gn,[s("div",_n,[s("div",vn,[c[5]||(c[5]=s("div",{class:"flex items-center space-x-2 border-b border-gray-200 dark:border-gray-700"},[s("div",{class:"w-1 h-4 bg-blue-400 rounded-full"}),s("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Timezone")],-1)),s("div",bn,[t(e(Q),{modelValue:e(a),"onUpdate:modelValue":c[0]||(c[0]=y=>Te(a)?a.value=y:null)},{default:n(()=>[t(e(ee),{id:"timezone"},{default:n(()=>[t(e(se),{placeholder:"Select timezone"})]),_:1}),t(e(te),null,{default:n(()=>[(g(!0),$(q,null,O(e(i),(y,I)=>(g(),b(e(T),{key:I,value:I},{default:n(()=>[w(M(y),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(a)?(g(),b(_,{key:0,variant:"success",interactive:!1},{default:n(()=>[c[4]||(c[4]=s("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"},null,-1)),s("span",yn,M(e(a)),1)]),_:1})):P("",!0)])])])])]),s("div",hn,[c[13]||(c[13]=s("div",{class:"flex items-center space-x-2 pb-2 border-b border-gray-200 dark:border-gray-700"},[s("div",{class:"w-1 h-5 bg-purple-500 rounded-full"}),s("h3",{class:"text-base font-medium text-gray-900 dark:text-white"},"Display Formats")],-1)),s("div",wn,[s("div",xn,[s("div",kn,[t(x,{for:"dateFormat",class:"text-sm font-medium text-gray-700 dark:text-gray-300"},{default:n(()=>[...c[6]||(c[6]=[w(" Date Format ",-1)])]),_:1}),t(e(Q),{modelValue:e(l).dateFormat,"onUpdate:modelValue":c[1]||(c[1]=y=>e(l).dateFormat=y)},{default:n(()=>[t(e(ee),{id:"dateFormat"},{default:n(()=>[t(e(se),{placeholder:"Select date format"})]),_:1}),t(e(te),null,{default:n(()=>[t(e(T),{value:"MM/DD/YYYY"},{default:n(()=>[...c[7]||(c[7]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"MM/DD/YYYY"),s("span",{class:"text-xs text-gray-500 ml-4"},"12/25/2024")],-1)])]),_:1}),t(e(T),{value:"DD/MM/YYYY"},{default:n(()=>[...c[8]||(c[8]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"DD/MM/YYYY"),s("span",{class:"text-xs text-gray-500 ml-4"},"25/12/2024")],-1)])]),_:1}),t(e(T),{value:"YYYY-MM-DD"},{default:n(()=>[...c[9]||(c[9]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"YYYY-MM-DD"),s("span",{class:"text-xs text-gray-500 ml-4"},"2024-12-25")],-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),s("div",Sn,[t(x,{for:"timeFormat",class:"text-sm font-medium text-gray-700 dark:text-gray-300"},{default:n(()=>[...c[10]||(c[10]=[w(" Time Format ",-1)])]),_:1}),t(e(Q),{modelValue:e(l).timeFormat,"onUpdate:modelValue":c[2]||(c[2]=y=>e(l).timeFormat=y)},{default:n(()=>[t(e(ee),{id:"timeFormat"},{default:n(()=>[t(e(se),{placeholder:"Select time format"})]),_:1}),t(e(te),null,{default:n(()=>[t(e(T),{value:"12"},{default:n(()=>[...c[11]||(c[11]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"12 Hour (AM/PM)"),s("span",{class:"text-xs text-gray-500 ml-4"},"2:30 PM")],-1)])]),_:1}),t(e(T),{value:"24"},{default:n(()=>[...c[12]||(c[12]=[s("div",{class:"flex items-center justify-between w-full"},[s("span",null,"24 Hour"),s("span",{class:"text-xs text-gray-500 ml-4"},"14:30")],-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])]),s("div",$n,[t(e(qe),{class:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"},{default:n(()=>[t(e(Ee),{class:"h-4 w-4 text-blue-600 dark:text-blue-400"}),t(e(ss),{class:"text-blue-800 dark:text-blue-200"},{default:n(()=>[...c[14]||(c[14]=[w("Display Preferences",-1)])]),_:1}),t(e(Fe),{class:"text-blue-700 dark:text-blue-300"},{default:n(()=>[...c[15]||(c[15]=[w(" Your display settings affect how dates, times, and table layouts are shown throughout the application. Changes are automatically saved and will apply immediately to all tables. ",-1)])]),_:1})]),_:1})])])]),_:1}),t(e(L),{class:"flex justify-between items-center border-t border-gray-200 dark:border-gray-700 pt-6"})]),_:1})}}},In={__name:"Tabs",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},activationMode:{type:String,required:!1},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(p,{emit:r}){const a=De(p,r);return(o,d)=>(g(),b(e(ns),Re(Ye(e(a))),{default:n(()=>[A(o.$slots,"default")]),_:3},16))}},me={__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(p){const r=p,l=C(()=>{const{class:i,...a}=r;return a});return(i,a)=>(g(),b(e(rs),re({class:e(G)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r.class)},l.value),{default:n(()=>[A(i.$slots,"default")]),_:3},16,["class"]))}},Pn={__name:"TabsList",props:{loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(p){const r=p,l=C(()=>{const{class:i,...a}=r;return a});return(i,a)=>(g(),b(e(is),re(l.value,{class:e(G)("inline-flex items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r.class)}),{default:n(()=>[A(i.$slots,"default")]),_:3},16,["class"]))}},Mn={class:"truncate"},ge={__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(p){const r=p,l=C(()=>{const{class:a,...o}=r;return o}),i=ze(l);return(a,o)=>(g(),b(e(cs),re(e(i),{class:e(G)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r.class)}),{default:n(()=>[s("span",Mn,[A(a.$slots,"default")])]),_:3},16,["class"]))}},Un={class:"flex items-center mb-6"},Vn={class:"bg-rose-400/10 p-3 rounded-full mr-4"},An={__name:"IsInvalidUserProfCard",setup(p){function r(){router.push("/dashboard")}function l(){fetchUserProfile()}return(i,a)=>{const o=V("Button");return g(),b(e(R),{class:"w-full lg:w-1/2 border-rose-400/20"},{default:n(()=>[t(e(E),{class:"bg-red-400/15 dark:bg-red-400/20 border-b border-red-400/20"},{default:n(()=>[t(e(F),{class:"flex items-center text-rose-400"},{default:n(()=>[t(e(ne),{class:"h-5 w-5 mr-2"}),a[0]||(a[0]=w(" Invalid User Profile ",-1))]),_:1})]),_:1}),t(e(D),{class:"pt-6"},{default:n(()=>[s("div",Un,[s("div",Vn,[t(e(ne),{class:"h-8 w-8 text-rose-400"})]),a[1]||(a[1]=s("div",null,[s("p",{class:"text-lg font-semibold text-rose-400"},"Profile Not Found"),s("p",{class:"text-muted-foreground"},"We couldn't find the requested profile or you don't have permission to access it.")],-1))]),a[2]||(a[2]=s("p",{class:"text-muted-foreground mb-3"}," There might be several reasons for this error: ",-1)),a[3]||(a[3]=s("ul",{class:"list-disc pl-5 mb-6 space-y-1 text-muted-foreground"},[s("li",null,"The user account doesn't exist"),s("li",null,"Your session might have expired"),s("li",null,"You have insufficient permissions")],-1))]),_:1}),t(e(L),{class:"flex flex-col sm:flex-row gap-3 border-t pt-4"},{default:n(()=>[t(o,{onClick:l,variant:"destructive",class:"w-full sm:w-auto"},{default:n(()=>[t(e(Le),{class:"h-4 w-4 mr-2"}),a[4]||(a[4]=w(" Try Again ",-1))]),_:1}),t(o,{onClick:r,variant:"outline",class:"w-full sm:w-auto"},{default:n(()=>[...a[5]||(a[5]=[w(" Back to Dashboard ",-1)])]),_:1})]),_:1})]),_:1})}}},Bn={class:"flex items-center mb-6"},Tn={class:"bg-amber-100 dark:bg-amber-900/50 p-3 rounded-full mr-4"},qn={class:"text-muted-foreground mb-6"},En={__name:"IsUnauthorizedUserProfCard",props:{userId:{type:String,required:!0},loggedInUser:{type:String,required:!0}},setup(p){function r(){router.push("/dashboard")}function l(){router.push(`/settings/my-profile/${loggedInUser}`)}return(i,a)=>{const o=V("Button");return g(),b(e(R),{class:"w-full lg:w-1/2 max-w-5xl border-amber-500/20"},{default:n(()=>[t(e(E),{class:"bg-amber-500/15 dark:bg-amber-900/30 border-b border-amber-500/20"},{default:n(()=>[t(e(F),{class:"flex items-center text-amber-600 dark:text-amber-400"},{default:n(()=>[t(e(ce),{class:"h-5 w-5 mr-2"}),a[0]||(a[0]=w(" Access Denied ",-1))]),_:1})]),_:1}),t(e(D),{class:"pt-6"},{default:n(()=>[s("div",Bn,[s("div",Tn,[t(e(ce),{class:"h-8 w-8 text-amber-600 dark:text-amber-400"})]),a[1]||(a[1]=s("div",null,[s("p",{class:"text-lg font-semibold text-amber-700 dark:text-amber-400"},"Security Restriction"),s("p",{class:"text-muted-foreground"},"You can only access your own user profile.")],-1))]),s("p",qn,"The profile you're trying to access (ID: "+M(p.userId)+") belongs to another user. For security reasons, you can only view and edit your own profile.",1)]),_:1}),t(e(L),{class:"flex flex-col sm:flex-row gap-3 border-t pt-4"},{default:n(()=>[t(o,{onClick:l,variant:"default",class:"w-full sm:w-auto"},{default:n(()=>[t(e(Ne),{class:"h-4 w-4 mr-2"}),a[2]||(a[2]=w(" Go to My Profile ",-1))]),_:1}),t(o,{onClick:r,variant:"outline",class:"w-full sm:w-auto"},{default:n(()=>[...a[3]||(a[3]=[w(" Back to Dashboard ",-1)])]),_:1})]),_:1})]),_:1})}}},Fn={class:"alert-warning"},Dn={class:"alert-content"},Rn={class:"alert-icon"},Yn={key:0},zn=["innerHTML"],Ln={class:"alert-slot"},Nn={__name:"AlertWarning",props:{title:{type:String,default:"Warning"},titleEnabled:{type:Boolean,default:!0},message:{type:String,required:!0},small:{type:Boolean,default:!1},showClose:{type:Boolean,default:!1}},emits:["closed"],setup(p,{emit:r}){const l=r;function i(){l("closed")}return(a,o)=>(g(),$("div",Fn,[s("div",Dn,[s("div",Rn,[t(e(ne)),o[0]||(o[0]=s("span",{class:"alert-icon-pulse"},null,-1))]),s("div",{class:B(["alert-body",{"text-size-sm":p.small}])},[p.titleEnabled?(g(),$("h5",Yn,M(p.title),1)):P("",!0),s("div",{innerHTML:p.message,class:"alert-message"},null,8,zn),s("div",Ln,[A(a.$slots,"default",{},void 0,!0)])],2),p.showClose?(g(),$("button",{key:0,onClick:i,class:"alert-close-btn","aria-label":"Close",type:"button"},[t(e(je)),o[1]||(o[1]=s("span",{class:"alert-close-ripple"},null,-1))])):P("",!0)])]))}},jn=ye(Nn,[["__scopeId","data-v-1a497441"]]),h={},On=Oe("notifications",()=>{const{toastSuccess:p,toastError:r}=W(),l=k({}),i=k(!1),a=k({}),o=k({categories:[],types:[],channels:[]}),d=async()=>{try{const v=await axios.get("/api/notification-enums");o.value=v.data}catch(v){console.error("Failed to load notification enums:",v),u()}},u=()=>{o.value={categories:[{key:"system",label:h.categories.system.label,description:h.categories.system.description,icon:"Server"},{key:"config",label:h.categories.config.label,description:h.categories.config.description,icon:"Settings"},{key:"connection",label:h.categories.connection.label,description:h.categories.connection.description,icon:"Wifi"},{key:"task",label:h.categories.task.label,description:h.categories.task.description,icon:"CheckCircle"}],channels:[{key:"db",label:h.channels.db.label,description:h.channels.db.description,icon:"Database",color:"blue"},{key:"mail",label:h.channels.mail.label,description:h.channels.mail.description,icon:"Mail",color:"green"}],types:[{key:"system.notification_error",category:"system",label:h.types.system_notification_error.label,description:h.types.system_notification_error.description,severity:"info",channels:["db","mail"]},{key:"config.changed",category:"config",label:h.types.config_changed.label,description:h.types.config_changed.description,severity:"warning",channels:["db","mail"]},{key:"config.download_completed",category:"config",label:h.types.config_download_completed.label,description:h.types.config_download_completed.description,severity:"info",channels:["db","mail"]},{key:"config.purge_completed",category:"config",label:h.types.config_purge_completed.label,description:h.types.config_purge_completed.description,severity:"info",channels:["db","mail"]},{key:"config.purge_failed_completed",category:"config",label:h.types.config_purge_failed_completed.label,description:h.types.config_purge_failed_completed.description,severity:"info",channels:["db","mail"]},{key:"connection.device_failure",category:"connection",label:h.types.connection_device_failure.label,description:h.types.connection_device_failure.description,severity:"warning",channels:["db","mail"]},{key:"task.completed",category:"task",label:h.types.task_completed.label,description:h.types.task_completed.description,severity:"info",channels:["db","mail"]},{key:"task.download_report",category:"task",label:h.types.task_download_report.label,description:h.types.task_download_report.description,severity:"info",channels:["db","mail"]}]}},m=C(()=>o.value.categories.map(v=>({...v,types:o.value.types.filter(S=>S.category===v.key)}))),f=C(()=>o.value.channels),c=C(()=>o.value.types.length),_=C(()=>{let v=0;return Object.keys(l.value).forEach(S=>{Object.keys(l.value[S]||{}).forEach(U=>{l.value[S][U]&&v++})}),v}),x=async()=>{try{i.value=!0;const v=await axios.get("/api/user/notification-preferences");l.value=v.data.preferences||{}}catch(v){throw console.error("Failed to load notification preferences:",v),r("Error","Failed to load notification preferences."),v}finally{i.value=!1}};return{preferences:l,loading:i,updating:a,enums:o,notificationCategories:m,channels:f,totalNotificationTypes:c,enabledNotifications:_,loadEnums:d,loadPreferences:x,updatePreference:async(v,S,U)=>{const ie=`${v}.${S}`;try{return a.value[ie]=!0,await axios.patch("/api/user/notification-preferences",{notification_type:v,channel:S,enabled:U}),l.value[v]||(l.value[v]={}),l.value[v][S]=U,p("Success",`Notification preference for "${v}" (${S}) updated successfully.`),{success:!0}}catch(de){throw console.error("Failed to update preference:",de),l.value[v]&&(l.value[v][S]=!U),r("Error",`Failed to update notification preference for "${v}" (${S}).`),de}finally{a.value[ie]=!1}},getPreference:(v,S)=>{var U;return((U=l.value[v])==null?void 0:U[S])??!1},isUpdating:(v,S)=>a.value[`${v}.${S}`]||!1,getSeverityVariant:v=>{switch(v){case"error":return"danger";case"warning":return"warning";case"info":return"info";default:return"secondary"}},getChannelColor:v=>{const S=f.value.find(U=>U.key===v);return(S==null?void 0:S.color)||"gray"},isSlackEnabled:v=>{const S=o.value.types.find(U=>U.key===v);return(S==null?void 0:S.slackEnabled)||!1},initialize:async()=>{await d(),await x()}}}),Gn={class:"flex items-center"},Hn={class:"p-2 bg-amber-100 dark:bg-amber-900 rounded-lg mr-2"},Kn={class:"text-sm text-muted-foreground font-normal ml-2"},Zn={class:"flex flex-col items-start space-y-2"},Wn={key:0,class:"flex items-center justify-center py-8"},Jn={key:1,class:"space-y-6"},Xn={class:"bg-muted/50 rounded-lg p-4"},Qn={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},eo={class:"text-sm font-medium flex items-center"},so={class:"text-xs text-muted-foreground"},to={class:"rounded-lg border border-border bg-card overflow-hidden"},ao={class:"border-b border-border bg-muted/50 px-6 py-4"},no={class:"grid gap-4 items-center",style:{"grid-template-columns":"1fr auto auto auto"}},oo={class:"flex items-center gap-2"},ro={class:"flex items-center justify-center gap-2 min-w-[80px]"},lo={class:"flex items-center justify-center gap-2 min-w-[80px]"},io={class:"divide-y divide-border"},co={class:"grid gap-4 items-center",style:{"grid-template-columns":"1fr auto auto auto"}},uo={class:"min-w-0"},fo={class:"space-y-1"},po={class:"text-sm font-medium leading-none"},mo={class:"text-xs text-muted-foreground leading-tight"},go={class:"flex justify-center min-w-[80px]"},_o={class:"flex items-center"},vo={class:"flex justify-center min-w-[80px]"},bo={class:"flex items-center"},yo={__name:"NotificationPreferences",props:{profileUserId:{type:[String,Number],required:!0},notificationStatus:{type:Boolean,required:!0}},setup(p){const r=On(),l=k(!1);k(localStorage.getItem("notificationInfoAlertClosed")!=="true"),z(async()=>{try{await r.initialize()}catch{toastError("Load Failed","Failed to load notification preferences")}});const i=C(()=>Object.values(r.updating).some(a=>a===!0));return(a,o)=>{const d=V("RcIcon");return g(),b(e(R),{class:"bg-transparent border-none"},{default:n(()=>[t(e(E),null,{default:n(()=>[t(e(F),{class:"flex items-center justify-between"},{default:n(()=>[s("div",Gn,[s("div",Hn,[t(e(oe),{class:"h-5 w-5 text-amber-600 dark:text-amber-400"})]),o[0]||(o[0]=w(" Notification Preferences ",-1)),s("div",Kn,"("+M(e(r).enabledNotifications)+" / "+M(e(r).totalNotificationTypes*3)+" enabled)",1)]),s("div",Zn,[s("div",{class:B(["flex items-center space-x-2 text-sm",i.value?"text-blue-500 dark:text-blue-400":"text-gray-500 dark:text-gray-400"])},[s("div",{class:B(["w-2 h-2 rounded-full",i.value?"bg-blue-500 animate-pulse":"bg-gray-400"])},null,2),s("span",null,M(i.value?"Saving changes…":"Changes auto-saved"),1)],2)])]),_:1}),t(e(J),null,{default:n(()=>[...o[1]||(o[1]=[w("Manage your notification preferences and settings.",-1)])]),_:1}),p.notificationStatus===!1?(g(),b(jn,{key:0,title:"Your notifications are disabled",message:"Please enable notifications in the users settings to receive updates.",small:!0,class:"my-2"})):P("",!0)]),_:1}),t(e(D),null,{default:n(()=>[l.value?(g(),$("div",Wn,[t(e(X),{class:"h-6 w-6 animate-spin mr-2"}),o[2]||(o[2]=w(" Loading preferences... ",-1))])):(g(),$("div",Jn,[s("div",Xn,[o[3]||(o[3]=s("h4",{class:"font-medium mb-3 text-sm"},"Notification Channels",-1)),s("div",Qn,[(g(!0),$(q,null,O(e(r).channels,u=>(g(),$("div",{key:u.key,class:"flex items-center space-x-2"},[(g(),b(Ge(u.icon),{class:B(["h-4 w-4",`text-${u.color}-600`])},null,8,["class"])),s("div",null,[s("span",eo,[u.label==="Database"?(g(),b(d,{key:0,name:"Database",class:"mr-2"})):P("",!0),u.label==="Email"?(g(),b(d,{key:1,name:"Email",class:"mr-2"})):P("",!0),w(" "+M(u.label),1)]),s("p",so,M(u.description),1)])]))),128))])]),s("div",to,[s("div",ao,[s("div",no,[s("div",oo,[t(e(oe),{class:"h-4 w-4 text-muted-foreground"}),o[4]||(o[4]=s("span",{class:"text-sm font-medium"},"Notify me about",-1))]),s("div",ro,[t(d,{name:"Database",class:"mr-2"}),o[5]||(o[5]=s("span",{class:"text-sm font-medium"},"InApp",-1))]),s("div",lo,[t(d,{name:"Email",class:"mr-2"}),o[6]||(o[6]=s("span",{class:"text-sm font-medium"},"Email",-1))])])]),s("div",io,[(g(!0),$(q,null,O(e(r).notificationCategories,u=>(g(),$(q,{key:u.key},[(g(!0),$(q,null,O(u.types,(m,f)=>(g(),$("div",{key:m.key,class:B(["px-6 py-4 hover:bg-muted/30 transition-colors",{"border-t border-muted":f===0&&u!==e(r).notificationCategories[0]}])},[s("div",co,[s("div",uo,[s("div",fo,[s("h4",po,M(m.label),1),s("p",mo,M(m.description),1)])]),s("div",go,[s("div",_o,[e(r).isUpdating(m.key,"db")?(g(),b(e(X),{key:0,class:"h-4 w-4 animate-spin text-muted-foreground"})):(g(),b(e(ue),{key:1,checked:e(r).getPreference(m.key,"db"),"onUpdate:checked":c=>e(r).updatePreference(m.key,"db",c)},null,8,["checked","onUpdate:checked"]))])]),s("div",vo,[s("div",bo,[e(r).isUpdating(m.key,"mail")?(g(),b(e(X),{key:0,class:"h-4 w-4 animate-spin text-muted-foreground"})):(g(),b(e(ue),{key:1,checked:e(r).getPreference(m.key,"mail"),disabled:!m.channels.includes("mail"),"onUpdate:checked":c=>e(r).updatePreference(m.key,"mail",c)},null,8,["checked","disabled","onUpdate:checked"]))])])])],2))),128))],64))),128))])])]))]),_:1})]),_:1})}}};function ho(p){const{toastSuccess:r,toastError:l}=W(),i=k(!1),a=k({current:"",new:"",confirm:""}),o=k({current:!1,new:!1,confirm:!1}),d=C(()=>!a.value.new&&!a.value.confirm?null:a.value.new===a.value.confirm),u=C(()=>a.value.current&&a.value.new&&a.value.confirm&&d.value);async function m(){var f,c,_,x;if(i.value=!0,!d.value){l("Password Error","New password and confirmation do not match");return}try{await axios.post(`/api/user/${p}/change-password`,{current_password:a.value.current,new_password:a.value.new,new_password_confirmation:a.value.confirm}),r("Password Updated","Your password has been changed successfully."),a.value={current:"",new:"",confirm:""}}catch(y){let I="Failed to update password";if((c=(f=y.response)==null?void 0:f.data)!=null&&c.errors){const N=y.response.data.errors,j=Object.keys(N)[0];j&&N[j][0]&&(I=N[j][0])}else(x=(_=y.response)==null?void 0:_.data)!=null&&x.message&&(I=y.response.data.message);l("Update Failed",I)}finally{i.value=!1}}return{canChangePassword:u,changePassword:m,passwordVisibility:o,passwords:a,passwordsMatch:d,isSaving:i}}const wo={class:"space-y-4"},xo={class:"space-y-2"},ko={class:"relative"},So={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$o={class:"space-y-2"},Co={class:"relative"},Io={class:"space-y-2"},Po={class:"relative"},Mo={key:0,class:"text-xs text-destructive"},Uo={__name:"PasswordCard",props:{profileUserId:{type:String,required:!0}},setup(p){const r=p,{canChangePassword:l,changePassword:i,passwordVisibility:a,passwords:o,passwordsMatch:d,isSaving:u}=ho(r.profileUserId);return(m,f)=>{const c=V("Label"),_=V("InputPassword"),x=V("Button");return g(),b(e(R),{class:"bg-transparent border-none"},{default:n(()=>[t(e(E),{class:"pt-0"},{default:n(()=>[t(e(F),{class:"flex items-center"},{default:n(()=>[t(e(be),{class:"h-5 w-5 mr-2"}),f[3]||(f[3]=w(" Password ",-1))]),_:1}),t(e(J),null,{default:n(()=>[...f[4]||(f[4]=[w("Update your password",-1)])]),_:1})]),_:1}),t(e(D),null,{default:n(()=>[s("form",wo,[s("div",xo,[t(c,{for:"currentPassword"},{default:n(()=>[...f[5]||(f[5]=[w("Current Password",-1)])]),_:1}),s("div",ko,[t(_,{id:"currentPassword",modelValue:e(o).current,"onUpdate:modelValue":f[0]||(f[0]=y=>e(o).current=y),type:e(a).current?"text":"password"},null,8,["modelValue","type"])])]),s("div",So,[s("div",$o,[t(c,{for:"newPassword"},{default:n(()=>[...f[6]||(f[6]=[w("New Password",-1)])]),_:1}),s("div",Co,[t(_,{id:"newPassword",modelValue:e(o).new,"onUpdate:modelValue":f[1]||(f[1]=y=>e(o).new=y),type:e(a).new?"text":"password"},null,8,["modelValue","type"])])]),s("div",Io,[t(c,{for:"confirmPassword"},{default:n(()=>[...f[7]||(f[7]=[w("Confirm New Password",-1)])]),_:1}),s("div",Po,[t(_,{id:"confirmPassword",modelValue:e(o).confirm,"onUpdate:modelValue":f[2]||(f[2]=y=>e(o).confirm=y),type:e(a).confirm?"text":"password"},null,8,["modelValue","type"])]),e(d)===!1?(g(),$("p",Mo," Passwords don't match ")):P("",!0)])])])]),_:1}),t(e(L),{class:"flex justify-end border-t pt-4"},{default:n(()=>[t(x,{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",variant:"primary",onClick:e(i),disabled:!e(l)},{default:n(()=>[t(xe,{state:e(u),class:"h-4 w-4 mr-2"},null,8,["state"]),e(u)?P("",!0):(g(),b(e(he),{key:0,class:"h-4 w-4 mr-2"})),f[8]||(f[8]=s("span",null,"Save Changes",-1)),f[9]||(f[9]=s("div",{class:"pl-2 ml-auto"},null,-1))]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})}}};function Vo(p,r){const{toastSuccess:l,toastError:i}=W(),a=k(!1),o=k({name:"",username:""});Y(r,u=>{u&&(o.value={name:u.name||"",username:u.username||""})},{immediate:!0});async function d(){var u,m;a.value=!0;try{await axios.post(`/api/user/update-profile/${p}`,{name:o.value.name,username:o.value.username}),l("Profile Updated","Your profile details have been updated successfully.")}catch(f){console.error(f),i("Update Failed",((m=(u=f.response)==null?void 0:u.data)==null?void 0:m.message)||"Failed to update profile details")}finally{a.value=!1}}return{personalDetails:o,isSaving:a,savePersonalDetails:d}}const Ao={class:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-lg mr-2"},Bo={class:"space-y-4"},To={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qo={class:"space-y-2"},Eo={class:"space-y-2"},Fo={__name:"PersonalDetailsCard",props:{user:{type:Object,required:!0},profileUserId:{type:String,required:!0}},setup(p){const r=p,{personalDetails:l,isSaving:i,savePersonalDetails:a}=Vo(r.profileUserId,r.user);return(o,d)=>{const u=V("RcIcon");return g(),b(e(R),{class:"bg-transparent border-none"},{default:n(()=>[t(e(E),null,{default:n(()=>[t(e(F),{class:"flex items-center"},{default:n(()=>[s("div",Ao,[t(u,{name:"user",class:"h-5 w-5"})]),d[2]||(d[2]=w(" Personal Details ",-1))]),_:1}),t(e(J),null,{default:n(()=>[...d[3]||(d[3]=[w("Update your personal information",-1)])]),_:1})]),_:1}),t(e(D),null,{default:n(()=>[s("form",Bo,[s("div",To,[s("div",qo,[t(e(fe),{for:"firstName"},{default:n(()=>[...d[4]||(d[4]=[w("Name",-1)])]),_:1}),t(e(pe),{id:"firstName",modelValue:e(l).name,"onUpdate:modelValue":d[0]||(d[0]=m=>e(l).name=m),placeholder:"Your name",class:"placeholder-gray-500"},null,8,["modelValue"])]),s("div",Eo,[t(e(fe),{for:"lastName"},{default:n(()=>[...d[5]||(d[5]=[w("Username ",-1),s("small",null,"(optional)",-1)])]),_:1}),t(e(pe),{id:"lastName",modelValue:e(l).username,"onUpdate:modelValue":d[1]||(d[1]=m=>e(l).username=m),placeholder:"Your username",class:"placeholder-gray-500"},null,8,["modelValue"])])])])]),_:1}),t(e(L),{class:"flex justify-end border-t pt-4"},{default:n(()=>[t(e(He),{type:"submit",class:"px-2 py-1 ml-2 text-sm bg-blue-600 hover:bg-blue-700 hover:animate-pulse",size:"sm",variant:"primary",onClick:e(a)},{default:n(()=>[t(xe,{state:e(i),class:"h-4 w-4 mr-2"},null,8,["state"]),e(i)?P("",!0):(g(),b(e(he),{key:0,class:"h-4 w-4 mr-2"})),d[6]||(d[6]=s("span",null,"Save Changes",-1)),d[7]||(d[7]=s("div",{class:"pl-2 ml-auto"},null,-1))]),_:1},8,["onClick"])]),_:1})]),_:1})}}};function Do(p,r){we();const l=k(null),i=k(null),a=k(!0),o=k(null),d=k("loading"),u=C(()=>d.value==="authorized"),m=C(()=>d.value==="unauthorized"),f=C(()=>d.value==="invalid");z(()=>{_(),c()});const c=async()=>{var x,y;try{a.value=!0,o.value=null;const I=await Ke.get(`/api/users/${p}`);l.value=I.data}catch(I){console.log(I),o.value=((y=(x=I.response)==null?void 0:x.data)==null?void 0:y.message)||"Failed to load user profile",d.value="invalid"}finally{a.value=!1}},_=()=>{if(!r||!p)return d.value="invalid",!1;const x=parseInt(p,10);return parseInt(r,10)===x?(d.value="authorized",!0):(d.value="unauthorized",!1)};return{user:l,currentUser:i,isLoading:a,error:o,accessStatus:d,isAuthorized:u,isUnauthorized:m,isInvalid:f,fetchUserProfile:c}}const Ro={class:"pb-4 pl-10 space-y-6 md:block"},Yo={class:"space-y-0.5"},zo={class:"flex items-center space-x-2 text-2xl font-bold tracking-tight"},Lo={class:"flex flex-col h-full gap-1"},No={key:0,class:"flex flex-col w-full"},jo={key:1,class:"flex items-center justify-center h-full p-4"},Oo={key:2,class:"flex items-center justify-center h-full p-4"},Go={key:3,class:"container mx-auto px-4 max-w-4xl"},Ho={class:"flex items-center justify-center gap-2 data-[state=active]:bg-background"},Ko={class:"flex items-center justify-center gap-2 data-[state=active]:bg-background"},Zo={class:"tab-content-wrapper"},Wo={class:"tab-content-wrapper"},ae="user-profile-active-tab",Jo={__name:"Main",setup(p){const r=Ze();we();const l=ve("userid"),i=r.params.userId,{user:a,isLoading:o,isAuthorized:d,isUnauthorized:u,isInvalid:m}=Do(i,l),f=k(localStorage.getItem(ae)||"profile");return Y(f,c=>{localStorage.setItem(ae,c)}),z(()=>{localStorage.getItem("user-profile-user-id")!==i.toString()&&(localStorage.setItem("user-profile-user-id",i.toString()),f.value="profile",localStorage.setItem(ae,"profile"))}),(c,_)=>{const x=V("RcIcon");return g(),$(q,null,[s("div",Ro,[s("div",Yo,[s("h2",zo,[t(x,{name:"settings",class:"w-8 h-8"}),_[1]||(_[1]=s("span",null,"My User Profile",-1))]),_[2]||(_[2]=s("p",{class:"text-muted-foreground"},"Manage your application settings and preferences",-1))]),t(e(We),{class:"my-6"})]),s("div",Lo,[e(o)?(g(),$("div",No,[t(Je,{class:"mx-auto"})])):e(u)?(g(),$("div",jo,[t(En,{userId:e(i),loggedInUser:e(l)},null,8,["userId","loggedInUser"])])):e(m)?(g(),$("div",Oo,[t(An)])):e(d)?(g(),$("div",Go,[t(e(In),{modelValue:f.value,"onUpdate:modelValue":_[0]||(_[0]=y=>f.value=y),class:"w-full"},{default:n(()=>[t(e(Pn),{class:"grid w-full grid-cols-2 mb-4"},{default:n(()=>[t(e(ge),{value:"profile"},{default:n(()=>[s("div",Ho,[t(x,{name:"user",class:"w-4 h-4"}),_[3]||(_[3]=s("span",{class:"hidden sm:inline"},"Profile & Security",-1))])]),_:1}),t(e(ge),{value:"notifications"},{default:n(()=>[s("div",Ko,[t(e(oe),{class:"w-4 h-4"}),_[4]||(_[4]=s("span",{class:"hidden sm:inline"},"Notifications",-1))])]),_:1})]),_:1}),t(e(me),{value:"profile",class:"space-y-4 mt-0"},{default:n(()=>[s("div",Zo,[e(a)?(g(),b(Fo,{key:0,user:e(a),profileUserId:e(i)},null,8,["user","profileUserId"])):P("",!0),e(a)?(g(),b(Uo,{key:1,profileUserId:e(i)},null,8,["profileUserId"])):P("",!0),e(a)?(g(),b(Cn,{key:2,user:e(a),profileUserId:e(i)},null,8,["user","profileUserId"])):P("",!0)])]),_:1}),t(e(me),{value:"notifications",class:"space-y-4 mt-0"},{default:n(()=>[s("div",Wo,[e(a)?(g(),b(yo,{key:0,profileUserId:e(a).id,notificationStatus:e(a).get_notifications},null,8,["profileUserId","notificationStatus"])):P("",!0)])]),_:1})]),_:1},8,["modelValue"])])):P("",!0)])],64)}}},lr=ye(Jo,[["__scopeId","data-v-db02151e"]]);export{lr as default};
