import{x as m,D as Q,E as G,F as le,r as L,c as S,o as i,b as t,w as s,u as e,G as he,a as l,H as Ae,d as b,t as I,I as $e,s as F,T as Ce,J as K,K as q,e as D,L as ke,M as X,z as E,N as Ke,O as ae,P as we,Q as te,R as Se,n as oe,S as qe,U as He,q as Ee,V as Ge,W as ne,X as Qe,g as Je,Y as Pe,Z as Xe,$ as We,l as Ye,a0 as De,a1 as Re,a2 as Ie,a3 as Ve,a4 as Ze,A as et,a5 as Le,a6 as Fe,a7 as tt,p as W,j as Y,k as Z,m as ee,a8 as xe,_ as je,a9 as st,aa as se,ab as ze,ac as lt,v as at,ad as ot,ae as nt}from"./app-BeH5VA0B.js";import{_ as Be,a as Me,b as rt,c as it,d as dt,C as ut}from"./NavPills-DEtoda9z.js";import{_ as ct}from"./DeviceMultiSelect-DdJclwEu.js";import{_ as re,a as ie,b as de,c as ue,d as ce,X as Oe}from"./HoverCardTrigger-kfKu-G5T.js";import{_ as fe}from"./SelectGroup-DgEQBGIv.js";import{u as Ue,_ as me,a as J,b as M,c as pe,d as ge,e as O,f as Ne,g as ve,h as _e,i as ft,j as mt,k as pt,l as Te,m as gt,n as vt,o as _t}from"./pageSettings-cSW5S5tC.js";import{B as xt,L as yt}from"./loader-circle-Cds8SanO.js";/* empty css               */import"./useCopy-D7wfK-FG.js";import"./ToggleGroupItem-D5yw9YiP.js";import"./square-terminal-C2RIX6xO.js";import"./search-D53CaN6I.js";import"./square-lIjXgQVV.js";import"./RcToolTip.vue_vue_type_script_setup_true_lang-DRalBHmQ.js";import"./BadgeList-DWIVFGSx.js";import"./package-check-CWD57G3n.js";import"./useMultiSelect-BUZu71zg.js";function bt(p){const y=m(null),C=m([]),r=m({selectedCommand:[],device:[],start_date:"",end_date:""});Q(()=>{h()});function h(){G.get("/api/configs/distinct-commands/0").then(d=>{C.value=d.data.data}).catch(d=>{createNotification({type:"danger",message:d.response.data.message})})}function f(){r.value.selectedCommand=[],r.value.device=[],r.value.start_date="",r.value.end_date="",p("updateConfigFilter",r.value)}function v(d){if(d.start&&d.end){const a=`${d.start.year}-${String(d.start.month).padStart(2,"0")}-${String(d.start.day).padStart(2,"0")}`,n=`${d.end.year}-${String(d.end.month).padStart(2,"0")}-${String(d.end.day).padStart(2,"0")}`;r.value.start_date=a,r.value.end_date=n}else r.value.start_date="",r.value.end_date="";y.value=d}function u(){p("updateConfigFilter",r.value)}return{clearAll:f,commands:C,model:r,performFilter:u,setDates:v}}const ht={class:"grid gap-0.5"},$t={key:0,class:"space-y-2"},Ct={key:0,class:"grid gap-3"},kt={class:"grid items-center"},wt={class:"grid items-center"},St={class:"flex flex-col items-start w-full space-x-2"},ye={__name:"ConfigCompareFilterCard",props:{isLoading:Boolean,comparePosition:String},emits:["updateConfigFilter"],setup(p,{emit:y}){const C=y,r=le("formatters"),{clearAll:h,commands:f,model:v,performFilter:u,setDates:d}=bt(C);return(a,n)=>{const x=L("Skeleton"),P=L("Button");return i(),S("div",null,[t(e(ke),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(he),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>[l("div",ht,[t(e(Ae),{class:"flex items-center gap-2 text-lg group"},{default:s(()=>[b(I(e(r).capitalize(p.comparePosition))+" Device",1)]),_:1})])]),_:1}),t(e($e),{class:"p-4 pt-0 text-sm"},{default:s(()=>[p.isLoading?(i(),S("div",$t,[t(x,{class:"w-1/2 h-4"}),t(x,{class:"w-full h-4"}),t(x,{class:"w-full h-4"}),t(x,{class:"w-full h-4"}),t(x,{class:"w-full h-4"}),t(x,{class:"w-full h-4"}),t(x,{class:"w-full h-4"}),t(x,{class:"w-full h-4"}),t(x,{class:"w-full h-4"})])):F("",!0),t(Ce,{name:"fade"},{default:s(()=>[p.isLoading?F("",!0):(i(),S("div",Ct,[l("div",kt,[t(ct,{singleSelect:!0,modelValue:e(v).device,"onUpdate:modelValue":n[0]||(n[0]=c=>e(v).device=c),id:"selectedModelArray",class:"w-full"},null,8,["modelValue"]),n[5]||(n[5]=l("p",{class:"ml-1 text-xs text-muted-foreground"},[b(" Select a device for the left side (Required) "),l("span",{class:"text-red-400"},"*")],-1))]),l("div",wt,[t(e(re),{modelValue:e(v).selectedCommand,"onUpdate:modelValue":n[1]||(n[1]=c=>e(v).selectedCommand=c)},{default:s(()=>[t(e(ie),{class:"w-full"},{default:s(()=>[t(e(de),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(ue),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(fe),null,{default:s(()=>[(i(!0),S(K,null,q(e(f),c=>(i(),D(e(ce),{value:c.command},{default:s(()=>[b(I(c.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),n[6]||(n[6]=l("p",{class:"ml-1 text-xs text-muted-foreground"},"Optionally select a command to filter the results",-1))]),l("div",St,[t(Be,{class:"w-full",onDateChange:n[2]||(n[2]=c=>e(d)(c))}),n[7]||(n[7]=l("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(Me),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[p.isLoading?F("",!0):(i(),D(P,{key:0,variant:"outline",onClick:n[3]||(n[3]=c=>e(h)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>[...n[8]||(n[8]=[b(" Clear ",-1)])]),_:1})),p.isLoading?F("",!0):(i(),D(P,{key:1,variant:"primary",onClick:n[4]||(n[4]=c=>e(u)(p.comparePosition)),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>[...n[9]||(n[9]=[b(" Filter ",-1)])]),_:1}))]),_:1})]),_:1})])}}};function Pt(p,y){const{toastError:C}=X(),r=m(!1),h=m(1),f=m(1),v=m(parseInt(localStorage.getItem("perPage")||"5")),u=m([]);Q(()=>{p.filterData.device.length>=1&&d()});function d(){if(r.value=!0,p.filterData.device.length===0){console.error("No device selected.");return}G.get("/api/configs/all-by-deviceid/"+p.filterData.device[0].id+"/1?filter[q]="+p.filterData.selectedCommand,{params:{perPage:v.value,page:h.value}}).then(a=>{u.value=a.data,f.value=a.data.last_page,r.value=!1}).catch(a=>{console.error("Error fetching commands:",a),C("Error","Failed to fetch commands."),r.value=!1})}return E([h,v],()=>{d()}),E(v,a=>{localStorage.setItem("perPage",a.toString())}),{currentPage:h,isLoading:r,lastPage:f,perPage:v,results:u}}const Dt={class:"w-full"},Rt={key:0,class:"min-h-[35dvh] flex items-center justify-center"},It={class:"text-sm text-center"},Vt={class:"text-muted-foreground"},Lt={key:1,class:"min-h-[35dvh] flex-1 w-full"},Ft={class:"px-6"},jt={key:0,class:"flex items-center mt-4"},zt={class:"text-sm"},be={__name:"ConfigCompareFilterConfigResults",props:{filterData:Object,comparePosition:String},emits:["updateSelectedRows"],setup(p,{emit:y}){const C=le("formatters"),r=y,h=p,{currentPage:f,isLoading:v,lastPage:u,perPage:d,results:a}=Pt(h),{selectedRows:n,toggleSingleSelectRow:x}=Ue(a);return E(n,P=>{r("updateSelectedRows",P)}),(P,c)=>{const _=L("Button"),j=L("Checkbox"),$=L("Icon");return i(),S("div",Dt,[p.filterData.device.length===0?(i(),S("div",Rt,[l("div",It,[l("span",Vt,I(e(C).capitalize(p.comparePosition))+" selection. No results, yet!",1),c[4]||(c[4]=l("br",null,null,-1)),c[5]||(c[5]=l("span",{class:"text-muted-foreground"},"Add filters to select configurations for comparison",-1))])])):F("",!0),p.filterData.device.length>0?(i(),S("div",Lt,[l("div",Ft,[t(e(ve),null,{default:s(()=>[t(e(me),null,{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(M),{class:"w-[2%]"}),t(e(M),{class:"w-[5%]"},{default:s(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:c[0]||(c[0]=k=>P.toggleSort("id"))},{default:s(()=>[...c[6]||(c[6]=[l("span",{class:"ml-2"},"ID",-1)])]),_:1})]),_:1}),t(e(M),{class:"w-[20%]"},{default:s(()=>[t(_,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:c[1]||(c[1]=k=>P.toggleSort("cred_name"))},{default:s(()=>[...c[7]||(c[7]=[l("span",{class:"ml-2"},"Name",-1)])]),_:1})]),_:1}),t(e(M),{class:"w-[30%]"},{default:s(()=>[...c[8]||(c[8]=[b("Command",-1)])]),_:1}),t(e(M),{class:"w-[30%]"},{default:s(()=>[...c[9]||(c[9]=[b("Filename",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...c[10]||(c[10]=[b("Created",-1)])]),_:1})]),_:1})]),_:1}),t(e(pe),null,{default:s(()=>[e(v)?(i(),D(ge,{key:0})):e(v)?(i(),D(Ne,{key:2})):(i(!0),S(K,{key:1},q(e(a).data,k=>(i(),D(e(J),{onClick:w=>e(x)(k.id),class:"cursor-pointer hover:bg-rcgray-800",key:k.id},{default:s(()=>[t(e(O),{class:"text-start"},{default:s(()=>[t(j,{class:"cursor-pointer",id:"select-"+k.id,checked:!!e(n).includes(k.id),onClick:w=>e(x)(k.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(k.id),1)]),_:2},1024),t(e(O),{class:"text-start"}),t(e(O),{class:"text-start"},{default:s(()=>[b(I(k.command),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(k.config_filename),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(e(C).formatTime(k.created_at)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),t(_e,{currentPage:e(f),lastPage:e(u),perPage:e(d),"onUpdate:currentPage":c[2]||(c[2]=k=>f.value=k),"onUpdate:perPage":c[3]||(c[3]=k=>d.value=k)},null,8,["currentPage","lastPage","perPage"]),e(n).length>0?(i(),S("div",jt,[t(e(Ke),{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t($,{icon:"mdi:check-circle",class:"mr-2 text-green-500"}),l("span",zt,"Config ID "+I(e(n))+" selected for comparison",1)]),_:1})])):F("",!0)])])):F("",!0),c[11]||(c[11]=l("div",{class:"w-full my-4 border-t"},null,-1))])}}};function Bt(){const p=m({selectedCommand:[],device:[],start_date:"",end_date:""}),y=m({selectedCommand:[],device:[],start_date:"",end_date:""}),C=m(100),r=m(200),h=m([]),f=m(!1),v=m(!1),u=m(null),d=m(300),a=m(400),n=m([]),x=ae(),{toastSuccess:P,toastError:c}=X(),_=(V,B)=>{V==="left"?p.value=B:V==="right"&&(y.value=B),r.value+=1,a.value+=1},j=()=>{if(h.length===0||n.length===0){c("Please select configurations for comparison");return}P("Comparing configurations...","",2e3),f.value=!0},$=()=>{x.go(-1)},k=()=>{h.value=[],p.value={selectedCommand:[],device:[],start_date:"",end_date:""},n.value=[],y.value={selectedCommand:[],device:[],start_date:"",end_date:""},f.value=!1,r.value+=1,C.value+=1,a.value+=1,d.value+=1};function w(){u!=null&&u.value.isCollapsed?u==null||u.value.expand():u==null||u.value.collapse(),v.value=!v.value}function o(){u!=null&&u.value.isCollapsed?u==null||u.value.expand():u==null||u.value.collapse(),v.value=!v.value}return{close:$,closeNav:w,leftConfigData:p,leftConfigFilterKey:C,leftConfigResultsKey:r,leftSelectedId:h,loadComparison:f,navClosed:v,openNav:o,panelElement3:u,reset:k,rightConfigData:y,rightConfigFilterKey:d,rightConfigResultsKey:a,rightSelectedId:n,sendConfigCompare:j,updateConfigFilterData:_}}const Mt={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},Ot={class:"flex justify-between w-full p-2 border-b"},Ut={class:"flex items-center justify-end"},Nt={key:0},Tt={class:"text-sm"},At={class:"flex items-center justify-between p-2 mb-2 border-b flex-shrink-0"},Kt={class:"relative flex flex-col items-center px-2"},qt={class:"w-full mb-4"},Ht={class:"w-full mb-4"},Et={class:"h-[80dvh]"},Gt={class:"flex items-center justify-between p-2 mb-2 border-b"},Qt={class:"flex items-center"},Jt={class:"mx-2"},Xt={class:"border-t bg-muted/20 py-1 mt-2"},Wt={class:"flex items-center text-xs py-2"},Yt=["href"],Zt={key:0,class:"relative flex flex-col items-center"},es={key:1},ts={__name:"ConfigCompare",setup(p){const{close:y,closeNav:C,leftConfigData:r,leftConfigFilterKey:h,leftConfigResultsKey:f,leftSelectedId:v,loadComparison:u,navClosed:d,reset:a,openNav:n,panelElement3:x,rightConfigData:P,rightConfigFilterKey:c,rightConfigResultsKey:_,rightSelectedId:j,sendConfigCompare:$,updateConfigFilterData:k}=Bt();return(w,o)=>{const V=L("Button"),B=L("RcIcon"),g=L("Badge"),z=L("ResizablePanel"),A=L("ResizableHandle"),H=L("ResizablePanelGroup");return i(),S("div",Mt,[l("div",Ot,[t(V,{onClick:o[0]||(o[0]=U=>e(y)()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(e(Oe),{size:"16",class:"text-muted-foreground hover:animate-pulse"})]),_:1}),o[11]||(o[11]=l("h2",{class:"items-center content-center text-muted-foreground"}," Config Compare ",-1)),l("div",Ut,[e(v).length>0&&e(j).length>0?(i(),S("div",Nt,[t(g,{variant:"outline",class:"py-1 mt-1 bg-rcgray-800"},{default:s(()=>[t(B,{name:"status-green",class:"mr-2"}),l("span",Tt,"Compare Config ID "+I(e(v))+" with Config ID "+I(e(j)),1)]),_:1})])):F("",!0),e(v)&&e(j)?(i(),D(V,{key:1,onClick:o[1]||(o[1]=U=>e($)(e(v),e(j))),class:"h-8 ml-2 text-white bg-blue-600 hover:bg-blue-700"},{default:s(()=>[...o[9]||(o[9]=[b(" Compare ",-1)])]),_:1})):F("",!0),e(v)&&e(j)?(i(),D(V,{key:2,variant:"outline",onClick:o[2]||(o[2]=U=>e(a)()),class:"h-8 ml-2 text-white"},{default:s(()=>[...o[10]||(o[10]=[b(" Reset ",-1)])]),_:1})):F("",!0)])]),t(H,{direction:"horizontal",class:""},{default:s(()=>[t(z,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement3",ref:x,class:"flex flex-col"},{default:s(()=>[l("div",At,[o[12]||(o[12]=l("h1",{class:"ml-4 text-sm font-semibold"},"Search Options",-1)),t(we,{class:"mr-2",onClose:o[3]||(o[3]=U=>e(C)())})]),t(e(te),{class:"flex-1 min-h-0"},{default:s(()=>[l("div",Kt,[l("div",qt,[(i(),D(ye,{key:e(h),onUpdateConfigFilter:o[4]||(o[4]=U=>e(k)("left",U)),comparePosition:"left"}))]),o[13]||(o[13]=l("div",{class:"w-full my-4 border-t"},null,-1)),l("div",Ht,[(i(),D(ye,{key:e(c),onUpdateConfigFilter:o[5]||(o[5]=U=>e(k)("right",U)),comparePosition:"right"}))]),o[14]||(o[14]=l("div",{class:"w-full my-4 border-t"},null,-1))])]),_:1})]),_:1},512),t(A,{"with-handle":""}),t(z,{class:"min-h-[86vh]"},{default:s(()=>[t(e(te),{class:"border border-none rounded-md"},{default:s(()=>[l("div",Et,[l("div",Gt,[l("div",Qt,[t(Se,{class:"ml-2",onOpenNav:o[6]||(o[6]=U=>e(n)()),navPanelBtnState:e(d)},null,8,["navPanelBtnState"]),l("h1",{class:oe(["w-full text-sm font-semibold",e(d)===!1?"ml-2 ":""])}," Filter Results ",2)]),l("div",Jt,[t(e(qe),null,{default:s(()=>[t(e(He),{asChild:""},{default:s(()=>[t(e(Ee),{class:"cursor-pointer transition-transform duration-300 hover:text-blue-500 hover:animate-pulse",size:"16"})]),_:1}),t(e(Ge),{class:"w-64 p-4 shadow-lg border bg-card/95 backdrop-blur-xl pb-0",align:"end"},{default:s(()=>[o[16]||(o[16]=l("div",{class:"space-y-3"},[l("div",{class:"text-xs font-medium text-foreground border-b pb-2"},"Filter Results"),l("div",{class:"space-y-2 text-sm"},[l("div",{class:"flex justify-between"},[l("span",{class:"text-muted-foreground"},"Filter results based on your criteria."),l("span",{class:"font-medium"})])])],-1)),l("div",Xt,[l("div",Wt,[l("a",{href:w.$rconfigDocsUrl+"/configtools/compare/",target:"_blank",class:"text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1"},[t(e(xt),{size:"12"}),o[15]||(o[15]=b(" View Documentation ",-1))],8,Yt)])])]),_:1})]),_:1})])]),e(u)?F("",!0):(i(),S("div",Zt,[(i(),D(be,{key:e(f),filterData:e(r),onUpdateSelectedRows:o[7]||(o[7]=U=>v.value=U),comparePosition:"left"},null,8,["filterData"])),(i(),D(be,{key:e(_),filterData:e(P),onUpdateSelectedRows:o[8]||(o[8]=U=>j.value=U),comparePosition:"right"},null,8,["filterData"]))])),e(u)?(i(),S("div",es,[t(rt,{leftSelectedId:e(v)[0],rightSelectedId:e(j)[0]},null,8,["leftSelectedId","rightSelectedId"])])):F("",!0)])]),_:1})]),_:1})]),_:1})])}}},ss={class:"flex justify-between"},ls={class:"flex items-center"},as={class:"flex items-center"},os={class:"grid gap-4 px-6 py-4 overflow-y-auto"},ns={class:"flex flex-col justify-between"},rs={key:1,class:"space-y-4"},is={class:"mb-2"},ds={class:"text-sm font-medium rc-text-sm-muted underline"},us=["innerHTML"],cs={__name:"PeekConfigSearchMatchesDialog",props:{editId:{type:Number,required:!0},record:{type:Object,required:!0},searchString:{type:String,required:!0}},setup(p){m({});const y=ne(),C=m({}),r=m(!0),h=m(localStorage.getItem("selectedLanguage")||"language-plaintext"),{closeDialog:f,isDialogOpen:v}=y;X();const{copy:u,copied:d}=Qe(),a=p,{matches:n}=a.record,x=["bash","c","cpp","css","html","java","javascript","language-plaintext","php","python","typescript"];Q(()=>{window.addEventListener("keydown",c),r.value=!1});const P=w=>{if(!a.searchString||!w)return w;const o=Array.isArray(w)?w.join(`
`):String(w),V=a.searchString.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),B=new RegExp(`(${V})`,"gi");return o.replace(B,'<span class="highlightMatch">$1</span>').replace(/\n/g,"<br>")};function c(w){w.key==="Escape"&&k()}const _=Je(()=>a.record.file);Pe(()=>{window.removeEventListener("keydown",c)});const j=w=>{C.value[w]=!0},$=w=>{C.value[w]=!1};function k(){f("peek-config-search-matches-dialog-"+a.editId)}return(w,o)=>{const V=L("RcIcon"),B=L("Button"),g=Xe("highlightjs");return i(),D(e(Fe),{open:e(v)("peek-config-search-matches-dialog-"+p.editId)},{default:s(()=>[t(e(We),{"as-child":""},{default:s(()=>[Ye(w.$slots,"default")]),_:3}),t(e(De),{class:"sm:max-w-[70dvw] grid-rows-[auto_minmax(0,1fr)_auto] p-0 max-h-[90dvh]",onEscapeKeyDown:o[5]||(o[5]=z=>e(f)("peek-config-search-matches-dialog-"+p.editId)),onPointerDownOutside:o[6]||(o[6]=z=>e(f)("peek-config-search-matches-dialog-"+p.editId)),onCloseClicked:o[7]||(o[7]=z=>e(f)("peek-config-search-matches-dialog-"+p.editId))},{default:s(()=>[t(e(Re),{class:"p-6 pb-0"},{default:s(()=>[t(e(Ie),null,{default:s(()=>[b("Configuration Quick Peek (Config ID: "+I(p.editId)+")",1)]),_:1}),t(e(Ve),null,{default:s(()=>[l("div",ss,[l("div",ls,[o[8]||(o[8]=l("div",{class:"mr-2"},"Language Options:",-1)),t(e(re),{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=z=>h.value=z)},{default:s(()=>[t(e(ie),{class:"w-[180px]"},{default:s(()=>[t(e(de),{placeholder:"Select a language"})]),_:1}),t(e(ue),null,{default:s(()=>[t(e(fe),null,{default:s(()=>[(i(),S(K,null,q(x,z=>t(e(ce),{value:z,key:z},{default:s(()=>[b(I(z),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),l("div",as,[b(" Path: "+I(_.value)+" ",1),l("span",{class:"ml-2 cursor-pointer",onMouseover:o[1]||(o[1]=z=>j("fileLocation")),onMouseleave:o[2]||(o[2]=z=>$("fileLocation")),onClick:o[3]||(o[3]=z=>e(u)(_.value))},[t(V,{name:"copy-transition",isActive:e(d),size:16},null,8,["isActive"])],32)])])]),_:1})]),_:1}),l("div",os,[l("div",ns,[r.value?(i(),D(Ze,{key:0})):(i(),S("div",rs,[(i(!0),S(K,null,q(e(n),(z,A)=>(i(),S("div",{key:A,class:"context-block border rounded-lg p-4"},[l("div",is,[l("span",ds," Matched Line: "+I(z.line_number),1)]),et(l("pre",{class:oe([h.value,"whitespace-pre-wrap text-sm p-3 rounded border overflow-x-auto"]),innerHTML:P(z.context)},null,10,us),[[g]])]))),128))]))])]),t(e(Le),{class:"p-6 pt-0"},{default:s(()=>[t(B,{onClick:o[4]||(o[4]=z=>k()),variant:"outline"},{default:s(()=>[...o[9]||(o[9]=[b(" Close ",-1)])]),_:1})]),_:1})]),_:1})]),_:3},8,["open"])}}};function fs(p){const y=le("formatters"),C=ne(),{openDialog:r,closeDialog:h,isDialogOpen:f}=C,v=ae(),u=m(0),d=m([]),a=m(!1),n=m(1),x=m(1),P=m(5),c=m([]),_=tt({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:!0,ignore_case:!0,start_date:"",end_date:""});E(()=>p.filters,V=>{j(V),$()});function j(V){c.value=[],d.value=[],u.value=0,n.value=1,x.value=1,Object.assign(_,V)}const $=async()=>{var V,B;a.value=!0;try{const g=await G.post("/api/configs/search",{device_name:_.device_name,command:_.command,device_category:_.device_category,search_string:_.search_string,lines_before:_.lines_before,lines_after:_.lines_after,latest_version_only:_.latest_version_only,ignore_case:_.ignore_case,start_date:_.start_date+" 00:00:00",end_date:_.end_date+" 23:59:59",page:x.value,per_page:P.value});g.data.data.length&&(c.value=g.data.data,u.value=g.data.current_page,n.value=g.data.last_page)}catch(g){console.log(g),d.value=((B=(V=g.response)==null?void 0:V.data)==null?void 0:B.errors)||[]}finally{a.value=!1}};function k(V){v.push({name:"configsview",params:{id:parseInt(V)},query:{ref:"configsearch"}})}function w(V){P.value=V,$()}function o(V){console.log(V),x.value=V,$()}return{changePage:o,currentPage:u,errors:d,formatters:y,isDialogOpen:f,isFetching:a,lastPage:n,openDialog:r,perPage:P,results:c,searchModel:_,updatePerpage:w,viewDetailsPane:k}}const ms={class:"px-6"},ps={class:"flex items-center border-b"},gs={key:0,class:"flex items-center justify-center my-4"},vs={key:0},_s={key:1},xs={key:2,class:"flex items-center justify-center pb-8"},ys={__name:"ConfigSearchResultsTable",props:{filters:Object},setup(p){const y=p,{changePage:C,currentPage:r,errors:h,formatters:f,isDialogOpen:v,isFetching:u,lastPage:d,openDialog:a,perPage:n,results:x,searchModel:P,updatePerpage:c,viewDetailsPane:_}=fs(y);return(j,$)=>{const k=L("Icon"),w=L("Button");return i(),S("div",ms,[t(e(ve),null,{default:s(()=>[t(e(me),null,{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(M),{class:"w-[5%]"},{default:s(()=>[...$[2]||($[2]=[b("ID",-1)])]),_:1}),t(e(M),{class:"w-[20%]"},{default:s(()=>[...$[3]||($[3]=[b("Device",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...$[4]||($[4]=[b("Command Group",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...$[5]||($[5]=[b("Filesize",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...$[6]||($[6]=[b("Config date",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...$[7]||($[7]=[b("Matches",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...$[8]||($[8]=[b("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(pe),null,{default:s(()=>[e(u)?(i(),D(ge,{key:0})):(i(!0),S(K,{key:1},q(e(x),o=>(i(),D(e(J),{key:o.id},{default:s(()=>[t(e(O),{class:"text-start"},{default:s(()=>[b(I(o.id),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(o.device_name),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(o.device_category),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(e(f).formatFileSize(o.config_filesize)),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(e(f).formatTime(o.config_date)),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[t(e(W),null,{default:s(()=>[t(e(Y),null,{default:s(()=>[t(e(Z),{"as-child":""},{default:s(()=>[t(w,{variant:"ghost",onClick:V=>e(a)("peek-config-search-matches-dialog-"+o.id),class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl"},{default:s(()=>[l("span",ps,[t(k,{icon:"charm:eye",class:"mr-2 text-muted-foreground hover:text-blue-500"}),b(" "+I(o.matches.length?o.matches.length:"No")+" match"+I(o.matches.length>1?"es":""),1)])]),_:2},1032,["onClick"])]),_:2},1024),t(e(ee),{class:"text-white bg-rcgray-800"},{default:s(()=>[...$[9]||($[9]=[l("p",null,"View Matches",-1)])]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),t(e(O),{class:"flex items-center"},{default:s(()=>[t(e(W),null,{default:s(()=>[t(e(Y),null,{default:s(()=>[t(e(Z),{"as-child":""},{default:s(()=>[t(w,{variant:"ghost",onClick:V=>e(a)("peek-config-dialog-"+o.id)},{default:s(()=>[t(k,{icon:"lets-icons:view-alt-fill",class:"size-6 text-muted-foreground hover:text-blue-500"})]),_:1},8,["onClick"])]),_:2},1024),t(e(ee),{class:"text-white bg-rcgray-800"},{default:s(()=>[...$[10]||($[10]=[l("p",null,"Peek Config",-1)])]),_:1})]),_:2},1024)]),_:2},1024),t(e(W),null,{default:s(()=>[t(e(Y),null,{default:s(()=>[t(e(Z),{"as-child":""},{default:s(()=>[t(w,{variant:"ghost",onClick:V=>e(_)(o.id)},{default:s(()=>[t(k,{icon:"hugeicons:file-view",class:"size-5 text-muted-foreground hover:text-blue-500"})]),_:1},8,["onClick"])]),_:2},1024),t(e(ee),{class:"text-white bg-rcgray-800"},{default:s(()=>[...$[11]||($[11]=[l("p",null,"Open Config",-1)])]),_:1})]),_:2},1024)]),_:2},1024),e(v)("peek-config-search-matches-dialog-"+o.id)?(i(),D(cs,{key:0,record:o,editId:o.id,searchString:e(P).search_string},null,8,["record","editId","searchString"])):F("",!0),e(v)("peek-config-dialog-"+o.id)?(i(),D(it,{key:1,editId:o.id},null,8,["editId"])):F("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!e(u)&&e(x).length===0?(i(),S("div",gs,[Object.keys(e(h)).length===0?(i(),S("div",vs,"No results found.")):F("",!0),Object.keys(e(h)).length?(i(),S("div",_s,[(i(!0),S(K,null,q(e(h),o=>(i(),S("span",{key:o,class:"col-span-3 col-start-2 text-sm text-red-400"},[$[12]||($[12]=l("br",null,null,-1)),b(" "+I(o[0]),1)]))),128))])):F("",!0)])):F("",!0),!e(u)&&e(x).length>0?(i(),D(_e,{key:1,currentPage:e(r),lastPage:e(d),perPage:e(n),"onUpdate:currentPage":$[0]||($[0]=o=>e(C)(o)),"onUpdate:perPage":$[1]||($[1]=o=>e(c)(o))},null,8,["currentPage","lastPage","perPage"])):F("",!0),!e(u)&&e(r)>=e(d)?(i(),S("div",xs,[...$[13]||($[13]=[l("hr",{class:"flex-grow mx-8"},null,-1),l("div",{class:"text-muted-foreground"},"No more results to load.",-1),l("hr",{class:"flex-grow mx-8"},null,-1)])])):F("",!0)])}}};function bs(p){const y=m({device_name:"",command:"",device_category:"",search_string:"",lines_before:5,lines_after:5,latest_version_only:m(!0),ignore_case:m(!0),start_date:"",end_date:""}),C=m(null),r=m([]);Q(()=>{h()});function h(){G.get("/api/configs/distinct-commands/0").then(d=>{r.value=d.data.data}).catch(d=>{createNotification({type:"danger",message:d.response.data.message})})}function f(){y.value.device_name="",y.value.command="",y.value.device_category="",y.value.search_string="",y.value.lines_before=5,y.value.lines_after=5,y.value.latest_version_only=m(!0),y.value.ignore_case=m(!0),y.value.start_date="",y.value.end_date="",p("searchCompleted",y.value)}function v(d){if(d.start&&d.end){const a=`${d.start.year}-${String(d.start.month).padStart(2,"0")}-${String(d.start.day).padStart(2,"0")}`,n=`${d.end.year}-${String(d.end.month).padStart(2,"0")}-${String(d.end.day).padStart(2,"0")}`;y.start_date=a,y.end_date=n}else y.start_date="",y.end_date="";C.value=d}function u(){p("searchCompleted",y.value)}return{clearAll:f,commands:r,model:y,performSearch:u,setDates:v}}const hs={key:0,class:"space-y-2"},$s={key:0,class:"grid gap-3"},Cs={class:"grid items-center"},ks={class:"grid items-center"},ws={class:"grid items-center"},Ss={class:"grid items-center"},Ps={class:"flex items-center mt-4 space-x-4"},Ds={class:"flex items-center mb-4 space-x-4"},Rs={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2"},Is={class:"flex flex-col items-start"},Vs={class:"flex flex-col items-start"},Ls={class:"flex flex-col items-start w-full space-x-2"},Fs={__name:"ConfigSearchFilterCard",props:{isLoading:Boolean},emits:["searchCompleted"],setup(p,{emit:y}){const C=y,{clearAll:r,commands:h,model:f,performSearch:v,setDates:u}=bs(C);return(d,a)=>{const n=L("Skeleton"),x=L("Input"),P=L("Label"),c=L("Button");return i(),S("div",null,[t(e(ke),{class:"m-2 overflow-hidden"},{default:s(()=>[t(e(he),{class:"flex flex-row items-start p-4 bg-muted/50"},{default:s(()=>[...a[11]||(a[11]=[l("div",{class:"grid gap-0.5"},null,-1)])]),_:1}),t(e($e),{class:"p-4 pt-0 text-sm"},{default:s(()=>[p.isLoading?(i(),S("div",hs,[t(n,{class:"w-1/2 h-4"}),t(n,{class:"w-full h-4"}),t(n,{class:"w-full h-4"}),t(n,{class:"w-full h-4"}),t(n,{class:"w-full h-4"}),t(n,{class:"w-full h-4"}),t(n,{class:"w-full h-4"}),t(n,{class:"w-full h-4"}),t(n,{class:"w-full h-4"})])):F("",!0),t(Ce,{name:"fade"},{default:s(()=>[p.isLoading?F("",!0):(i(),S("div",$s,[l("div",Cs,[t(e(re),{modelValue:e(f).command,"onUpdate:modelValue":a[0]||(a[0]=_=>e(f).command=_)},{default:s(()=>[t(e(ie),{class:"w-full"},{default:s(()=>[t(e(de),{class:"placeholder:text-muted-foreground",placeholder:"Select a command"})]),_:1}),t(e(ue),{class:"w-full mb-1 focus:outline-none focus-visible:ring-0"},{default:s(()=>[t(e(fe),null,{default:s(()=>[(i(!0),S(K,null,q(e(h),_=>(i(),D(e(ce),{value:_.command},{default:s(()=>[b(I(_.command),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[12]||(a[12]=l("p",{class:"ml-1 text-xs text-muted-foreground"},[b(" Required "),l("span",{class:"text-red-400"},"*")],-1))]),l("div",ks,[t(x,{modelValue:e(f).search_string,"onUpdate:modelValue":a[1]||(a[1]=_=>e(f).search_string=_),id:"search_string",autocomplete:"off",placeholder:"Search String",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[13]||(a[13]=l("p",{class:"ml-1 text-xs text-muted-foreground"},[b(" Required "),l("span",{class:"text-red-400"},"*")],-1))]),l("div",ws,[t(x,{modelValue:e(f).device_name,"onUpdate:modelValue":a[2]||(a[2]=_=>e(f).device_name=_),id:"device_name",autocomplete:"off",placeholder:"Device Name",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[14]||(a[14]=l("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial device name",-1))]),l("div",Ss,[t(x,{modelValue:e(f).device_category,"onUpdate:modelValue":a[3]||(a[3]=_=>e(f).device_category=_),id:"device_category",autocomplete:"off",placeholder:"Command Group",class:"w-full mt-4 mb-1 focus:outline-none focus-visible:ring-0"},null,8,["modelValue"]),a[15]||(a[15]=l("p",{class:"ml-1 text-xs text-muted-foreground"},"Enter full or partial command group name",-1))]),l("div",Ps,[t(e(xe),{id:"ignore_case",checked:e(f).ignore_case,"onUpdate:checked":a[4]||(a[4]=_=>e(f).ignore_case=_)},null,8,["checked"]),a[16]||(a[16]=l("label",{for:"ignore_case",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Ignore Case ",-1))]),l("div",Ds,[t(e(xe),{id:"latest_version_only",checked:e(f).latest_version_only,"onUpdate:checked":a[5]||(a[5]=_=>e(f).latest_version_only=_)},null,8,["checked"]),a[17]||(a[17]=l("label",{for:"latest_version_only",class:"text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Latest Version Only ",-1))]),l("div",Rs,[l("div",Is,[t(x,{type:"number",id:"lines_before",modelValue:e(f).lines_before,"onUpdate:modelValue":a[6]||(a[6]=_=>e(f).lines_before=_)},null,8,["modelValue"]),t(P,{for:"lines_before",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>[...a[18]||(a[18]=[b(" Lines Before ",-1)])]),_:1})]),l("div",Vs,[t(x,{type:"number",id:"lines_after",modelValue:e(f).lines_after,"onUpdate:modelValue":a[7]||(a[7]=_=>e(f).lines_after=_)},null,8,["modelValue"]),t(P,{for:"lines_after",class:"mt-2 text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:s(()=>[...a[19]||(a[19]=[b(" Lines After ",-1)])]),_:1})])]),l("div",Ls,[t(Be,{class:"w-full",onDateChange:a[8]||(a[8]=_=>e(u)(_))}),a[20]||(a[20]=l("p",{class:"ml-1 text-xs text-muted-foreground"},"Set date range. Last 7 days by default",-1))])]))]),_:1})]),_:1}),t(e(Me),{class:"flex flex-row items-center justify-end px-4 py-2 border-t bg-muted/50"},{default:s(()=>[p.isLoading?F("",!0):(i(),D(c,{key:0,variant:"outline",onClick:a[9]||(a[9]=_=>e(r)()),class:"flex items-center h-6 px-2 py-1 ml-2 text-xs text-muted-foreground"},{default:s(()=>[...a[21]||(a[21]=[b(" Clear ",-1)])]),_:1})),p.isLoading?F("",!0):(i(),D(c,{key:1,variant:"primary",onClick:a[10]||(a[10]=_=>e(v)()),class:"h-6 px-2 py-1 ml-2 text-xs bg-blue-600 hover:bg-blue-700 hover:animate-pulse"},{default:s(()=>[...a[22]||(a[22]=[b(" Search ",-1)])]),_:1}))]),_:1})]),_:1})])}}},js={class:"w-screen h-[calc(100vh-72px)] border",style:{display:"flex","flex-direction":"column","background-color":"rgb(27, 29, 33)","border-radius":"16px",margin:"4px 8px 8px","max-width":"calc(100% - 16px)",overflow:"hidden"}},zs={class:"flex justify-between w-full p-2 border-b"},Bs={class:"flex items-center justify-between p-2 mb-4 border-b"},Ms={class:"flex items-center justify-between p-2 mb-2 border-b"},Os={__name:"ConfigSearch",setup(p){const y=m({}),C=ae(),r=m(null),h=m(!1),f=a=>{y.value={...a}},v=()=>{C.go(-1)};function u(){r!=null&&r.value.isCollapsed?r==null||r.value.expand():r==null||r.value.collapse(),h.value=!h.value}function d(){r!=null&&r.value.isCollapsed?r==null||r.value.expand():r==null||r.value.collapse(),h.value=!h.value}return(a,n)=>{const x=L("Button"),P=L("ResizablePanel"),c=L("ResizableHandle"),_=L("ResizablePanelGroup");return i(),S("div",js,[l("div",zs,[t(x,{onClick:n[0]||(n[0]=j=>v()),size:"sm",variant:"outline",class:"gap-1 border-none hover:bg-rcgray-800"},{default:s(()=>[t(e(Oe),{size:"16",class:"text-muted-foreground hover:animate-pulse"})]),_:1}),n[3]||(n[3]=l("h2",{class:"items-center content-center text-muted-foreground"},"Config Search",-1)),n[4]||(n[4]=l("div",{class:"flex justify-end"},null,-1))]),t(_,{direction:"horizontal",class:""},{default:s(()=>[t(P,{"default-size":25,"max-size":30,"min-size":10,collapsible:"","collapsed-size":0,ref_key:"panelElement4",ref:r,class:"h-[86vh]"},{default:s(()=>[l("div",Bs,[n[5]||(n[5]=l("h1",{class:"ml-4 text-sm font-semibold"},"Search Options",-1)),t(we,{class:"mr-2",onClose:n[1]||(n[1]=j=>u())})]),t(Fs,{onSearchCompleted:f})]),_:1},512),t(c,{"with-handle":""}),t(P,{class:"h-[86vh]"},{default:s(()=>[t(e(te),{class:"border border-none rounded-md"},{default:s(()=>[l("div",null,[l("div",Ms,[t(Se,{class:"ml-2",onOpenNav:n[2]||(n[2]=j=>d()),navPanelBtnState:h.value},null,8,["navPanelBtnState"]),l("h1",{class:oe(["w-full text-sm font-semibold",h.value===!1?"ml-2 ":""])}," Results ",2)]),t(ys,{filters:y.value},null,8,["filters"])])]),_:1})]),_:1})]),_:1})])}}},Us={class:"relative"},Ns={key:0,class:"flex items-center justify-center py-12"},Ts={key:1,class:"max-h-[70vh] overflow-y-auto"},As=["innerHTML"],Ks={__name:"ReportViewModal",props:{report_id:{type:[String,Number],required:!0},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen"],setup(p,{emit:y}){const C=p,r=y,{toastError:h}=X(),f=m(""),v=m(!0);E(()=>C.isOpen,a=>{a&&u()}),Q(()=>{C.isOpen&&u()});function u(){v.value=!0,axios.get(`/api/reports/${C.report_id}`).then(a=>{const n=a.data.match(/<body[^>]*>([\s\S]*?)<\/body>/i);f.value=n?n[0]:a.data,v.value=!1}).catch(a=>{var n,x;f.value='<h1 class="text-center text-red-600">Error: File not Found!</h1>',v.value=!1,h("Error","Failed to load report",{description:((x=(n=a.response)==null?void 0:n.data)==null?void 0:x.message)||"An error occurred while loading the report."})})}function d(){r("update:isOpen",!1)}return(a,n)=>{const x=L("Button");return i(),D(e(Fe),{open:p.isOpen,"onUpdate:open":d},{default:s(()=>[t(e(De),{class:"w-full max-w-5xl"},{default:s(()=>[t(e(Re),null,{default:s(()=>[t(e(Ie),null,{default:s(()=>[...n[0]||(n[0]=[b("Report Viewer",-1)])]),_:1}),v.value?F("",!0):(i(),D(e(Ve),{key:0,class:"text-sm text-muted-foreground"},{default:s(()=>[b(" Viewing report ID: "+I(p.report_id),1)]),_:1}))]),_:1}),l("div",Us,[v.value?(i(),S("div",Ns,[t(e(yt),{class:"w-8 h-8 animate-spin text-primary"})])):(i(),S("div",Ts,[l("div",{innerHTML:f.value},null,8,As)]))]),t(e(Le),null,{default:s(()=>[t(x,{variant:"outline",onClick:d},{default:s(()=>[...n[1]||(n[1]=[b("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}},qs=je(Ks,[["__scopeId","data-v-449c7c54"]]);function Hs(){const p=m(1),y=ft(),C=m(y.get("useConfigReportsTable","perPage",10)),r=m("-id"),h=m(""),f=m({}),v=m([]),u=m(!1),d=m(1),a=m(0),n=m(0),x=m(1),P=m(!1),c=m(!1),_=m(null),j=ne(),{openDialog:$}=j,{toastSuccess:k,toastError:w}=X(),{reload:o}=pt(B),{toggleSort:V}=mt(r,B,"useConfigReportsTable");async function B(N={}){u.value=!0;try{const T=await G.get("/api/reports",{params:{page:p.value,perPage:C.value,sort:r.value,...f.value}});v.value=T.data,d.value=T.data.last_page,a.value=T.data.total}catch(T){console.error("Error fetching reports:",T),w("Error","Failed to fetch reports.")}finally{u.value=!1}}function g(N){_.value=N,c.value=!0}const z=async N=>{try{await G.delete(`/api/reports/${N}`),B(),k("Report Deleted","The report has been deleted successfully."),P.value=!1}catch(T){T.status===422?w("Error",T.response.data.message):(console.error("Error deleting Report:",T),w("Error","Failed to delete Report."))}},A=async N=>{try{await G.post("/api/reports/delete-many",{ids:N}),B(),k("Reports Deleted","The reports have been deleted successfully."),P.value=!1,Te.emit("deleteManyReportsSuccess")}catch(T){T.status===422?w("Error",T.response.data.message):(console.error("Error deleting Reports:",T),w("Error","Failed to delete Reports.")),P.value=!1}},H=N=>{n.value=N,x.value=Math.random(),$("DialogNewReport")};function U(N){N.altKey&&N.key==="n"&&(N.preventDefault(),$("DialogNewReport"))}const R=st(()=>{f.value["filter[q]"]=h.value,p.value=1,B()},500);return E(p,()=>{B()}),E(h,()=>{R()}),E(C,()=>{y.set("useConfigReportsTable","perPage",C.value),B()}),Q(()=>{B(),window.addEventListener("keydown",U)}),Pe(()=>{window.removeEventListener("keydown",U)}),{reports:v,isLoading:u,currentPage:p,perPage:C,lastPage:d,totalRecords:a,searchTerm:h,showConfirmDelete:P,reload:o,sortParam:r,isReportViewModalOpen:c,currentReportId:_,deleteReport:z,deleteManyReports:A,viewEditDialog:H,toggleSort:V,openReportViewModal:g}}const Es={class:"flex flex-col h-full gap-1 text-center"},Gs={class:"flex items-center justify-between p-4"},Qs={class:"flex items-center"},Js={class:"flex items-center justify-end"},Xs={class:"px-6"},Ws={class:"border-b"},Ys={__name:"ConfigReportsTable",setup(p){const{reports:y,isLoading:C,currentPage:r,perPage:h,lastPage:f,totalRecords:v,searchTerm:u,showConfirmDelete:d,reload:a,sortParam:n,isReportViewModalOpen:x,currentReportId:P,deleteReport:c,deleteManyReports:_,toggleSort:j,openReportViewModal:$}=Hs(),{selectedRows:k,selectAll:w,toggleSelectAll:o,toggleSelectRow:V}=Ue(y);return Q(()=>{Te.on("deleteManyReportsSuccess",()=>{k.value=[],w.value=!1})}),(B,g)=>{const z=L("Input"),A=L("Button"),H=L("RcIcon"),U=L("Checkbox");return i(),S("div",Es,[l("div",Gs,[l("div",Qs,[t(z,{class:"max-w-sm ml-4 mr-2",autocomplete:"off","data-1p-ignore":"","data-lpignore":"true",placeholder:"Filter reports",modelValue:e(u),"onUpdate:modelValue":g[0]||(g[0]=R=>se(u)?u.value=R:null)},null,8,["modelValue"]),e(u)?(i(),D(gt,{key:0,"onUpdate:modelValue":g[1]||(g[1]=R=>u.value="")})):F("",!0)]),l("div",Js,[e(k).length?(i(),D(A,{key:0,class:"px-2 py-1 bg-red-600 hover:bg-red-700 hover:animate-pulse",size:"md",onClick:g[2]||(g[2]=ze(R=>d.value=!0,["prevent"])),variant:"primary"},{default:s(()=>[b("Delete Selected "+I(e(k).length)+" Report(s) ",1)]),_:1})):F("",!0),t(H,{name:"refresh",class:"w-4 h-4 mx-4 text-muted-foreground cursor-pointer hover:text-rcgray-200",onClick:g[3]||(g[3]=R=>e(a)())})])]),l("div",Xs,[t(e(ve),null,{default:s(()=>[t(e(me),null,{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(M),{class:"w-[2%]"},{default:s(()=>[t(U,{id:"selectAll",modelValue:e(w),"onUpdate:modelValue":g[4]||(g[4]=R=>se(w)?w.value=R:null),checked:e(w),onClick:g[5]||(g[5]=R=>e(o)())},null,8,["modelValue","checked"])]),_:1}),t(e(M),{class:"w-[5%]"},{default:s(()=>[t(A,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:g[6]||(g[6]=R=>e(j)("id"))},{default:s(()=>[t(H,{name:"sort",sortParam:e(n),field:"id"},null,8,["sortParam"]),g[14]||(g[14]=l("span",{class:"ml-2"},"ID",-1))]),_:1})]),_:1}),t(e(M),{class:"w-[20%]"},{default:s(()=>[t(A,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:g[7]||(g[7]=R=>e(j)("report_name"))},{default:s(()=>[t(H,{name:"sort",sortParam:e(n),field:"report_name"},null,8,["sortParam"]),g[15]||(g[15]=l("span",{class:"ml-2"},"Name",-1))]),_:1})]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...g[16]||(g[16]=[b("Task ID",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...g[17]||(g[17]=[b("Task Name",-1)])]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[t(A,{class:"flex justify-start w-full p-0 hover:bg-rcgray-800",variant:"ghost",onClick:g[8]||(g[8]=R=>e(j)("created_at"))},{default:s(()=>[t(H,{name:"sort",sortParam:e(n),field:"created_at"},null,8,["sortParam"]),g[18]||(g[18]=l("span",{class:"ml-2"},"Created",-1))]),_:1})]),_:1}),t(e(M),{class:"w-[10%]"},{default:s(()=>[...g[19]||(g[19]=[b("Actions",-1)])]),_:1})]),_:1})]),_:1}),t(e(pe),null,{default:s(()=>[e(C)?(i(),D(ge,{key:0})):e(C)?(i(),D(Ne,{key:2})):(i(!0),S(K,{key:1},q(e(y).data,R=>(i(),D(e(J),{key:R.id},{default:s(()=>[t(e(O),{class:"text-start"},{default:s(()=>[t(U,{class:"cursor-pointer",id:"select-"+R.id,checked:!!e(k).includes(R.id),onClick:N=>e(V)(R.id)},null,8,["id","checked","onClick"])]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(R.id),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[t(A,{class:"px-2 py-0 hover:bg-rcgray-800 rounded-xl",variant:"ghost",onClick:N=>e($)(R.report_id)},{default:s(()=>[l("span",Ws,I(R.report_name),1)]),_:2},1032,["onClick"])]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(R.task_id),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(R.task_name),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[b(I(R.created_at),1)]),_:2},1024),t(e(O),{class:"text-start"},{default:s(()=>[t(vt,{showEditBtn:!1,rowData:R,onOnDelete:N=>e(c)(R.id)},null,8,["rowData","onOnDelete"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(_e,{currentPage:e(r),lastPage:e(f),perPage:e(h),"onUpdate:currentPage":g[9]||(g[9]=R=>r.value=R),"onUpdate:perPage":g[10]||(g[10]=R=>h.value=R),totalRecords:e(v),isLoading:e(C)},null,8,["currentPage","lastPage","perPage","totalRecords","isLoading"]),t(_t,{ids:e(k),showConfirmDelete:e(d),onClose:g[11]||(g[11]=R=>d.value=!1),onHandleDelete:g[12]||(g[12]=R=>e(_)(e(k)))},null,8,["ids","showConfirmDelete"]),e(P)?(i(),D(qs,{key:0,report_id:e(P),isOpen:e(x),"onUpdate:isOpen":g[13]||(g[13]=R=>x.value=R)},null,8,["report_id","isOpen"])):F("",!0)])])}}},Zs={class:"flex flex-col flex-1 gap-2 dark:bg-rcgray-900"},el={class:"flex flex-row items-center justify-between h-12 gap-3 px-5 border-t border-b"},tl={class:"flex justify-start items-center"},sl=["onClick"],ll={class:"text-2xl text-muted-foreground"},al={__name:"Main",setup(p){const{configsId:y,statusIdParam:C,currentView:r,viewItems:h,navPillsItems:f,handleNavSelection:v,toggleFavorite:u}=lt();return(d,a)=>{const n=L("RcIcon");return i(),S("main",Zs,[l("div",el,[l("div",tl,[t(dt,{items:e(f),modelValue:e(r),"onUpdate:modelValue":a[0]||(a[0]=x=>se(r)?r.value=x:null),"persist-key":"inventorySelectedView",onSelect:e(v)},null,8,["items","modelValue","onSelect"])]),t(e(W),null,{default:s(()=>[(i(!0),S(K,null,q(e(h),x=>(i(),D(e(Y),{key:x.id},{default:s(()=>[e(r)===x.id?(i(),D(e(Z),{key:0,"as-child":""},{default:s(()=>[l("div",{onClick:ze(P=>e(u)(x.id),["stop","prevent"]),class:"cursor-pointer"},[t(n,{name:x.isFavorite.value?"star-selected":"star-unselected"},null,8,["name"])],8,sl)]),_:2},1024)):F("",!0),t(e(ee),null,{default:s(()=>[l("p",null,I(x.isFavorite.value?"Remove from favorites":"Add "+e(r)+" to favorites"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),l("div",null,[(i(),D(nt,null,[(i(),D(at(e(r)==="configs"?ut:e(r)==="configsearch"?Os:e(r)==="configcompare"?ts:e(r)==="configreport"?Ys:null),{configsId:e(y),statusId:e(C),key:e(r)},ot({_:2},[["configsearch","configcompare"].includes(e(r))?{name:"default",fn:s(()=>[l("h1",ll,I(e(r)==="configsearch"?"Config Search":e(r)==="configcompare"?"Config Compare":"Config Reports"),1)]),key:"0"}:void 0]),1032,["configsId","statusId"]))],1024))])])}}},$l=je(al,[["__scopeId","data-v-76f28a15"]]);export{$l as default};
